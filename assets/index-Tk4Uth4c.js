var xw=t=>{throw TypeError(t)};var Mf=(t,e,n)=>e.has(t)||xw("Cannot "+n);var $=(t,e,n)=>(Mf(t,e,"read from private field"),n?n.call(t):e.get(t)),Pe=(t,e,n)=>e.has(t)?xw("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),he=(t,e,n,r)=>(Mf(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Dt=(t,e,n)=>(Mf(t,e,"access private method"),n);var su=(t,e,n,r)=>({set _(s){he(t,e,s,n)},get _(){return $(t,e,r)}});function zP(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function mx(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var gx={exports:{}},fh={},vx={exports:{}},we={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xc=Symbol.for("react.element"),HP=Symbol.for("react.portal"),WP=Symbol.for("react.fragment"),qP=Symbol.for("react.strict_mode"),KP=Symbol.for("react.profiler"),GP=Symbol.for("react.provider"),QP=Symbol.for("react.context"),YP=Symbol.for("react.forward_ref"),XP=Symbol.for("react.suspense"),JP=Symbol.for("react.memo"),ZP=Symbol.for("react.lazy"),Tw=Symbol.iterator;function eR(t){return t===null||typeof t!="object"?null:(t=Tw&&t[Tw]||t["@@iterator"],typeof t=="function"?t:null)}var yx={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},wx=Object.assign,_x={};function Aa(t,e,n){this.props=t,this.context=e,this.refs=_x,this.updater=n||yx}Aa.prototype.isReactComponent={};Aa.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Aa.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Ex(){}Ex.prototype=Aa.prototype;function Sg(t,e,n){this.props=t,this.context=e,this.refs=_x,this.updater=n||yx}var Ig=Sg.prototype=new Ex;Ig.constructor=Sg;wx(Ig,Aa.prototype);Ig.isPureReactComponent=!0;var Sw=Array.isArray,xx=Object.prototype.hasOwnProperty,bg={current:null},Tx={key:!0,ref:!0,__self:!0,__source:!0};function Sx(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)xx.call(e,r)&&!Tx.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:xc,type:t,key:i,ref:o,props:s,_owner:bg.current}}function tR(t,e){return{$$typeof:xc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Cg(t){return typeof t=="object"&&t!==null&&t.$$typeof===xc}function nR(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Iw=/\/+/g;function Lf(t,e){return typeof t=="object"&&t!==null&&t.key!=null?nR(""+t.key):e.toString(36)}function Vu(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case xc:case HP:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Lf(o,0):r,Sw(s)?(n="",t!=null&&(n=t.replace(Iw,"$&/")+"/"),Vu(s,e,n,"",function(u){return u})):s!=null&&(Cg(s)&&(s=tR(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Iw,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",Sw(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+Lf(i,a);o+=Vu(i,e,n,l,s)}else if(l=eR(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+Lf(i,a++),o+=Vu(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function iu(t,e,n){if(t==null)return t;var r=[],s=0;return Vu(t,r,"","",function(i){return e.call(n,i,s++)}),r}function rR(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Gt={current:null},Fu={transition:null},sR={ReactCurrentDispatcher:Gt,ReactCurrentBatchConfig:Fu,ReactCurrentOwner:bg};function Ix(){throw Error("act(...) is not supported in production builds of React.")}we.Children={map:iu,forEach:function(t,e,n){iu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return iu(t,function(){e++}),e},toArray:function(t){return iu(t,function(e){return e})||[]},only:function(t){if(!Cg(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};we.Component=Aa;we.Fragment=WP;we.Profiler=KP;we.PureComponent=Sg;we.StrictMode=qP;we.Suspense=XP;we.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sR;we.act=Ix;we.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=wx({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=bg.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)xx.call(e,l)&&!Tx.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:xc,type:t.type,key:s,ref:i,props:r,_owner:o}};we.createContext=function(t){return t={$$typeof:QP,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:GP,_context:t},t.Consumer=t};we.createElement=Sx;we.createFactory=function(t){var e=Sx.bind(null,t);return e.type=t,e};we.createRef=function(){return{current:null}};we.forwardRef=function(t){return{$$typeof:YP,render:t}};we.isValidElement=Cg;we.lazy=function(t){return{$$typeof:ZP,_payload:{_status:-1,_result:t},_init:rR}};we.memo=function(t,e){return{$$typeof:JP,type:t,compare:e===void 0?null:e}};we.startTransition=function(t){var e=Fu.transition;Fu.transition={};try{t()}finally{Fu.transition=e}};we.unstable_act=Ix;we.useCallback=function(t,e){return Gt.current.useCallback(t,e)};we.useContext=function(t){return Gt.current.useContext(t)};we.useDebugValue=function(){};we.useDeferredValue=function(t){return Gt.current.useDeferredValue(t)};we.useEffect=function(t,e){return Gt.current.useEffect(t,e)};we.useId=function(){return Gt.current.useId()};we.useImperativeHandle=function(t,e,n){return Gt.current.useImperativeHandle(t,e,n)};we.useInsertionEffect=function(t,e){return Gt.current.useInsertionEffect(t,e)};we.useLayoutEffect=function(t,e){return Gt.current.useLayoutEffect(t,e)};we.useMemo=function(t,e){return Gt.current.useMemo(t,e)};we.useReducer=function(t,e,n){return Gt.current.useReducer(t,e,n)};we.useRef=function(t){return Gt.current.useRef(t)};we.useState=function(t){return Gt.current.useState(t)};we.useSyncExternalStore=function(t,e,n){return Gt.current.useSyncExternalStore(t,e,n)};we.useTransition=function(){return Gt.current.useTransition()};we.version="18.3.1";vx.exports=we;var x=vx.exports;const K=mx(x),Ag=zP({__proto__:null,default:K},[x]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iR=x,oR=Symbol.for("react.element"),aR=Symbol.for("react.fragment"),lR=Object.prototype.hasOwnProperty,cR=iR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,uR={key:!0,ref:!0,__self:!0,__source:!0};function bx(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)lR.call(e,r)&&!uR.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:oR,type:t,key:i,ref:o,props:s,_owner:cR.current}}fh.Fragment=aR;fh.jsx=bx;fh.jsxs=bx;gx.exports=fh;var d=gx.exports,Cx={exports:{}},xn={},Ax={exports:{}},Px={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(V,U){var W=V.length;V.push(U);e:for(;0<W;){var re=W-1>>>1,J=V[re];if(0<s(J,U))V[re]=U,V[W]=J,W=re;else break e}}function n(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var U=V[0],W=V.pop();if(W!==U){V[0]=W;e:for(var re=0,J=V.length,Z=J>>>1;re<Z;){var se=2*(re+1)-1,Ie=V[se],Me=se+1,Y=V[Me];if(0>s(Ie,W))Me<J&&0>s(Y,Ie)?(V[re]=Y,V[Me]=W,re=Me):(V[re]=Ie,V[se]=W,re=se);else if(Me<J&&0>s(Y,W))V[re]=Y,V[Me]=W,re=Me;else break e}}return U}function s(V,U){var W=V.sortIndex-U.sortIndex;return W!==0?W:V.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],h=1,f=null,m=3,g=!1,S=!1,y=!1,E=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(V){for(var U=n(u);U!==null;){if(U.callback===null)r(u);else if(U.startTime<=V)r(u),U.sortIndex=U.expirationTime,e(l,U);else break;U=n(u)}}function k(V){if(y=!1,_(V),!S)if(n(l)!==null)S=!0,G(D);else{var U=n(u);U!==null&&X(k,U.startTime-V)}}function D(V,U){S=!1,y&&(y=!1,T(I),I=-1),g=!0;var W=m;try{for(_(U),f=n(l);f!==null&&(!(f.expirationTime>U)||V&&!N());){var re=f.callback;if(typeof re=="function"){f.callback=null,m=f.priorityLevel;var J=re(f.expirationTime<=U);U=t.unstable_now(),typeof J=="function"?f.callback=J:f===n(l)&&r(l),_(U)}else r(l);f=n(l)}if(f!==null)var Z=!0;else{var se=n(u);se!==null&&X(k,se.startTime-U),Z=!1}return Z}finally{f=null,m=W,g=!1}}var M=!1,b=null,I=-1,A=5,P=-1;function N(){return!(t.unstable_now()-P<A)}function O(){if(b!==null){var V=t.unstable_now();P=V;var U=!0;try{U=b(!0,V)}finally{U?R():(M=!1,b=null)}}else M=!1}var R;if(typeof w=="function")R=function(){w(O)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,q=j.port2;j.port1.onmessage=O,R=function(){q.postMessage(null)}}else R=function(){E(O,0)};function G(V){b=V,M||(M=!0,R())}function X(V,U){I=E(function(){V(t.unstable_now())},U)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(V){V.callback=null},t.unstable_continueExecution=function(){S||g||(S=!0,G(D))},t.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<V?Math.floor(1e3/V):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(V){switch(m){case 1:case 2:case 3:var U=3;break;default:U=m}var W=m;m=U;try{return V()}finally{m=W}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(V,U){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var W=m;m=V;try{return U()}finally{m=W}},t.unstable_scheduleCallback=function(V,U,W){var re=t.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?re+W:re):W=re,V){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=W+J,V={id:h++,callback:U,priorityLevel:V,startTime:W,expirationTime:J,sortIndex:-1},W>re?(V.sortIndex=W,e(u,V),n(l)===null&&V===n(u)&&(y?(T(I),I=-1):y=!0,X(k,W-re))):(V.sortIndex=J,e(l,V),S||g||(S=!0,G(D))),V},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(V){var U=m;return function(){var W=m;m=U;try{return V.apply(this,arguments)}finally{m=W}}}})(Px);Ax.exports=Px;var dR=Ax.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hR=x,En=dR;function H(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Rx=new Set,$l={};function Zi(t,e){ca(t,e),ca(t+"Capture",e)}function ca(t,e){for($l[t]=e,t=0;t<e.length;t++)Rx.add(e[t])}var Kr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Vp=Object.prototype.hasOwnProperty,fR=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,bw={},Cw={};function pR(t){return Vp.call(Cw,t)?!0:Vp.call(bw,t)?!1:fR.test(t)?Cw[t]=!0:(bw[t]=!0,!1)}function mR(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function gR(t,e,n,r){if(e===null||typeof e>"u"||mR(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Qt(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var At={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){At[t]=new Qt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];At[e]=new Qt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){At[t]=new Qt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){At[t]=new Qt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){At[t]=new Qt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){At[t]=new Qt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){At[t]=new Qt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){At[t]=new Qt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){At[t]=new Qt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Pg=/[\-:]([a-z])/g;function Rg(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Pg,Rg);At[e]=new Qt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Pg,Rg);At[e]=new Qt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Pg,Rg);At[e]=new Qt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){At[t]=new Qt(t,1,!1,t.toLowerCase(),null,!1,!1)});At.xlinkHref=new Qt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){At[t]=new Qt(t,1,!1,t.toLowerCase(),null,!0,!0)});function kg(t,e,n,r){var s=At.hasOwnProperty(e)?At[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(gR(e,n,s,r)&&(n=null),r||s===null?pR(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var rs=hR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ou=Symbol.for("react.element"),Ao=Symbol.for("react.portal"),Po=Symbol.for("react.fragment"),Ng=Symbol.for("react.strict_mode"),Fp=Symbol.for("react.profiler"),kx=Symbol.for("react.provider"),Nx=Symbol.for("react.context"),Og=Symbol.for("react.forward_ref"),Up=Symbol.for("react.suspense"),$p=Symbol.for("react.suspense_list"),Dg=Symbol.for("react.memo"),gs=Symbol.for("react.lazy"),Ox=Symbol.for("react.offscreen"),Aw=Symbol.iterator;function nl(t){return t===null||typeof t!="object"?null:(t=Aw&&t[Aw]||t["@@iterator"],typeof t=="function"?t:null)}var Xe=Object.assign,Vf;function fl(t){if(Vf===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Vf=e&&e[1]||""}return`
`+Vf+t}var Ff=!1;function Uf(t,e){if(!t||Ff)return"";Ff=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Ff=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?fl(t):""}function vR(t){switch(t.tag){case 5:return fl(t.type);case 16:return fl("Lazy");case 13:return fl("Suspense");case 19:return fl("SuspenseList");case 0:case 2:case 15:return t=Uf(t.type,!1),t;case 11:return t=Uf(t.type.render,!1),t;case 1:return t=Uf(t.type,!0),t;default:return""}}function Bp(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Po:return"Fragment";case Ao:return"Portal";case Fp:return"Profiler";case Ng:return"StrictMode";case Up:return"Suspense";case $p:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Nx:return(t.displayName||"Context")+".Consumer";case kx:return(t._context.displayName||"Context")+".Provider";case Og:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Dg:return e=t.displayName||null,e!==null?e:Bp(t.type)||"Memo";case gs:e=t._payload,t=t._init;try{return Bp(t(e))}catch{}}return null}function yR(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Bp(e);case 8:return e===Ng?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ks(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Dx(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function wR(t){var e=Dx(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function au(t){t._valueTracker||(t._valueTracker=wR(t))}function jx(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Dx(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function pd(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function zp(t,e){var n=e.checked;return Xe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Pw(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ks(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Mx(t,e){e=e.checked,e!=null&&kg(t,"checked",e,!1)}function Hp(t,e){Mx(t,e);var n=Ks(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Wp(t,e.type,n):e.hasOwnProperty("defaultValue")&&Wp(t,e.type,Ks(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Rw(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Wp(t,e,n){(e!=="number"||pd(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var pl=Array.isArray;function $o(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ks(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function qp(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(H(91));return Xe({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function kw(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(H(92));if(pl(n)){if(1<n.length)throw Error(H(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ks(n)}}function Lx(t,e){var n=Ks(e.value),r=Ks(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Nw(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Vx(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Kp(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Vx(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var lu,Fx=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(lu=lu||document.createElement("div"),lu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=lu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Bl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Sl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},_R=["Webkit","ms","Moz","O"];Object.keys(Sl).forEach(function(t){_R.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Sl[e]=Sl[t]})});function Ux(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Sl.hasOwnProperty(t)&&Sl[t]?(""+e).trim():e+"px"}function $x(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Ux(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var ER=Xe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Gp(t,e){if(e){if(ER[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(H(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(H(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(H(61))}if(e.style!=null&&typeof e.style!="object")throw Error(H(62))}}function Qp(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Yp=null;function jg(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Xp=null,Bo=null,zo=null;function Ow(t){if(t=Ic(t)){if(typeof Xp!="function")throw Error(H(280));var e=t.stateNode;e&&(e=yh(e),Xp(t.stateNode,t.type,e))}}function Bx(t){Bo?zo?zo.push(t):zo=[t]:Bo=t}function zx(){if(Bo){var t=Bo,e=zo;if(zo=Bo=null,Ow(t),e)for(t=0;t<e.length;t++)Ow(e[t])}}function Hx(t,e){return t(e)}function Wx(){}var $f=!1;function qx(t,e,n){if($f)return t(e,n);$f=!0;try{return Hx(t,e,n)}finally{$f=!1,(Bo!==null||zo!==null)&&(Wx(),zx())}}function zl(t,e){var n=t.stateNode;if(n===null)return null;var r=yh(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(H(231,e,typeof n));return n}var Jp=!1;if(Kr)try{var rl={};Object.defineProperty(rl,"passive",{get:function(){Jp=!0}}),window.addEventListener("test",rl,rl),window.removeEventListener("test",rl,rl)}catch{Jp=!1}function xR(t,e,n,r,s,i,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(h){this.onError(h)}}var Il=!1,md=null,gd=!1,Zp=null,TR={onError:function(t){Il=!0,md=t}};function SR(t,e,n,r,s,i,o,a,l){Il=!1,md=null,xR.apply(TR,arguments)}function IR(t,e,n,r,s,i,o,a,l){if(SR.apply(this,arguments),Il){if(Il){var u=md;Il=!1,md=null}else throw Error(H(198));gd||(gd=!0,Zp=u)}}function eo(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Kx(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Dw(t){if(eo(t)!==t)throw Error(H(188))}function bR(t){var e=t.alternate;if(!e){if(e=eo(t),e===null)throw Error(H(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Dw(s),t;if(i===r)return Dw(s),e;i=i.sibling}throw Error(H(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(H(189))}}if(n.alternate!==r)throw Error(H(190))}if(n.tag!==3)throw Error(H(188));return n.stateNode.current===n?t:e}function Gx(t){return t=bR(t),t!==null?Qx(t):null}function Qx(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Qx(t);if(e!==null)return e;t=t.sibling}return null}var Yx=En.unstable_scheduleCallback,jw=En.unstable_cancelCallback,CR=En.unstable_shouldYield,AR=En.unstable_requestPaint,st=En.unstable_now,PR=En.unstable_getCurrentPriorityLevel,Mg=En.unstable_ImmediatePriority,Xx=En.unstable_UserBlockingPriority,vd=En.unstable_NormalPriority,RR=En.unstable_LowPriority,Jx=En.unstable_IdlePriority,ph=null,gr=null;function kR(t){if(gr&&typeof gr.onCommitFiberRoot=="function")try{gr.onCommitFiberRoot(ph,t,void 0,(t.current.flags&128)===128)}catch{}}var Qn=Math.clz32?Math.clz32:DR,NR=Math.log,OR=Math.LN2;function DR(t){return t>>>=0,t===0?32:31-(NR(t)/OR|0)|0}var cu=64,uu=4194304;function ml(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function yd(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=ml(a):(i&=o,i!==0&&(r=ml(i)))}else o=n&~s,o!==0?r=ml(o):i!==0&&(r=ml(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Qn(e),s=1<<n,r|=t[n],e&=~s;return r}function jR(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function MR(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Qn(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=jR(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function em(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Zx(){var t=cu;return cu<<=1,!(cu&4194240)&&(cu=64),t}function Bf(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Tc(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Qn(e),t[e]=n}function LR(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Qn(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Lg(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Qn(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var je=0;function eT(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var tT,Vg,nT,rT,sT,tm=!1,du=[],js=null,Ms=null,Ls=null,Hl=new Map,Wl=new Map,ys=[],VR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mw(t,e){switch(t){case"focusin":case"focusout":js=null;break;case"dragenter":case"dragleave":Ms=null;break;case"mouseover":case"mouseout":Ls=null;break;case"pointerover":case"pointerout":Hl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wl.delete(e.pointerId)}}function sl(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Ic(e),e!==null&&Vg(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function FR(t,e,n,r,s){switch(e){case"focusin":return js=sl(js,t,e,n,r,s),!0;case"dragenter":return Ms=sl(Ms,t,e,n,r,s),!0;case"mouseover":return Ls=sl(Ls,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Hl.set(i,sl(Hl.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Wl.set(i,sl(Wl.get(i)||null,t,e,n,r,s)),!0}return!1}function iT(t){var e=bi(t.target);if(e!==null){var n=eo(e);if(n!==null){if(e=n.tag,e===13){if(e=Kx(n),e!==null){t.blockedOn=e,sT(t.priority,function(){nT(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Uu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=nm(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Yp=r,n.target.dispatchEvent(r),Yp=null}else return e=Ic(n),e!==null&&Vg(e),t.blockedOn=n,!1;e.shift()}return!0}function Lw(t,e,n){Uu(t)&&n.delete(e)}function UR(){tm=!1,js!==null&&Uu(js)&&(js=null),Ms!==null&&Uu(Ms)&&(Ms=null),Ls!==null&&Uu(Ls)&&(Ls=null),Hl.forEach(Lw),Wl.forEach(Lw)}function il(t,e){t.blockedOn===e&&(t.blockedOn=null,tm||(tm=!0,En.unstable_scheduleCallback(En.unstable_NormalPriority,UR)))}function ql(t){function e(s){return il(s,t)}if(0<du.length){il(du[0],t);for(var n=1;n<du.length;n++){var r=du[n];r.blockedOn===t&&(r.blockedOn=null)}}for(js!==null&&il(js,t),Ms!==null&&il(Ms,t),Ls!==null&&il(Ls,t),Hl.forEach(e),Wl.forEach(e),n=0;n<ys.length;n++)r=ys[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ys.length&&(n=ys[0],n.blockedOn===null);)iT(n),n.blockedOn===null&&ys.shift()}var Ho=rs.ReactCurrentBatchConfig,wd=!0;function $R(t,e,n,r){var s=je,i=Ho.transition;Ho.transition=null;try{je=1,Fg(t,e,n,r)}finally{je=s,Ho.transition=i}}function BR(t,e,n,r){var s=je,i=Ho.transition;Ho.transition=null;try{je=4,Fg(t,e,n,r)}finally{je=s,Ho.transition=i}}function Fg(t,e,n,r){if(wd){var s=nm(t,e,n,r);if(s===null)Jf(t,e,r,_d,n),Mw(t,r);else if(FR(s,t,e,n,r))r.stopPropagation();else if(Mw(t,r),e&4&&-1<VR.indexOf(t)){for(;s!==null;){var i=Ic(s);if(i!==null&&tT(i),i=nm(t,e,n,r),i===null&&Jf(t,e,r,_d,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Jf(t,e,r,null,n)}}var _d=null;function nm(t,e,n,r){if(_d=null,t=jg(r),t=bi(t),t!==null)if(e=eo(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Kx(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return _d=t,null}function oT(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(PR()){case Mg:return 1;case Xx:return 4;case vd:case RR:return 16;case Jx:return 536870912;default:return 16}default:return 16}}var ks=null,Ug=null,$u=null;function aT(){if($u)return $u;var t,e=Ug,n=e.length,r,s="value"in ks?ks.value:ks.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return $u=s.slice(t,1<r?1-r:void 0)}function Bu(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function hu(){return!0}function Vw(){return!1}function Tn(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?hu:Vw,this.isPropagationStopped=Vw,this}return Xe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=hu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=hu)},persist:function(){},isPersistent:hu}),e}var Pa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$g=Tn(Pa),Sc=Xe({},Pa,{view:0,detail:0}),zR=Tn(Sc),zf,Hf,ol,mh=Xe({},Sc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Bg,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ol&&(ol&&t.type==="mousemove"?(zf=t.screenX-ol.screenX,Hf=t.screenY-ol.screenY):Hf=zf=0,ol=t),zf)},movementY:function(t){return"movementY"in t?t.movementY:Hf}}),Fw=Tn(mh),HR=Xe({},mh,{dataTransfer:0}),WR=Tn(HR),qR=Xe({},Sc,{relatedTarget:0}),Wf=Tn(qR),KR=Xe({},Pa,{animationName:0,elapsedTime:0,pseudoElement:0}),GR=Tn(KR),QR=Xe({},Pa,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),YR=Tn(QR),XR=Xe({},Pa,{data:0}),Uw=Tn(XR),JR={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ZR={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ek={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function tk(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=ek[t])?!!e[t]:!1}function Bg(){return tk}var nk=Xe({},Sc,{key:function(t){if(t.key){var e=JR[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Bu(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?ZR[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Bg,charCode:function(t){return t.type==="keypress"?Bu(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Bu(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),rk=Tn(nk),sk=Xe({},mh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$w=Tn(sk),ik=Xe({},Sc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Bg}),ok=Tn(ik),ak=Xe({},Pa,{propertyName:0,elapsedTime:0,pseudoElement:0}),lk=Tn(ak),ck=Xe({},mh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),uk=Tn(ck),dk=[9,13,27,32],zg=Kr&&"CompositionEvent"in window,bl=null;Kr&&"documentMode"in document&&(bl=document.documentMode);var hk=Kr&&"TextEvent"in window&&!bl,lT=Kr&&(!zg||bl&&8<bl&&11>=bl),Bw=" ",zw=!1;function cT(t,e){switch(t){case"keyup":return dk.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function uT(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ro=!1;function fk(t,e){switch(t){case"compositionend":return uT(e);case"keypress":return e.which!==32?null:(zw=!0,Bw);case"textInput":return t=e.data,t===Bw&&zw?null:t;default:return null}}function pk(t,e){if(Ro)return t==="compositionend"||!zg&&cT(t,e)?(t=aT(),$u=Ug=ks=null,Ro=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return lT&&e.locale!=="ko"?null:e.data;default:return null}}var mk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!mk[t.type]:e==="textarea"}function dT(t,e,n,r){Bx(r),e=Ed(e,"onChange"),0<e.length&&(n=new $g("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Cl=null,Kl=null;function gk(t){xT(t,0)}function gh(t){var e=Oo(t);if(jx(e))return t}function vk(t,e){if(t==="change")return e}var hT=!1;if(Kr){var qf;if(Kr){var Kf="oninput"in document;if(!Kf){var Ww=document.createElement("div");Ww.setAttribute("oninput","return;"),Kf=typeof Ww.oninput=="function"}qf=Kf}else qf=!1;hT=qf&&(!document.documentMode||9<document.documentMode)}function qw(){Cl&&(Cl.detachEvent("onpropertychange",fT),Kl=Cl=null)}function fT(t){if(t.propertyName==="value"&&gh(Kl)){var e=[];dT(e,Kl,t,jg(t)),qx(gk,e)}}function yk(t,e,n){t==="focusin"?(qw(),Cl=e,Kl=n,Cl.attachEvent("onpropertychange",fT)):t==="focusout"&&qw()}function wk(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return gh(Kl)}function _k(t,e){if(t==="click")return gh(e)}function Ek(t,e){if(t==="input"||t==="change")return gh(e)}function xk(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Xn=typeof Object.is=="function"?Object.is:xk;function Gl(t,e){if(Xn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Vp.call(e,s)||!Xn(t[s],e[s]))return!1}return!0}function Kw(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Gw(t,e){var n=Kw(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Kw(n)}}function pT(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?pT(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function mT(){for(var t=window,e=pd();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=pd(t.document)}return e}function Hg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Tk(t){var e=mT(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&pT(n.ownerDocument.documentElement,n)){if(r!==null&&Hg(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=Gw(n,i);var o=Gw(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Sk=Kr&&"documentMode"in document&&11>=document.documentMode,ko=null,rm=null,Al=null,sm=!1;function Qw(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;sm||ko==null||ko!==pd(r)||(r=ko,"selectionStart"in r&&Hg(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Al&&Gl(Al,r)||(Al=r,r=Ed(rm,"onSelect"),0<r.length&&(e=new $g("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ko)))}function fu(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var No={animationend:fu("Animation","AnimationEnd"),animationiteration:fu("Animation","AnimationIteration"),animationstart:fu("Animation","AnimationStart"),transitionend:fu("Transition","TransitionEnd")},Gf={},gT={};Kr&&(gT=document.createElement("div").style,"AnimationEvent"in window||(delete No.animationend.animation,delete No.animationiteration.animation,delete No.animationstart.animation),"TransitionEvent"in window||delete No.transitionend.transition);function vh(t){if(Gf[t])return Gf[t];if(!No[t])return t;var e=No[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in gT)return Gf[t]=e[n];return t}var vT=vh("animationend"),yT=vh("animationiteration"),wT=vh("animationstart"),_T=vh("transitionend"),ET=new Map,Yw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ii(t,e){ET.set(t,e),Zi(e,[t])}for(var Qf=0;Qf<Yw.length;Qf++){var Yf=Yw[Qf],Ik=Yf.toLowerCase(),bk=Yf[0].toUpperCase()+Yf.slice(1);ii(Ik,"on"+bk)}ii(vT,"onAnimationEnd");ii(yT,"onAnimationIteration");ii(wT,"onAnimationStart");ii("dblclick","onDoubleClick");ii("focusin","onFocus");ii("focusout","onBlur");ii(_T,"onTransitionEnd");ca("onMouseEnter",["mouseout","mouseover"]);ca("onMouseLeave",["mouseout","mouseover"]);ca("onPointerEnter",["pointerout","pointerover"]);ca("onPointerLeave",["pointerout","pointerover"]);Zi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Zi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Zi("onBeforeInput",["compositionend","keypress","textInput","paste"]);Zi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Zi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Zi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ck=new Set("cancel close invalid load scroll toggle".split(" ").concat(gl));function Xw(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,IR(r,e,void 0,t),t.currentTarget=null}function xT(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;Xw(s,a,u),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;Xw(s,a,u),i=l}}}if(gd)throw t=Zp,gd=!1,Zp=null,t}function Be(t,e){var n=e[cm];n===void 0&&(n=e[cm]=new Set);var r=t+"__bubble";n.has(r)||(TT(e,t,2,!1),n.add(r))}function Xf(t,e,n){var r=0;e&&(r|=4),TT(n,t,r,e)}var pu="_reactListening"+Math.random().toString(36).slice(2);function Ql(t){if(!t[pu]){t[pu]=!0,Rx.forEach(function(n){n!=="selectionchange"&&(Ck.has(n)||Xf(n,!1,t),Xf(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[pu]||(e[pu]=!0,Xf("selectionchange",!1,e))}}function TT(t,e,n,r){switch(oT(e)){case 1:var s=$R;break;case 4:s=BR;break;default:s=Fg}n=s.bind(null,e,n,t),s=void 0,!Jp||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Jf(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=bi(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}qx(function(){var u=i,h=jg(n),f=[];e:{var m=ET.get(t);if(m!==void 0){var g=$g,S=t;switch(t){case"keypress":if(Bu(n)===0)break e;case"keydown":case"keyup":g=rk;break;case"focusin":S="focus",g=Wf;break;case"focusout":S="blur",g=Wf;break;case"beforeblur":case"afterblur":g=Wf;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Fw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=WR;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=ok;break;case vT:case yT:case wT:g=GR;break;case _T:g=lk;break;case"scroll":g=zR;break;case"wheel":g=uk;break;case"copy":case"cut":case"paste":g=YR;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=$w}var y=(e&4)!==0,E=!y&&t==="scroll",T=y?m!==null?m+"Capture":null:m;y=[];for(var w=u,_;w!==null;){_=w;var k=_.stateNode;if(_.tag===5&&k!==null&&(_=k,T!==null&&(k=zl(w,T),k!=null&&y.push(Yl(w,k,_)))),E)break;w=w.return}0<y.length&&(m=new g(m,S,null,n,h),f.push({event:m,listeners:y}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",m&&n!==Yp&&(S=n.relatedTarget||n.fromElement)&&(bi(S)||S[Gr]))break e;if((g||m)&&(m=h.window===h?h:(m=h.ownerDocument)?m.defaultView||m.parentWindow:window,g?(S=n.relatedTarget||n.toElement,g=u,S=S?bi(S):null,S!==null&&(E=eo(S),S!==E||S.tag!==5&&S.tag!==6)&&(S=null)):(g=null,S=u),g!==S)){if(y=Fw,k="onMouseLeave",T="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(y=$w,k="onPointerLeave",T="onPointerEnter",w="pointer"),E=g==null?m:Oo(g),_=S==null?m:Oo(S),m=new y(k,w+"leave",g,n,h),m.target=E,m.relatedTarget=_,k=null,bi(h)===u&&(y=new y(T,w+"enter",S,n,h),y.target=_,y.relatedTarget=E,k=y),E=k,g&&S)t:{for(y=g,T=S,w=0,_=y;_;_=yo(_))w++;for(_=0,k=T;k;k=yo(k))_++;for(;0<w-_;)y=yo(y),w--;for(;0<_-w;)T=yo(T),_--;for(;w--;){if(y===T||T!==null&&y===T.alternate)break t;y=yo(y),T=yo(T)}y=null}else y=null;g!==null&&Jw(f,m,g,y,!1),S!==null&&E!==null&&Jw(f,E,S,y,!0)}}e:{if(m=u?Oo(u):window,g=m.nodeName&&m.nodeName.toLowerCase(),g==="select"||g==="input"&&m.type==="file")var D=vk;else if(Hw(m))if(hT)D=Ek;else{D=wk;var M=yk}else(g=m.nodeName)&&g.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(D=_k);if(D&&(D=D(t,u))){dT(f,D,n,h);break e}M&&M(t,m,u),t==="focusout"&&(M=m._wrapperState)&&M.controlled&&m.type==="number"&&Wp(m,"number",m.value)}switch(M=u?Oo(u):window,t){case"focusin":(Hw(M)||M.contentEditable==="true")&&(ko=M,rm=u,Al=null);break;case"focusout":Al=rm=ko=null;break;case"mousedown":sm=!0;break;case"contextmenu":case"mouseup":case"dragend":sm=!1,Qw(f,n,h);break;case"selectionchange":if(Sk)break;case"keydown":case"keyup":Qw(f,n,h)}var b;if(zg)e:{switch(t){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else Ro?cT(t,n)&&(I="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(I="onCompositionStart");I&&(lT&&n.locale!=="ko"&&(Ro||I!=="onCompositionStart"?I==="onCompositionEnd"&&Ro&&(b=aT()):(ks=h,Ug="value"in ks?ks.value:ks.textContent,Ro=!0)),M=Ed(u,I),0<M.length&&(I=new Uw(I,t,null,n,h),f.push({event:I,listeners:M}),b?I.data=b:(b=uT(n),b!==null&&(I.data=b)))),(b=hk?fk(t,n):pk(t,n))&&(u=Ed(u,"onBeforeInput"),0<u.length&&(h=new Uw("onBeforeInput","beforeinput",null,n,h),f.push({event:h,listeners:u}),h.data=b))}xT(f,e)})}function Yl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Ed(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=zl(t,n),i!=null&&r.unshift(Yl(t,i,s)),i=zl(t,e),i!=null&&r.push(Yl(t,i,s))),t=t.return}return r}function yo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Jw(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,s?(l=zl(n,i),l!=null&&o.unshift(Yl(n,l,a))):s||(l=zl(n,i),l!=null&&o.push(Yl(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var Ak=/\r\n?/g,Pk=/\u0000|\uFFFD/g;function Zw(t){return(typeof t=="string"?t:""+t).replace(Ak,`
`).replace(Pk,"")}function mu(t,e,n){if(e=Zw(e),Zw(t)!==e&&n)throw Error(H(425))}function xd(){}var im=null,om=null;function am(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var lm=typeof setTimeout=="function"?setTimeout:void 0,Rk=typeof clearTimeout=="function"?clearTimeout:void 0,e0=typeof Promise=="function"?Promise:void 0,kk=typeof queueMicrotask=="function"?queueMicrotask:typeof e0<"u"?function(t){return e0.resolve(null).then(t).catch(Nk)}:lm;function Nk(t){setTimeout(function(){throw t})}function Zf(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),ql(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);ql(e)}function Vs(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function t0(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Ra=Math.random().toString(36).slice(2),fr="__reactFiber$"+Ra,Xl="__reactProps$"+Ra,Gr="__reactContainer$"+Ra,cm="__reactEvents$"+Ra,Ok="__reactListeners$"+Ra,Dk="__reactHandles$"+Ra;function bi(t){var e=t[fr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Gr]||n[fr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=t0(t);t!==null;){if(n=t[fr])return n;t=t0(t)}return e}t=n,n=t.parentNode}return null}function Ic(t){return t=t[fr]||t[Gr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Oo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(H(33))}function yh(t){return t[Xl]||null}var um=[],Do=-1;function oi(t){return{current:t}}function ze(t){0>Do||(t.current=um[Do],um[Do]=null,Do--)}function Fe(t,e){Do++,um[Do]=t.current,t.current=e}var Gs={},Bt=oi(Gs),on=oi(!1),Fi=Gs;function ua(t,e){var n=t.type.contextTypes;if(!n)return Gs;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function an(t){return t=t.childContextTypes,t!=null}function Td(){ze(on),ze(Bt)}function n0(t,e,n){if(Bt.current!==Gs)throw Error(H(168));Fe(Bt,e),Fe(on,n)}function ST(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(H(108,yR(t)||"Unknown",s));return Xe({},n,r)}function Sd(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Gs,Fi=Bt.current,Fe(Bt,t),Fe(on,on.current),!0}function r0(t,e,n){var r=t.stateNode;if(!r)throw Error(H(169));n?(t=ST(t,e,Fi),r.__reactInternalMemoizedMergedChildContext=t,ze(on),ze(Bt),Fe(Bt,t)):ze(on),Fe(on,n)}var Lr=null,wh=!1,ep=!1;function IT(t){Lr===null?Lr=[t]:Lr.push(t)}function jk(t){wh=!0,IT(t)}function ai(){if(!ep&&Lr!==null){ep=!0;var t=0,e=je;try{var n=Lr;for(je=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Lr=null,wh=!1}catch(s){throw Lr!==null&&(Lr=Lr.slice(t+1)),Yx(Mg,ai),s}finally{je=e,ep=!1}}return null}var jo=[],Mo=0,Id=null,bd=0,bn=[],Cn=0,Ui=null,Ur=1,$r="";function Ti(t,e){jo[Mo++]=bd,jo[Mo++]=Id,Id=t,bd=e}function bT(t,e,n){bn[Cn++]=Ur,bn[Cn++]=$r,bn[Cn++]=Ui,Ui=t;var r=Ur;t=$r;var s=32-Qn(r)-1;r&=~(1<<s),n+=1;var i=32-Qn(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Ur=1<<32-Qn(e)+s|n<<s|r,$r=i+t}else Ur=1<<i|n<<s|r,$r=t}function Wg(t){t.return!==null&&(Ti(t,1),bT(t,1,0))}function qg(t){for(;t===Id;)Id=jo[--Mo],jo[Mo]=null,bd=jo[--Mo],jo[Mo]=null;for(;t===Ui;)Ui=bn[--Cn],bn[Cn]=null,$r=bn[--Cn],bn[Cn]=null,Ur=bn[--Cn],bn[Cn]=null}var vn=null,mn=null,qe=!1,Kn=null;function CT(t,e){var n=Pn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function s0(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,vn=t,mn=Vs(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,vn=t,mn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ui!==null?{id:Ur,overflow:$r}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Pn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,vn=t,mn=null,!0):!1;default:return!1}}function dm(t){return(t.mode&1)!==0&&(t.flags&128)===0}function hm(t){if(qe){var e=mn;if(e){var n=e;if(!s0(t,e)){if(dm(t))throw Error(H(418));e=Vs(n.nextSibling);var r=vn;e&&s0(t,e)?CT(r,n):(t.flags=t.flags&-4097|2,qe=!1,vn=t)}}else{if(dm(t))throw Error(H(418));t.flags=t.flags&-4097|2,qe=!1,vn=t}}}function i0(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;vn=t}function gu(t){if(t!==vn)return!1;if(!qe)return i0(t),qe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!am(t.type,t.memoizedProps)),e&&(e=mn)){if(dm(t))throw AT(),Error(H(418));for(;e;)CT(t,e),e=Vs(e.nextSibling)}if(i0(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(H(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){mn=Vs(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}mn=null}}else mn=vn?Vs(t.stateNode.nextSibling):null;return!0}function AT(){for(var t=mn;t;)t=Vs(t.nextSibling)}function da(){mn=vn=null,qe=!1}function Kg(t){Kn===null?Kn=[t]:Kn.push(t)}var Mk=rs.ReactCurrentBatchConfig;function al(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(H(309));var r=n.stateNode}if(!r)throw Error(H(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(H(284));if(!n._owner)throw Error(H(290,t))}return t}function vu(t,e){throw t=Object.prototype.toString.call(e),Error(H(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function o0(t){var e=t._init;return e(t._payload)}function PT(t){function e(T,w){if(t){var _=T.deletions;_===null?(T.deletions=[w],T.flags|=16):_.push(w)}}function n(T,w){if(!t)return null;for(;w!==null;)e(T,w),w=w.sibling;return null}function r(T,w){for(T=new Map;w!==null;)w.key!==null?T.set(w.key,w):T.set(w.index,w),w=w.sibling;return T}function s(T,w){return T=Bs(T,w),T.index=0,T.sibling=null,T}function i(T,w,_){return T.index=_,t?(_=T.alternate,_!==null?(_=_.index,_<w?(T.flags|=2,w):_):(T.flags|=2,w)):(T.flags|=1048576,w)}function o(T){return t&&T.alternate===null&&(T.flags|=2),T}function a(T,w,_,k){return w===null||w.tag!==6?(w=ap(_,T.mode,k),w.return=T,w):(w=s(w,_),w.return=T,w)}function l(T,w,_,k){var D=_.type;return D===Po?h(T,w,_.props.children,k,_.key):w!==null&&(w.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===gs&&o0(D)===w.type)?(k=s(w,_.props),k.ref=al(T,w,_),k.return=T,k):(k=Qu(_.type,_.key,_.props,null,T.mode,k),k.ref=al(T,w,_),k.return=T,k)}function u(T,w,_,k){return w===null||w.tag!==4||w.stateNode.containerInfo!==_.containerInfo||w.stateNode.implementation!==_.implementation?(w=lp(_,T.mode,k),w.return=T,w):(w=s(w,_.children||[]),w.return=T,w)}function h(T,w,_,k,D){return w===null||w.tag!==7?(w=Li(_,T.mode,k,D),w.return=T,w):(w=s(w,_),w.return=T,w)}function f(T,w,_){if(typeof w=="string"&&w!==""||typeof w=="number")return w=ap(""+w,T.mode,_),w.return=T,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case ou:return _=Qu(w.type,w.key,w.props,null,T.mode,_),_.ref=al(T,null,w),_.return=T,_;case Ao:return w=lp(w,T.mode,_),w.return=T,w;case gs:var k=w._init;return f(T,k(w._payload),_)}if(pl(w)||nl(w))return w=Li(w,T.mode,_,null),w.return=T,w;vu(T,w)}return null}function m(T,w,_,k){var D=w!==null?w.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return D!==null?null:a(T,w,""+_,k);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case ou:return _.key===D?l(T,w,_,k):null;case Ao:return _.key===D?u(T,w,_,k):null;case gs:return D=_._init,m(T,w,D(_._payload),k)}if(pl(_)||nl(_))return D!==null?null:h(T,w,_,k,null);vu(T,_)}return null}function g(T,w,_,k,D){if(typeof k=="string"&&k!==""||typeof k=="number")return T=T.get(_)||null,a(w,T,""+k,D);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case ou:return T=T.get(k.key===null?_:k.key)||null,l(w,T,k,D);case Ao:return T=T.get(k.key===null?_:k.key)||null,u(w,T,k,D);case gs:var M=k._init;return g(T,w,_,M(k._payload),D)}if(pl(k)||nl(k))return T=T.get(_)||null,h(w,T,k,D,null);vu(w,k)}return null}function S(T,w,_,k){for(var D=null,M=null,b=w,I=w=0,A=null;b!==null&&I<_.length;I++){b.index>I?(A=b,b=null):A=b.sibling;var P=m(T,b,_[I],k);if(P===null){b===null&&(b=A);break}t&&b&&P.alternate===null&&e(T,b),w=i(P,w,I),M===null?D=P:M.sibling=P,M=P,b=A}if(I===_.length)return n(T,b),qe&&Ti(T,I),D;if(b===null){for(;I<_.length;I++)b=f(T,_[I],k),b!==null&&(w=i(b,w,I),M===null?D=b:M.sibling=b,M=b);return qe&&Ti(T,I),D}for(b=r(T,b);I<_.length;I++)A=g(b,T,I,_[I],k),A!==null&&(t&&A.alternate!==null&&b.delete(A.key===null?I:A.key),w=i(A,w,I),M===null?D=A:M.sibling=A,M=A);return t&&b.forEach(function(N){return e(T,N)}),qe&&Ti(T,I),D}function y(T,w,_,k){var D=nl(_);if(typeof D!="function")throw Error(H(150));if(_=D.call(_),_==null)throw Error(H(151));for(var M=D=null,b=w,I=w=0,A=null,P=_.next();b!==null&&!P.done;I++,P=_.next()){b.index>I?(A=b,b=null):A=b.sibling;var N=m(T,b,P.value,k);if(N===null){b===null&&(b=A);break}t&&b&&N.alternate===null&&e(T,b),w=i(N,w,I),M===null?D=N:M.sibling=N,M=N,b=A}if(P.done)return n(T,b),qe&&Ti(T,I),D;if(b===null){for(;!P.done;I++,P=_.next())P=f(T,P.value,k),P!==null&&(w=i(P,w,I),M===null?D=P:M.sibling=P,M=P);return qe&&Ti(T,I),D}for(b=r(T,b);!P.done;I++,P=_.next())P=g(b,T,I,P.value,k),P!==null&&(t&&P.alternate!==null&&b.delete(P.key===null?I:P.key),w=i(P,w,I),M===null?D=P:M.sibling=P,M=P);return t&&b.forEach(function(O){return e(T,O)}),qe&&Ti(T,I),D}function E(T,w,_,k){if(typeof _=="object"&&_!==null&&_.type===Po&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case ou:e:{for(var D=_.key,M=w;M!==null;){if(M.key===D){if(D=_.type,D===Po){if(M.tag===7){n(T,M.sibling),w=s(M,_.props.children),w.return=T,T=w;break e}}else if(M.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===gs&&o0(D)===M.type){n(T,M.sibling),w=s(M,_.props),w.ref=al(T,M,_),w.return=T,T=w;break e}n(T,M);break}else e(T,M);M=M.sibling}_.type===Po?(w=Li(_.props.children,T.mode,k,_.key),w.return=T,T=w):(k=Qu(_.type,_.key,_.props,null,T.mode,k),k.ref=al(T,w,_),k.return=T,T=k)}return o(T);case Ao:e:{for(M=_.key;w!==null;){if(w.key===M)if(w.tag===4&&w.stateNode.containerInfo===_.containerInfo&&w.stateNode.implementation===_.implementation){n(T,w.sibling),w=s(w,_.children||[]),w.return=T,T=w;break e}else{n(T,w);break}else e(T,w);w=w.sibling}w=lp(_,T.mode,k),w.return=T,T=w}return o(T);case gs:return M=_._init,E(T,w,M(_._payload),k)}if(pl(_))return S(T,w,_,k);if(nl(_))return y(T,w,_,k);vu(T,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,w!==null&&w.tag===6?(n(T,w.sibling),w=s(w,_),w.return=T,T=w):(n(T,w),w=ap(_,T.mode,k),w.return=T,T=w),o(T)):n(T,w)}return E}var ha=PT(!0),RT=PT(!1),Cd=oi(null),Ad=null,Lo=null,Gg=null;function Qg(){Gg=Lo=Ad=null}function Yg(t){var e=Cd.current;ze(Cd),t._currentValue=e}function fm(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Wo(t,e){Ad=t,Gg=Lo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(sn=!0),t.firstContext=null)}function On(t){var e=t._currentValue;if(Gg!==t)if(t={context:t,memoizedValue:e,next:null},Lo===null){if(Ad===null)throw Error(H(308));Lo=t,Ad.dependencies={lanes:0,firstContext:t}}else Lo=Lo.next=t;return e}var Ci=null;function Xg(t){Ci===null?Ci=[t]:Ci.push(t)}function kT(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Xg(e)):(n.next=s.next,s.next=n),e.interleaved=n,Qr(t,r)}function Qr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var vs=!1;function Jg(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function NT(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Hr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Fs(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ce&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Qr(t,n)}return s=r.interleaved,s===null?(e.next=e,Xg(r)):(e.next=s.next,s.next=e),r.interleaved=e,Qr(t,n)}function zu(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Lg(t,n)}}function a0(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Pd(t,e,n,r){var s=t.updateQueue;vs=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?i=u:o.next=u,o=l;var h=t.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=u:a.next=u,h.lastBaseUpdate=l))}if(i!==null){var f=s.baseState;o=0,h=u=l=null,a=i;do{var m=a.lane,g=a.eventTime;if((r&m)===m){h!==null&&(h=h.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var S=t,y=a;switch(m=e,g=n,y.tag){case 1:if(S=y.payload,typeof S=="function"){f=S.call(g,f,m);break e}f=S;break e;case 3:S.flags=S.flags&-65537|128;case 0:if(S=y.payload,m=typeof S=="function"?S.call(g,f,m):S,m==null)break e;f=Xe({},f,m);break e;case 2:vs=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,m=s.effects,m===null?s.effects=[a]:m.push(a))}else g={eventTime:g,lane:m,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(u=h=g,l=f):h=h.next=g,o|=m;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;m=a,a=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(h===null&&(l=f),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=h,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Bi|=o,t.lanes=o,t.memoizedState=f}}function l0(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(H(191,s));s.call(r)}}}var bc={},vr=oi(bc),Jl=oi(bc),Zl=oi(bc);function Ai(t){if(t===bc)throw Error(H(174));return t}function Zg(t,e){switch(Fe(Zl,e),Fe(Jl,t),Fe(vr,bc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Kp(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Kp(e,t)}ze(vr),Fe(vr,e)}function fa(){ze(vr),ze(Jl),ze(Zl)}function OT(t){Ai(Zl.current);var e=Ai(vr.current),n=Kp(e,t.type);e!==n&&(Fe(Jl,t),Fe(vr,n))}function ev(t){Jl.current===t&&(ze(vr),ze(Jl))}var Qe=oi(0);function Rd(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var tp=[];function tv(){for(var t=0;t<tp.length;t++)tp[t]._workInProgressVersionPrimary=null;tp.length=0}var Hu=rs.ReactCurrentDispatcher,np=rs.ReactCurrentBatchConfig,$i=0,Ye=null,lt=null,vt=null,kd=!1,Pl=!1,ec=0,Lk=0;function jt(){throw Error(H(321))}function nv(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Xn(t[n],e[n]))return!1;return!0}function rv(t,e,n,r,s,i){if($i=i,Ye=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Hu.current=t===null||t.memoizedState===null?$k:Bk,t=n(r,s),Pl){i=0;do{if(Pl=!1,ec=0,25<=i)throw Error(H(301));i+=1,vt=lt=null,e.updateQueue=null,Hu.current=zk,t=n(r,s)}while(Pl)}if(Hu.current=Nd,e=lt!==null&&lt.next!==null,$i=0,vt=lt=Ye=null,kd=!1,e)throw Error(H(300));return t}function sv(){var t=ec!==0;return ec=0,t}function lr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vt===null?Ye.memoizedState=vt=t:vt=vt.next=t,vt}function Dn(){if(lt===null){var t=Ye.alternate;t=t!==null?t.memoizedState:null}else t=lt.next;var e=vt===null?Ye.memoizedState:vt.next;if(e!==null)vt=e,lt=t;else{if(t===null)throw Error(H(310));lt=t,t={memoizedState:lt.memoizedState,baseState:lt.baseState,baseQueue:lt.baseQueue,queue:lt.queue,next:null},vt===null?Ye.memoizedState=vt=t:vt=vt.next=t}return vt}function tc(t,e){return typeof e=="function"?e(t):e}function rp(t){var e=Dn(),n=e.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=t;var r=lt,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,u=i;do{var h=u.lane;if(($i&h)===h)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=f,o=r):l=l.next=f,Ye.lanes|=h,Bi|=h}u=u.next}while(u!==null&&u!==i);l===null?o=r:l.next=a,Xn(r,e.memoizedState)||(sn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,Ye.lanes|=i,Bi|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function sp(t){var e=Dn(),n=e.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);Xn(i,e.memoizedState)||(sn=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function DT(){}function jT(t,e){var n=Ye,r=Dn(),s=e(),i=!Xn(r.memoizedState,s);if(i&&(r.memoizedState=s,sn=!0),r=r.queue,iv(VT.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||vt!==null&&vt.memoizedState.tag&1){if(n.flags|=2048,nc(9,LT.bind(null,n,r,s,e),void 0,null),_t===null)throw Error(H(349));$i&30||MT(n,e,s)}return s}function MT(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ye.updateQueue,e===null?(e={lastEffect:null,stores:null},Ye.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function LT(t,e,n,r){e.value=n,e.getSnapshot=r,FT(e)&&UT(t)}function VT(t,e,n){return n(function(){FT(e)&&UT(t)})}function FT(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Xn(t,n)}catch{return!0}}function UT(t){var e=Qr(t,1);e!==null&&Yn(e,t,1,-1)}function c0(t){var e=lr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:tc,lastRenderedState:t},e.queue=t,t=t.dispatch=Uk.bind(null,Ye,t),[e.memoizedState,t]}function nc(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ye.updateQueue,e===null?(e={lastEffect:null,stores:null},Ye.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function $T(){return Dn().memoizedState}function Wu(t,e,n,r){var s=lr();Ye.flags|=t,s.memoizedState=nc(1|e,n,void 0,r===void 0?null:r)}function _h(t,e,n,r){var s=Dn();r=r===void 0?null:r;var i=void 0;if(lt!==null){var o=lt.memoizedState;if(i=o.destroy,r!==null&&nv(r,o.deps)){s.memoizedState=nc(e,n,i,r);return}}Ye.flags|=t,s.memoizedState=nc(1|e,n,i,r)}function u0(t,e){return Wu(8390656,8,t,e)}function iv(t,e){return _h(2048,8,t,e)}function BT(t,e){return _h(4,2,t,e)}function zT(t,e){return _h(4,4,t,e)}function HT(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function WT(t,e,n){return n=n!=null?n.concat([t]):null,_h(4,4,HT.bind(null,e,t),n)}function ov(){}function qT(t,e){var n=Dn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&nv(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function KT(t,e){var n=Dn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&nv(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function GT(t,e,n){return $i&21?(Xn(n,e)||(n=Zx(),Ye.lanes|=n,Bi|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,sn=!0),t.memoizedState=n)}function Vk(t,e){var n=je;je=n!==0&&4>n?n:4,t(!0);var r=np.transition;np.transition={};try{t(!1),e()}finally{je=n,np.transition=r}}function QT(){return Dn().memoizedState}function Fk(t,e,n){var r=$s(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},YT(t))XT(e,n);else if(n=kT(t,e,n,r),n!==null){var s=Kt();Yn(n,t,r,s),JT(n,e,r)}}function Uk(t,e,n){var r=$s(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(YT(t))XT(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,Xn(a,o)){var l=e.interleaved;l===null?(s.next=s,Xg(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=kT(t,e,s,r),n!==null&&(s=Kt(),Yn(n,t,r,s),JT(n,e,r))}}function YT(t){var e=t.alternate;return t===Ye||e!==null&&e===Ye}function XT(t,e){Pl=kd=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function JT(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Lg(t,n)}}var Nd={readContext:On,useCallback:jt,useContext:jt,useEffect:jt,useImperativeHandle:jt,useInsertionEffect:jt,useLayoutEffect:jt,useMemo:jt,useReducer:jt,useRef:jt,useState:jt,useDebugValue:jt,useDeferredValue:jt,useTransition:jt,useMutableSource:jt,useSyncExternalStore:jt,useId:jt,unstable_isNewReconciler:!1},$k={readContext:On,useCallback:function(t,e){return lr().memoizedState=[t,e===void 0?null:e],t},useContext:On,useEffect:u0,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Wu(4194308,4,HT.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Wu(4194308,4,t,e)},useInsertionEffect:function(t,e){return Wu(4,2,t,e)},useMemo:function(t,e){var n=lr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=lr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Fk.bind(null,Ye,t),[r.memoizedState,t]},useRef:function(t){var e=lr();return t={current:t},e.memoizedState=t},useState:c0,useDebugValue:ov,useDeferredValue:function(t){return lr().memoizedState=t},useTransition:function(){var t=c0(!1),e=t[0];return t=Vk.bind(null,t[1]),lr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ye,s=lr();if(qe){if(n===void 0)throw Error(H(407));n=n()}else{if(n=e(),_t===null)throw Error(H(349));$i&30||MT(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,u0(VT.bind(null,r,i,t),[t]),r.flags|=2048,nc(9,LT.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=lr(),e=_t.identifierPrefix;if(qe){var n=$r,r=Ur;n=(r&~(1<<32-Qn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=ec++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Lk++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Bk={readContext:On,useCallback:qT,useContext:On,useEffect:iv,useImperativeHandle:WT,useInsertionEffect:BT,useLayoutEffect:zT,useMemo:KT,useReducer:rp,useRef:$T,useState:function(){return rp(tc)},useDebugValue:ov,useDeferredValue:function(t){var e=Dn();return GT(e,lt.memoizedState,t)},useTransition:function(){var t=rp(tc)[0],e=Dn().memoizedState;return[t,e]},useMutableSource:DT,useSyncExternalStore:jT,useId:QT,unstable_isNewReconciler:!1},zk={readContext:On,useCallback:qT,useContext:On,useEffect:iv,useImperativeHandle:WT,useInsertionEffect:BT,useLayoutEffect:zT,useMemo:KT,useReducer:sp,useRef:$T,useState:function(){return sp(tc)},useDebugValue:ov,useDeferredValue:function(t){var e=Dn();return lt===null?e.memoizedState=t:GT(e,lt.memoizedState,t)},useTransition:function(){var t=sp(tc)[0],e=Dn().memoizedState;return[t,e]},useMutableSource:DT,useSyncExternalStore:jT,useId:QT,unstable_isNewReconciler:!1};function Bn(t,e){if(t&&t.defaultProps){e=Xe({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function pm(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Xe({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Eh={isMounted:function(t){return(t=t._reactInternals)?eo(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Kt(),s=$s(t),i=Hr(r,s);i.payload=e,n!=null&&(i.callback=n),e=Fs(t,i,s),e!==null&&(Yn(e,t,s,r),zu(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Kt(),s=$s(t),i=Hr(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Fs(t,i,s),e!==null&&(Yn(e,t,s,r),zu(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Kt(),r=$s(t),s=Hr(n,r);s.tag=2,e!=null&&(s.callback=e),e=Fs(t,s,r),e!==null&&(Yn(e,t,r,n),zu(e,t,r))}};function d0(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Gl(n,r)||!Gl(s,i):!0}function ZT(t,e,n){var r=!1,s=Gs,i=e.contextType;return typeof i=="object"&&i!==null?i=On(i):(s=an(e)?Fi:Bt.current,r=e.contextTypes,i=(r=r!=null)?ua(t,s):Gs),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Eh,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function h0(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Eh.enqueueReplaceState(e,e.state,null)}function mm(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Jg(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=On(i):(i=an(e)?Fi:Bt.current,s.context=ua(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(pm(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Eh.enqueueReplaceState(s,s.state,null),Pd(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function pa(t,e){try{var n="",r=e;do n+=vR(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function ip(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function gm(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Hk=typeof WeakMap=="function"?WeakMap:Map;function eS(t,e,n){n=Hr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Dd||(Dd=!0,bm=r),gm(t,e)},n}function tS(t,e,n){n=Hr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){gm(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){gm(t,e),typeof r!="function"&&(Us===null?Us=new Set([this]):Us.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function f0(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Hk;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=sN.bind(null,t,e,n),e.then(t,t))}function p0(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function m0(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Hr(-1,1),e.tag=2,Fs(n,e,1))),n.lanes|=1),t)}var Wk=rs.ReactCurrentOwner,sn=!1;function Wt(t,e,n,r){e.child=t===null?RT(e,null,n,r):ha(e,t.child,n,r)}function g0(t,e,n,r,s){n=n.render;var i=e.ref;return Wo(e,s),r=rv(t,e,n,r,i,s),n=sv(),t!==null&&!sn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Yr(t,e,s)):(qe&&n&&Wg(e),e.flags|=1,Wt(t,e,r,s),e.child)}function v0(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!pv(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,nS(t,e,i,r,s)):(t=Qu(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Gl,n(o,r)&&t.ref===e.ref)return Yr(t,e,s)}return e.flags|=1,t=Bs(i,r),t.ref=e.ref,t.return=e,e.child=t}function nS(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Gl(i,r)&&t.ref===e.ref)if(sn=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(sn=!0);else return e.lanes=t.lanes,Yr(t,e,s)}return vm(t,e,n,r,s)}function rS(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Fe(Fo,fn),fn|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Fe(Fo,fn),fn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Fe(Fo,fn),fn|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Fe(Fo,fn),fn|=r;return Wt(t,e,s,n),e.child}function sS(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function vm(t,e,n,r,s){var i=an(n)?Fi:Bt.current;return i=ua(e,i),Wo(e,s),n=rv(t,e,n,r,i,s),r=sv(),t!==null&&!sn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Yr(t,e,s)):(qe&&r&&Wg(e),e.flags|=1,Wt(t,e,n,s),e.child)}function y0(t,e,n,r,s){if(an(n)){var i=!0;Sd(e)}else i=!1;if(Wo(e,s),e.stateNode===null)qu(t,e),ZT(e,n,r),mm(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=On(u):(u=an(n)?Fi:Bt.current,u=ua(e,u));var h=n.getDerivedStateFromProps,f=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&h0(e,o,r,u),vs=!1;var m=e.memoizedState;o.state=m,Pd(e,r,o,s),l=e.memoizedState,a!==r||m!==l||on.current||vs?(typeof h=="function"&&(pm(e,n,h,r),l=e.memoizedState),(a=vs||d0(e,n,a,r,m,l,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,NT(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Bn(e.type,a),o.props=u,f=e.pendingProps,m=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=On(l):(l=an(n)?Fi:Bt.current,l=ua(e,l));var g=n.getDerivedStateFromProps;(h=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||m!==l)&&h0(e,o,r,l),vs=!1,m=e.memoizedState,o.state=m,Pd(e,r,o,s);var S=e.memoizedState;a!==f||m!==S||on.current||vs?(typeof g=="function"&&(pm(e,n,g,r),S=e.memoizedState),(u=vs||d0(e,n,u,r,m,S,l)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,S,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,S,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=S),o.props=r,o.state=S,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return ym(t,e,n,r,i,s)}function ym(t,e,n,r,s,i){sS(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&r0(e,n,!1),Yr(t,e,i);r=e.stateNode,Wk.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=ha(e,t.child,null,i),e.child=ha(e,null,a,i)):Wt(t,e,a,i),e.memoizedState=r.state,s&&r0(e,n,!0),e.child}function iS(t){var e=t.stateNode;e.pendingContext?n0(t,e.pendingContext,e.pendingContext!==e.context):e.context&&n0(t,e.context,!1),Zg(t,e.containerInfo)}function w0(t,e,n,r,s){return da(),Kg(s),e.flags|=256,Wt(t,e,n,r),e.child}var wm={dehydrated:null,treeContext:null,retryLane:0};function _m(t){return{baseLanes:t,cachePool:null,transitions:null}}function oS(t,e,n){var r=e.pendingProps,s=Qe.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Fe(Qe,s&1),t===null)return hm(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Sh(o,r,0,null),t=Li(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=_m(n),e.memoizedState=wm,t):av(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return qk(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Bs(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Bs(a,i):(i=Li(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?_m(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=wm,r}return i=t.child,t=i.sibling,r=Bs(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function av(t,e){return e=Sh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function yu(t,e,n,r){return r!==null&&Kg(r),ha(e,t.child,null,n),t=av(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function qk(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=ip(Error(H(422))),yu(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Sh({mode:"visible",children:r.children},s,0,null),i=Li(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&ha(e,t.child,null,o),e.child.memoizedState=_m(o),e.memoizedState=wm,i);if(!(e.mode&1))return yu(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(H(419)),r=ip(i,r,void 0),yu(t,e,o,r)}if(a=(o&t.childLanes)!==0,sn||a){if(r=_t,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Qr(t,s),Yn(r,t,s,-1))}return fv(),r=ip(Error(H(421))),yu(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=iN.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,mn=Vs(s.nextSibling),vn=e,qe=!0,Kn=null,t!==null&&(bn[Cn++]=Ur,bn[Cn++]=$r,bn[Cn++]=Ui,Ur=t.id,$r=t.overflow,Ui=e),e=av(e,r.children),e.flags|=4096,e)}function _0(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),fm(t.return,e,n)}function op(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function aS(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Wt(t,e,r.children,n),r=Qe.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&_0(t,n,e);else if(t.tag===19)_0(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Fe(Qe,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Rd(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),op(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Rd(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}op(e,!0,n,null,i);break;case"together":op(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function qu(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Yr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Bi|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(H(153));if(e.child!==null){for(t=e.child,n=Bs(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Bs(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Kk(t,e,n){switch(e.tag){case 3:iS(e),da();break;case 5:OT(e);break;case 1:an(e.type)&&Sd(e);break;case 4:Zg(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Fe(Cd,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Fe(Qe,Qe.current&1),e.flags|=128,null):n&e.child.childLanes?oS(t,e,n):(Fe(Qe,Qe.current&1),t=Yr(t,e,n),t!==null?t.sibling:null);Fe(Qe,Qe.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return aS(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Fe(Qe,Qe.current),r)break;return null;case 22:case 23:return e.lanes=0,rS(t,e,n)}return Yr(t,e,n)}var lS,Em,cS,uS;lS=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Em=function(){};cS=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Ai(vr.current);var i=null;switch(n){case"input":s=zp(t,s),r=zp(t,r),i=[];break;case"select":s=Xe({},s,{value:void 0}),r=Xe({},r,{value:void 0}),i=[];break;case"textarea":s=qp(t,s),r=qp(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=xd)}Gp(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&($l.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var l=r[u];if(a=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&($l.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Be("scroll",t),i||a===l||(i=[])):(i=i||[]).push(u,l))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};uS=function(t,e,n,r){n!==r&&(e.flags|=4)};function ll(t,e){if(!qe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Mt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Gk(t,e,n){var r=e.pendingProps;switch(qg(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Mt(e),null;case 1:return an(e.type)&&Td(),Mt(e),null;case 3:return r=e.stateNode,fa(),ze(on),ze(Bt),tv(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(gu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Kn!==null&&(Pm(Kn),Kn=null))),Em(t,e),Mt(e),null;case 5:ev(e);var s=Ai(Zl.current);if(n=e.type,t!==null&&e.stateNode!=null)cS(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(H(166));return Mt(e),null}if(t=Ai(vr.current),gu(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[fr]=e,r[Xl]=i,t=(e.mode&1)!==0,n){case"dialog":Be("cancel",r),Be("close",r);break;case"iframe":case"object":case"embed":Be("load",r);break;case"video":case"audio":for(s=0;s<gl.length;s++)Be(gl[s],r);break;case"source":Be("error",r);break;case"img":case"image":case"link":Be("error",r),Be("load",r);break;case"details":Be("toggle",r);break;case"input":Pw(r,i),Be("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Be("invalid",r);break;case"textarea":kw(r,i),Be("invalid",r)}Gp(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&mu(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&mu(r.textContent,a,t),s=["children",""+a]):$l.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Be("scroll",r)}switch(n){case"input":au(r),Rw(r,i,!0);break;case"textarea":au(r),Nw(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=xd)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Vx(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[fr]=e,t[Xl]=r,lS(t,e,!1,!1),e.stateNode=t;e:{switch(o=Qp(n,r),n){case"dialog":Be("cancel",t),Be("close",t),s=r;break;case"iframe":case"object":case"embed":Be("load",t),s=r;break;case"video":case"audio":for(s=0;s<gl.length;s++)Be(gl[s],t);s=r;break;case"source":Be("error",t),s=r;break;case"img":case"image":case"link":Be("error",t),Be("load",t),s=r;break;case"details":Be("toggle",t),s=r;break;case"input":Pw(t,r),s=zp(t,r),Be("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Xe({},r,{value:void 0}),Be("invalid",t);break;case"textarea":kw(t,r),s=qp(t,r),Be("invalid",t);break;default:s=r}Gp(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?$x(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Fx(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Bl(t,l):typeof l=="number"&&Bl(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&($l.hasOwnProperty(i)?l!=null&&i==="onScroll"&&Be("scroll",t):l!=null&&kg(t,i,l,o))}switch(n){case"input":au(t),Rw(t,r,!1);break;case"textarea":au(t),Nw(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ks(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?$o(t,!!r.multiple,i,!1):r.defaultValue!=null&&$o(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=xd)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Mt(e),null;case 6:if(t&&e.stateNode!=null)uS(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(H(166));if(n=Ai(Zl.current),Ai(vr.current),gu(e)){if(r=e.stateNode,n=e.memoizedProps,r[fr]=e,(i=r.nodeValue!==n)&&(t=vn,t!==null))switch(t.tag){case 3:mu(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&mu(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[fr]=e,e.stateNode=r}return Mt(e),null;case 13:if(ze(Qe),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(qe&&mn!==null&&e.mode&1&&!(e.flags&128))AT(),da(),e.flags|=98560,i=!1;else if(i=gu(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(H(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(H(317));i[fr]=e}else da(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Mt(e),i=!1}else Kn!==null&&(Pm(Kn),Kn=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Qe.current&1?ut===0&&(ut=3):fv())),e.updateQueue!==null&&(e.flags|=4),Mt(e),null);case 4:return fa(),Em(t,e),t===null&&Ql(e.stateNode.containerInfo),Mt(e),null;case 10:return Yg(e.type._context),Mt(e),null;case 17:return an(e.type)&&Td(),Mt(e),null;case 19:if(ze(Qe),i=e.memoizedState,i===null)return Mt(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)ll(i,!1);else{if(ut!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Rd(t),o!==null){for(e.flags|=128,ll(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Fe(Qe,Qe.current&1|2),e.child}t=t.sibling}i.tail!==null&&st()>ma&&(e.flags|=128,r=!0,ll(i,!1),e.lanes=4194304)}else{if(!r)if(t=Rd(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ll(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!qe)return Mt(e),null}else 2*st()-i.renderingStartTime>ma&&n!==1073741824&&(e.flags|=128,r=!0,ll(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=st(),e.sibling=null,n=Qe.current,Fe(Qe,r?n&1|2:n&1),e):(Mt(e),null);case 22:case 23:return hv(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?fn&1073741824&&(Mt(e),e.subtreeFlags&6&&(e.flags|=8192)):Mt(e),null;case 24:return null;case 25:return null}throw Error(H(156,e.tag))}function Qk(t,e){switch(qg(e),e.tag){case 1:return an(e.type)&&Td(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return fa(),ze(on),ze(Bt),tv(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return ev(e),null;case 13:if(ze(Qe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(H(340));da()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ze(Qe),null;case 4:return fa(),null;case 10:return Yg(e.type._context),null;case 22:case 23:return hv(),null;case 24:return null;default:return null}}var wu=!1,Ut=!1,Yk=typeof WeakSet=="function"?WeakSet:Set,te=null;function Vo(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){nt(t,e,r)}else n.current=null}function xm(t,e,n){try{n()}catch(r){nt(t,e,r)}}var E0=!1;function Xk(t,e){if(im=wd,t=mT(),Hg(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,h=0,f=t,m=null;t:for(;;){for(var g;f!==n||s!==0&&f.nodeType!==3||(a=o+s),f!==i||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(g=f.firstChild)!==null;)m=f,f=g;for(;;){if(f===t)break t;if(m===n&&++u===s&&(a=o),m===i&&++h===r&&(l=o),(g=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=g}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(om={focusedElem:t,selectionRange:n},wd=!1,te=e;te!==null;)if(e=te,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,te=t;else for(;te!==null;){e=te;try{var S=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(S!==null){var y=S.memoizedProps,E=S.memoizedState,T=e.stateNode,w=T.getSnapshotBeforeUpdate(e.elementType===e.type?y:Bn(e.type,y),E);T.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(H(163))}}catch(k){nt(e,e.return,k)}if(t=e.sibling,t!==null){t.return=e.return,te=t;break}te=e.return}return S=E0,E0=!1,S}function Rl(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&xm(e,n,i)}s=s.next}while(s!==r)}}function xh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Tm(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function dS(t){var e=t.alternate;e!==null&&(t.alternate=null,dS(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[fr],delete e[Xl],delete e[cm],delete e[Ok],delete e[Dk])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function hS(t){return t.tag===5||t.tag===3||t.tag===4}function x0(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||hS(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Sm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=xd));else if(r!==4&&(t=t.child,t!==null))for(Sm(t,e,n),t=t.sibling;t!==null;)Sm(t,e,n),t=t.sibling}function Im(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Im(t,e,n),t=t.sibling;t!==null;)Im(t,e,n),t=t.sibling}var St=null,qn=!1;function us(t,e,n){for(n=n.child;n!==null;)fS(t,e,n),n=n.sibling}function fS(t,e,n){if(gr&&typeof gr.onCommitFiberUnmount=="function")try{gr.onCommitFiberUnmount(ph,n)}catch{}switch(n.tag){case 5:Ut||Vo(n,e);case 6:var r=St,s=qn;St=null,us(t,e,n),St=r,qn=s,St!==null&&(qn?(t=St,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):St.removeChild(n.stateNode));break;case 18:St!==null&&(qn?(t=St,n=n.stateNode,t.nodeType===8?Zf(t.parentNode,n):t.nodeType===1&&Zf(t,n),ql(t)):Zf(St,n.stateNode));break;case 4:r=St,s=qn,St=n.stateNode.containerInfo,qn=!0,us(t,e,n),St=r,qn=s;break;case 0:case 11:case 14:case 15:if(!Ut&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&xm(n,e,o),s=s.next}while(s!==r)}us(t,e,n);break;case 1:if(!Ut&&(Vo(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){nt(n,e,a)}us(t,e,n);break;case 21:us(t,e,n);break;case 22:n.mode&1?(Ut=(r=Ut)||n.memoizedState!==null,us(t,e,n),Ut=r):us(t,e,n);break;default:us(t,e,n)}}function T0(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Yk),e.forEach(function(r){var s=oN.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Fn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:St=a.stateNode,qn=!1;break e;case 3:St=a.stateNode.containerInfo,qn=!0;break e;case 4:St=a.stateNode.containerInfo,qn=!0;break e}a=a.return}if(St===null)throw Error(H(160));fS(i,o,s),St=null,qn=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){nt(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)pS(e,t),e=e.sibling}function pS(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Fn(e,t),or(t),r&4){try{Rl(3,t,t.return),xh(3,t)}catch(y){nt(t,t.return,y)}try{Rl(5,t,t.return)}catch(y){nt(t,t.return,y)}}break;case 1:Fn(e,t),or(t),r&512&&n!==null&&Vo(n,n.return);break;case 5:if(Fn(e,t),or(t),r&512&&n!==null&&Vo(n,n.return),t.flags&32){var s=t.stateNode;try{Bl(s,"")}catch(y){nt(t,t.return,y)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&Mx(s,i),Qp(a,o);var u=Qp(a,i);for(o=0;o<l.length;o+=2){var h=l[o],f=l[o+1];h==="style"?$x(s,f):h==="dangerouslySetInnerHTML"?Fx(s,f):h==="children"?Bl(s,f):kg(s,h,f,u)}switch(a){case"input":Hp(s,i);break;case"textarea":Lx(s,i);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?$o(s,!!i.multiple,g,!1):m!==!!i.multiple&&(i.defaultValue!=null?$o(s,!!i.multiple,i.defaultValue,!0):$o(s,!!i.multiple,i.multiple?[]:"",!1))}s[Xl]=i}catch(y){nt(t,t.return,y)}}break;case 6:if(Fn(e,t),or(t),r&4){if(t.stateNode===null)throw Error(H(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(y){nt(t,t.return,y)}}break;case 3:if(Fn(e,t),or(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ql(e.containerInfo)}catch(y){nt(t,t.return,y)}break;case 4:Fn(e,t),or(t);break;case 13:Fn(e,t),or(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(uv=st())),r&4&&T0(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(Ut=(u=Ut)||h,Fn(e,t),Ut=u):Fn(e,t),or(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!h&&t.mode&1)for(te=t,h=t.child;h!==null;){for(f=te=h;te!==null;){switch(m=te,g=m.child,m.tag){case 0:case 11:case 14:case 15:Rl(4,m,m.return);break;case 1:Vo(m,m.return);var S=m.stateNode;if(typeof S.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,S.props=e.memoizedProps,S.state=e.memoizedState,S.componentWillUnmount()}catch(y){nt(r,n,y)}}break;case 5:Vo(m,m.return);break;case 22:if(m.memoizedState!==null){I0(f);continue}}g!==null?(g.return=m,te=g):I0(f)}h=h.sibling}e:for(h=null,f=t;;){if(f.tag===5){if(h===null){h=f;try{s=f.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Ux("display",o))}catch(y){nt(t,t.return,y)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(y){nt(t,t.return,y)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Fn(e,t),or(t),r&4&&T0(t);break;case 21:break;default:Fn(e,t),or(t)}}function or(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(hS(n)){var r=n;break e}n=n.return}throw Error(H(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Bl(s,""),r.flags&=-33);var i=x0(t);Im(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=x0(t);Sm(t,a,o);break;default:throw Error(H(161))}}catch(l){nt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Jk(t,e,n){te=t,mS(t)}function mS(t,e,n){for(var r=(t.mode&1)!==0;te!==null;){var s=te,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||wu;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||Ut;a=wu;var u=Ut;if(wu=o,(Ut=l)&&!u)for(te=s;te!==null;)o=te,l=o.child,o.tag===22&&o.memoizedState!==null?b0(s):l!==null?(l.return=o,te=l):b0(s);for(;i!==null;)te=i,mS(i),i=i.sibling;te=s,wu=a,Ut=u}S0(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,te=i):S0(t)}}function S0(t){for(;te!==null;){var e=te;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ut||xh(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ut)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Bn(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&l0(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}l0(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&ql(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(H(163))}Ut||e.flags&512&&Tm(e)}catch(m){nt(e,e.return,m)}}if(e===t){te=null;break}if(n=e.sibling,n!==null){n.return=e.return,te=n;break}te=e.return}}function I0(t){for(;te!==null;){var e=te;if(e===t){te=null;break}var n=e.sibling;if(n!==null){n.return=e.return,te=n;break}te=e.return}}function b0(t){for(;te!==null;){var e=te;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{xh(4,e)}catch(l){nt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){nt(e,s,l)}}var i=e.return;try{Tm(e)}catch(l){nt(e,i,l)}break;case 5:var o=e.return;try{Tm(e)}catch(l){nt(e,o,l)}}}catch(l){nt(e,e.return,l)}if(e===t){te=null;break}var a=e.sibling;if(a!==null){a.return=e.return,te=a;break}te=e.return}}var Zk=Math.ceil,Od=rs.ReactCurrentDispatcher,lv=rs.ReactCurrentOwner,Rn=rs.ReactCurrentBatchConfig,Ce=0,_t=null,at=null,Ct=0,fn=0,Fo=oi(0),ut=0,rc=null,Bi=0,Th=0,cv=0,kl=null,nn=null,uv=0,ma=1/0,Mr=null,Dd=!1,bm=null,Us=null,_u=!1,Ns=null,jd=0,Nl=0,Cm=null,Ku=-1,Gu=0;function Kt(){return Ce&6?st():Ku!==-1?Ku:Ku=st()}function $s(t){return t.mode&1?Ce&2&&Ct!==0?Ct&-Ct:Mk.transition!==null?(Gu===0&&(Gu=Zx()),Gu):(t=je,t!==0||(t=window.event,t=t===void 0?16:oT(t.type)),t):1}function Yn(t,e,n,r){if(50<Nl)throw Nl=0,Cm=null,Error(H(185));Tc(t,n,r),(!(Ce&2)||t!==_t)&&(t===_t&&(!(Ce&2)&&(Th|=n),ut===4&&ws(t,Ct)),ln(t,r),n===1&&Ce===0&&!(e.mode&1)&&(ma=st()+500,wh&&ai()))}function ln(t,e){var n=t.callbackNode;MR(t,e);var r=yd(t,t===_t?Ct:0);if(r===0)n!==null&&jw(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&jw(n),e===1)t.tag===0?jk(C0.bind(null,t)):IT(C0.bind(null,t)),kk(function(){!(Ce&6)&&ai()}),n=null;else{switch(eT(r)){case 1:n=Mg;break;case 4:n=Xx;break;case 16:n=vd;break;case 536870912:n=Jx;break;default:n=vd}n=TS(n,gS.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function gS(t,e){if(Ku=-1,Gu=0,Ce&6)throw Error(H(327));var n=t.callbackNode;if(qo()&&t.callbackNode!==n)return null;var r=yd(t,t===_t?Ct:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Md(t,r);else{e=r;var s=Ce;Ce|=2;var i=yS();(_t!==t||Ct!==e)&&(Mr=null,ma=st()+500,Mi(t,e));do try{nN();break}catch(a){vS(t,a)}while(!0);Qg(),Od.current=i,Ce=s,at!==null?e=0:(_t=null,Ct=0,e=ut)}if(e!==0){if(e===2&&(s=em(t),s!==0&&(r=s,e=Am(t,s))),e===1)throw n=rc,Mi(t,0),ws(t,r),ln(t,st()),n;if(e===6)ws(t,r);else{if(s=t.current.alternate,!(r&30)&&!eN(s)&&(e=Md(t,r),e===2&&(i=em(t),i!==0&&(r=i,e=Am(t,i))),e===1))throw n=rc,Mi(t,0),ws(t,r),ln(t,st()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(H(345));case 2:Si(t,nn,Mr);break;case 3:if(ws(t,r),(r&130023424)===r&&(e=uv+500-st(),10<e)){if(yd(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Kt(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=lm(Si.bind(null,t,nn,Mr),e);break}Si(t,nn,Mr);break;case 4:if(ws(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-Qn(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=st()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Zk(r/1960))-r,10<r){t.timeoutHandle=lm(Si.bind(null,t,nn,Mr),r);break}Si(t,nn,Mr);break;case 5:Si(t,nn,Mr);break;default:throw Error(H(329))}}}return ln(t,st()),t.callbackNode===n?gS.bind(null,t):null}function Am(t,e){var n=kl;return t.current.memoizedState.isDehydrated&&(Mi(t,e).flags|=256),t=Md(t,e),t!==2&&(e=nn,nn=n,e!==null&&Pm(e)),t}function Pm(t){nn===null?nn=t:nn.push.apply(nn,t)}function eN(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Xn(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ws(t,e){for(e&=~cv,e&=~Th,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Qn(e),r=1<<n;t[n]=-1,e&=~r}}function C0(t){if(Ce&6)throw Error(H(327));qo();var e=yd(t,0);if(!(e&1))return ln(t,st()),null;var n=Md(t,e);if(t.tag!==0&&n===2){var r=em(t);r!==0&&(e=r,n=Am(t,r))}if(n===1)throw n=rc,Mi(t,0),ws(t,e),ln(t,st()),n;if(n===6)throw Error(H(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Si(t,nn,Mr),ln(t,st()),null}function dv(t,e){var n=Ce;Ce|=1;try{return t(e)}finally{Ce=n,Ce===0&&(ma=st()+500,wh&&ai())}}function zi(t){Ns!==null&&Ns.tag===0&&!(Ce&6)&&qo();var e=Ce;Ce|=1;var n=Rn.transition,r=je;try{if(Rn.transition=null,je=1,t)return t()}finally{je=r,Rn.transition=n,Ce=e,!(Ce&6)&&ai()}}function hv(){fn=Fo.current,ze(Fo)}function Mi(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Rk(n)),at!==null)for(n=at.return;n!==null;){var r=n;switch(qg(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Td();break;case 3:fa(),ze(on),ze(Bt),tv();break;case 5:ev(r);break;case 4:fa();break;case 13:ze(Qe);break;case 19:ze(Qe);break;case 10:Yg(r.type._context);break;case 22:case 23:hv()}n=n.return}if(_t=t,at=t=Bs(t.current,null),Ct=fn=e,ut=0,rc=null,cv=Th=Bi=0,nn=kl=null,Ci!==null){for(e=0;e<Ci.length;e++)if(n=Ci[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Ci=null}return t}function vS(t,e){do{var n=at;try{if(Qg(),Hu.current=Nd,kd){for(var r=Ye.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}kd=!1}if($i=0,vt=lt=Ye=null,Pl=!1,ec=0,lv.current=null,n===null||n.return===null){ut=1,rc=e,at=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=Ct,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,h=a,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var m=h.alternate;m?(h.updateQueue=m.updateQueue,h.memoizedState=m.memoizedState,h.lanes=m.lanes):(h.updateQueue=null,h.memoizedState=null)}var g=p0(o);if(g!==null){g.flags&=-257,m0(g,o,a,i,e),g.mode&1&&f0(i,u,e),e=g,l=u;var S=e.updateQueue;if(S===null){var y=new Set;y.add(l),e.updateQueue=y}else S.add(l);break e}else{if(!(e&1)){f0(i,u,e),fv();break e}l=Error(H(426))}}else if(qe&&a.mode&1){var E=p0(o);if(E!==null){!(E.flags&65536)&&(E.flags|=256),m0(E,o,a,i,e),Kg(pa(l,a));break e}}i=l=pa(l,a),ut!==4&&(ut=2),kl===null?kl=[i]:kl.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var T=eS(i,l,e);a0(i,T);break e;case 1:a=l;var w=i.type,_=i.stateNode;if(!(i.flags&128)&&(typeof w.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Us===null||!Us.has(_)))){i.flags|=65536,e&=-e,i.lanes|=e;var k=tS(i,a,e);a0(i,k);break e}}i=i.return}while(i!==null)}_S(n)}catch(D){e=D,at===n&&n!==null&&(at=n=n.return);continue}break}while(!0)}function yS(){var t=Od.current;return Od.current=Nd,t===null?Nd:t}function fv(){(ut===0||ut===3||ut===2)&&(ut=4),_t===null||!(Bi&268435455)&&!(Th&268435455)||ws(_t,Ct)}function Md(t,e){var n=Ce;Ce|=2;var r=yS();(_t!==t||Ct!==e)&&(Mr=null,Mi(t,e));do try{tN();break}catch(s){vS(t,s)}while(!0);if(Qg(),Ce=n,Od.current=r,at!==null)throw Error(H(261));return _t=null,Ct=0,ut}function tN(){for(;at!==null;)wS(at)}function nN(){for(;at!==null&&!CR();)wS(at)}function wS(t){var e=xS(t.alternate,t,fn);t.memoizedProps=t.pendingProps,e===null?_S(t):at=e,lv.current=null}function _S(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Qk(n,e),n!==null){n.flags&=32767,at=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ut=6,at=null;return}}else if(n=Gk(n,e,fn),n!==null){at=n;return}if(e=e.sibling,e!==null){at=e;return}at=e=t}while(e!==null);ut===0&&(ut=5)}function Si(t,e,n){var r=je,s=Rn.transition;try{Rn.transition=null,je=1,rN(t,e,n,r)}finally{Rn.transition=s,je=r}return null}function rN(t,e,n,r){do qo();while(Ns!==null);if(Ce&6)throw Error(H(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(H(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(LR(t,i),t===_t&&(at=_t=null,Ct=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||_u||(_u=!0,TS(vd,function(){return qo(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Rn.transition,Rn.transition=null;var o=je;je=1;var a=Ce;Ce|=4,lv.current=null,Xk(t,n),pS(n,t),Tk(om),wd=!!im,om=im=null,t.current=n,Jk(n),AR(),Ce=a,je=o,Rn.transition=i}else t.current=n;if(_u&&(_u=!1,Ns=t,jd=s),i=t.pendingLanes,i===0&&(Us=null),kR(n.stateNode),ln(t,st()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Dd)throw Dd=!1,t=bm,bm=null,t;return jd&1&&t.tag!==0&&qo(),i=t.pendingLanes,i&1?t===Cm?Nl++:(Nl=0,Cm=t):Nl=0,ai(),null}function qo(){if(Ns!==null){var t=eT(jd),e=Rn.transition,n=je;try{if(Rn.transition=null,je=16>t?16:t,Ns===null)var r=!1;else{if(t=Ns,Ns=null,jd=0,Ce&6)throw Error(H(331));var s=Ce;for(Ce|=4,te=t.current;te!==null;){var i=te,o=i.child;if(te.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(te=u;te!==null;){var h=te;switch(h.tag){case 0:case 11:case 15:Rl(8,h,i)}var f=h.child;if(f!==null)f.return=h,te=f;else for(;te!==null;){h=te;var m=h.sibling,g=h.return;if(dS(h),h===u){te=null;break}if(m!==null){m.return=g,te=m;break}te=g}}}var S=i.alternate;if(S!==null){var y=S.child;if(y!==null){S.child=null;do{var E=y.sibling;y.sibling=null,y=E}while(y!==null)}}te=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,te=o;else e:for(;te!==null;){if(i=te,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Rl(9,i,i.return)}var T=i.sibling;if(T!==null){T.return=i.return,te=T;break e}te=i.return}}var w=t.current;for(te=w;te!==null;){o=te;var _=o.child;if(o.subtreeFlags&2064&&_!==null)_.return=o,te=_;else e:for(o=w;te!==null;){if(a=te,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:xh(9,a)}}catch(D){nt(a,a.return,D)}if(a===o){te=null;break e}var k=a.sibling;if(k!==null){k.return=a.return,te=k;break e}te=a.return}}if(Ce=s,ai(),gr&&typeof gr.onPostCommitFiberRoot=="function")try{gr.onPostCommitFiberRoot(ph,t)}catch{}r=!0}return r}finally{je=n,Rn.transition=e}}return!1}function A0(t,e,n){e=pa(n,e),e=eS(t,e,1),t=Fs(t,e,1),e=Kt(),t!==null&&(Tc(t,1,e),ln(t,e))}function nt(t,e,n){if(t.tag===3)A0(t,t,n);else for(;e!==null;){if(e.tag===3){A0(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Us===null||!Us.has(r))){t=pa(n,t),t=tS(e,t,1),e=Fs(e,t,1),t=Kt(),e!==null&&(Tc(e,1,t),ln(e,t));break}}e=e.return}}function sN(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Kt(),t.pingedLanes|=t.suspendedLanes&n,_t===t&&(Ct&n)===n&&(ut===4||ut===3&&(Ct&130023424)===Ct&&500>st()-uv?Mi(t,0):cv|=n),ln(t,e)}function ES(t,e){e===0&&(t.mode&1?(e=uu,uu<<=1,!(uu&130023424)&&(uu=4194304)):e=1);var n=Kt();t=Qr(t,e),t!==null&&(Tc(t,e,n),ln(t,n))}function iN(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),ES(t,n)}function oN(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(H(314))}r!==null&&r.delete(e),ES(t,n)}var xS;xS=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||on.current)sn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return sn=!1,Kk(t,e,n);sn=!!(t.flags&131072)}else sn=!1,qe&&e.flags&1048576&&bT(e,bd,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;qu(t,e),t=e.pendingProps;var s=ua(e,Bt.current);Wo(e,n),s=rv(null,e,r,t,s,n);var i=sv();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,an(r)?(i=!0,Sd(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Jg(e),s.updater=Eh,e.stateNode=s,s._reactInternals=e,mm(e,r,t,n),e=ym(null,e,r,!0,i,n)):(e.tag=0,qe&&i&&Wg(e),Wt(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(qu(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=lN(r),t=Bn(r,t),s){case 0:e=vm(null,e,r,t,n);break e;case 1:e=y0(null,e,r,t,n);break e;case 11:e=g0(null,e,r,t,n);break e;case 14:e=v0(null,e,r,Bn(r.type,t),n);break e}throw Error(H(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Bn(r,s),vm(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Bn(r,s),y0(t,e,r,s,n);case 3:e:{if(iS(e),t===null)throw Error(H(387));r=e.pendingProps,i=e.memoizedState,s=i.element,NT(t,e),Pd(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=pa(Error(H(423)),e),e=w0(t,e,r,n,s);break e}else if(r!==s){s=pa(Error(H(424)),e),e=w0(t,e,r,n,s);break e}else for(mn=Vs(e.stateNode.containerInfo.firstChild),vn=e,qe=!0,Kn=null,n=RT(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(da(),r===s){e=Yr(t,e,n);break e}Wt(t,e,r,n)}e=e.child}return e;case 5:return OT(e),t===null&&hm(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,am(r,s)?o=null:i!==null&&am(r,i)&&(e.flags|=32),sS(t,e),Wt(t,e,o,n),e.child;case 6:return t===null&&hm(e),null;case 13:return oS(t,e,n);case 4:return Zg(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ha(e,null,r,n):Wt(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Bn(r,s),g0(t,e,r,s,n);case 7:return Wt(t,e,e.pendingProps,n),e.child;case 8:return Wt(t,e,e.pendingProps.children,n),e.child;case 12:return Wt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,Fe(Cd,r._currentValue),r._currentValue=o,i!==null)if(Xn(i.value,o)){if(i.children===s.children&&!on.current){e=Yr(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=Hr(-1,n&-n),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?l.next=l:(l.next=h.next,h.next=l),u.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),fm(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(H(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),fm(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Wt(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Wo(e,n),s=On(s),r=r(s),e.flags|=1,Wt(t,e,r,n),e.child;case 14:return r=e.type,s=Bn(r,e.pendingProps),s=Bn(r.type,s),v0(t,e,r,s,n);case 15:return nS(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Bn(r,s),qu(t,e),e.tag=1,an(r)?(t=!0,Sd(e)):t=!1,Wo(e,n),ZT(e,r,s),mm(e,r,s,n),ym(null,e,r,!0,t,n);case 19:return aS(t,e,n);case 22:return rS(t,e,n)}throw Error(H(156,e.tag))};function TS(t,e){return Yx(t,e)}function aN(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pn(t,e,n,r){return new aN(t,e,n,r)}function pv(t){return t=t.prototype,!(!t||!t.isReactComponent)}function lN(t){if(typeof t=="function")return pv(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Og)return 11;if(t===Dg)return 14}return 2}function Bs(t,e){var n=t.alternate;return n===null?(n=Pn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Qu(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")pv(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Po:return Li(n.children,s,i,e);case Ng:o=8,s|=8;break;case Fp:return t=Pn(12,n,e,s|2),t.elementType=Fp,t.lanes=i,t;case Up:return t=Pn(13,n,e,s),t.elementType=Up,t.lanes=i,t;case $p:return t=Pn(19,n,e,s),t.elementType=$p,t.lanes=i,t;case Ox:return Sh(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case kx:o=10;break e;case Nx:o=9;break e;case Og:o=11;break e;case Dg:o=14;break e;case gs:o=16,r=null;break e}throw Error(H(130,t==null?t:typeof t,""))}return e=Pn(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Li(t,e,n,r){return t=Pn(7,t,r,e),t.lanes=n,t}function Sh(t,e,n,r){return t=Pn(22,t,r,e),t.elementType=Ox,t.lanes=n,t.stateNode={isHidden:!1},t}function ap(t,e,n){return t=Pn(6,t,null,e),t.lanes=n,t}function lp(t,e,n){return e=Pn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function cN(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Bf(0),this.expirationTimes=Bf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bf(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function mv(t,e,n,r,s,i,o,a,l){return t=new cN(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Pn(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Jg(i),t}function uN(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ao,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function SS(t){if(!t)return Gs;t=t._reactInternals;e:{if(eo(t)!==t||t.tag!==1)throw Error(H(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(an(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(H(171))}if(t.tag===1){var n=t.type;if(an(n))return ST(t,n,e)}return e}function IS(t,e,n,r,s,i,o,a,l){return t=mv(n,r,!0,t,s,i,o,a,l),t.context=SS(null),n=t.current,r=Kt(),s=$s(n),i=Hr(r,s),i.callback=e??null,Fs(n,i,s),t.current.lanes=s,Tc(t,s,r),ln(t,r),t}function Ih(t,e,n,r){var s=e.current,i=Kt(),o=$s(s);return n=SS(n),e.context===null?e.context=n:e.pendingContext=n,e=Hr(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Fs(s,e,o),t!==null&&(Yn(t,s,o,i),zu(t,s,o)),o}function Ld(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function P0(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function gv(t,e){P0(t,e),(t=t.alternate)&&P0(t,e)}function dN(){return null}var bS=typeof reportError=="function"?reportError:function(t){console.error(t)};function vv(t){this._internalRoot=t}bh.prototype.render=vv.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(H(409));Ih(t,e,null,null)};bh.prototype.unmount=vv.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;zi(function(){Ih(null,t,null,null)}),e[Gr]=null}};function bh(t){this._internalRoot=t}bh.prototype.unstable_scheduleHydration=function(t){if(t){var e=rT();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ys.length&&e!==0&&e<ys[n].priority;n++);ys.splice(n,0,t),n===0&&iT(t)}};function yv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ch(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function R0(){}function hN(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=Ld(o);i.call(u)}}var o=IS(e,r,t,0,null,!1,!1,"",R0);return t._reactRootContainer=o,t[Gr]=o.current,Ql(t.nodeType===8?t.parentNode:t),zi(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var u=Ld(l);a.call(u)}}var l=mv(t,0,!1,null,null,!1,!1,"",R0);return t._reactRootContainer=l,t[Gr]=l.current,Ql(t.nodeType===8?t.parentNode:t),zi(function(){Ih(e,l,n,r)}),l}function Ah(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=Ld(o);a.call(l)}}Ih(e,o,t,s)}else o=hN(n,e,t,s,r);return Ld(o)}tT=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ml(e.pendingLanes);n!==0&&(Lg(e,n|1),ln(e,st()),!(Ce&6)&&(ma=st()+500,ai()))}break;case 13:zi(function(){var r=Qr(t,1);if(r!==null){var s=Kt();Yn(r,t,1,s)}}),gv(t,1)}};Vg=function(t){if(t.tag===13){var e=Qr(t,134217728);if(e!==null){var n=Kt();Yn(e,t,134217728,n)}gv(t,134217728)}};nT=function(t){if(t.tag===13){var e=$s(t),n=Qr(t,e);if(n!==null){var r=Kt();Yn(n,t,e,r)}gv(t,e)}};rT=function(){return je};sT=function(t,e){var n=je;try{return je=t,e()}finally{je=n}};Xp=function(t,e,n){switch(e){case"input":if(Hp(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=yh(r);if(!s)throw Error(H(90));jx(r),Hp(r,s)}}}break;case"textarea":Lx(t,n);break;case"select":e=n.value,e!=null&&$o(t,!!n.multiple,e,!1)}};Hx=dv;Wx=zi;var fN={usingClientEntryPoint:!1,Events:[Ic,Oo,yh,Bx,zx,dv]},cl={findFiberByHostInstance:bi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},pN={bundleType:cl.bundleType,version:cl.version,rendererPackageName:cl.rendererPackageName,rendererConfig:cl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:rs.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Gx(t),t===null?null:t.stateNode},findFiberByHostInstance:cl.findFiberByHostInstance||dN,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Eu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Eu.isDisabled&&Eu.supportsFiber)try{ph=Eu.inject(pN),gr=Eu}catch{}}xn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fN;xn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!yv(e))throw Error(H(200));return uN(t,e,null,n)};xn.createRoot=function(t,e){if(!yv(t))throw Error(H(299));var n=!1,r="",s=bS;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=mv(t,1,!1,null,null,n,!1,r,s),t[Gr]=e.current,Ql(t.nodeType===8?t.parentNode:t),new vv(e)};xn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(H(188)):(t=Object.keys(t).join(","),Error(H(268,t)));return t=Gx(e),t=t===null?null:t.stateNode,t};xn.flushSync=function(t){return zi(t)};xn.hydrate=function(t,e,n){if(!Ch(e))throw Error(H(200));return Ah(null,t,e,!0,n)};xn.hydrateRoot=function(t,e,n){if(!yv(t))throw Error(H(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=bS;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=IS(e,null,t,1,n??null,s,!1,i,o),t[Gr]=e.current,Ql(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new bh(e)};xn.render=function(t,e,n){if(!Ch(e))throw Error(H(200));return Ah(null,t,e,!1,n)};xn.unmountComponentAtNode=function(t){if(!Ch(t))throw Error(H(40));return t._reactRootContainer?(zi(function(){Ah(null,null,t,!1,function(){t._reactRootContainer=null,t[Gr]=null})}),!0):!1};xn.unstable_batchedUpdates=dv;xn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Ch(n))throw Error(H(200));if(t==null||t._reactInternals===void 0)throw Error(H(38));return Ah(t,e,n,!1,r)};xn.version="18.3.1-next-f1338f8080-20240426";function CS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(CS)}catch(t){console.error(t)}}CS(),Cx.exports=xn;var to=Cx.exports;const AS=mx(to);var PS,k0=to;PS=k0.createRoot,k0.hydrateRoot;const mN=1,gN=1e6;let cp=0;function vN(){return cp=(cp+1)%Number.MAX_SAFE_INTEGER,cp.toString()}const up=new Map,N0=t=>{if(up.has(t))return;const e=setTimeout(()=>{up.delete(t),Ol({type:"REMOVE_TOAST",toastId:t})},gN);up.set(t,e)},yN=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,mN)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?N0(n):t.toasts.forEach(r=>{N0(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},Yu=[];let Xu={toasts:[]};function Ol(t){Xu=yN(Xu,t),Yu.forEach(e=>{e(Xu)})}function wN({...t}){const e=vN(),n=s=>Ol({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>Ol({type:"DISMISS_TOAST",toastId:e});return Ol({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function _N(){const[t,e]=x.useState(Xu);return x.useEffect(()=>(Yu.push(e),()=>{const n=Yu.indexOf(e);n>-1&&Yu.splice(n,1)}),[t]),{...t,toast:wN,dismiss:n=>Ol({type:"DISMISS_TOAST",toastId:n})}}function ge(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function O0(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function RS(...t){return e=>{let n=!1;const r=t.map(s=>{const i=O0(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():O0(t[s],null)}}}}function Ge(...t){return x.useCallback(RS(...t),t)}function ka(t,e=[]){let n=[];function r(i,o){const a=x.createContext(o),l=n.length;n=[...n,o];const u=f=>{var T;const{scope:m,children:g,...S}=f,y=((T=m==null?void 0:m[t])==null?void 0:T[l])||a,E=x.useMemo(()=>S,Object.values(S));return d.jsx(y.Provider,{value:E,children:g})};u.displayName=i+"Provider";function h(f,m){var y;const g=((y=m==null?void 0:m[t])==null?void 0:y[l])||a,S=x.useContext(g);if(S)return S;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,h]}const s=()=>{const i=n.map(o=>x.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return x.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,EN(s,...e)]}function EN(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:u})=>{const f=l(i)[`__scope${u}`];return{...a,...f}},{});return x.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function sc(t){const e=TN(t),n=x.forwardRef((r,s)=>{const{children:i,...o}=r,a=x.Children.toArray(i),l=a.find(IN);if(l){const u=l.props.children,h=a.map(f=>f===l?x.Children.count(u)>1?x.Children.only(null):x.isValidElement(u)?u.props.children:null:f);return d.jsx(e,{...o,ref:s,children:x.isValidElement(u)?x.cloneElement(u,void 0,h):null})}return d.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}var xN=sc("Slot");function TN(t){const e=x.forwardRef((n,r)=>{const{children:s,...i}=n;if(x.isValidElement(s)){const o=CN(s),a=bN(i,s.props);return s.type!==x.Fragment&&(a.ref=r?RS(r,o):o),x.cloneElement(s,a)}return x.Children.count(s)>1?x.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var kS=Symbol("radix.slottable");function SN(t){const e=({children:n})=>d.jsx(d.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=kS,e}function IN(t){return x.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===kS}function bN(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{const l=i(...a);return s(...a),l}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function CN(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function NS(t){const e=t+"CollectionProvider",[n,r]=ka(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=y=>{const{scope:E,children:T}=y,w=K.useRef(null),_=K.useRef(new Map).current;return d.jsx(s,{scope:E,itemMap:_,collectionRef:w,children:T})};o.displayName=e;const a=t+"CollectionSlot",l=sc(a),u=K.forwardRef((y,E)=>{const{scope:T,children:w}=y,_=i(a,T),k=Ge(E,_.collectionRef);return d.jsx(l,{ref:k,children:w})});u.displayName=a;const h=t+"CollectionItemSlot",f="data-radix-collection-item",m=sc(h),g=K.forwardRef((y,E)=>{const{scope:T,children:w,..._}=y,k=K.useRef(null),D=Ge(E,k),M=i(h,T);return K.useEffect(()=>(M.itemMap.set(k,{ref:k,..._}),()=>void M.itemMap.delete(k))),d.jsx(m,{[f]:"",ref:D,children:w})});g.displayName=h;function S(y){const E=i(t+"CollectionConsumer",y);return K.useCallback(()=>{const w=E.collectionRef.current;if(!w)return[];const _=Array.from(w.querySelectorAll(`[${f}]`));return Array.from(E.itemMap.values()).sort((M,b)=>_.indexOf(M.ref.current)-_.indexOf(b.ref.current))},[E.collectionRef,E.itemMap])}return[{Provider:o,Slot:u,ItemSlot:g},S,r]}var AN=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ke=AN.reduce((t,e)=>{const n=sc(`Primitive.${e}`),r=x.forwardRef((s,i)=>{const{asChild:o,...a}=s,l=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),d.jsx(l,{...a,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function OS(t,e){t&&to.flushSync(()=>t.dispatchEvent(e))}function Jn(t){const e=x.useRef(t);return x.useEffect(()=>{e.current=t}),x.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function PN(t,e=globalThis==null?void 0:globalThis.document){const n=Jn(t);x.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var RN="DismissableLayer",Rm="dismissableLayer.update",kN="dismissableLayer.pointerDownOutside",NN="dismissableLayer.focusOutside",D0,DS=x.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Ph=x.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=t,u=x.useContext(DS),[h,f]=x.useState(null),m=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=x.useState({}),S=Ge(e,b=>f(b)),y=Array.from(u.layers),[E]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),T=y.indexOf(E),w=h?y.indexOf(h):-1,_=u.layersWithOutsidePointerEventsDisabled.size>0,k=w>=T,D=DN(b=>{const I=b.target,A=[...u.branches].some(P=>P.contains(I));!k||A||(s==null||s(b),o==null||o(b),b.defaultPrevented||a==null||a())},m),M=jN(b=>{const I=b.target;[...u.branches].some(P=>P.contains(I))||(i==null||i(b),o==null||o(b),b.defaultPrevented||a==null||a())},m);return PN(b=>{w===u.layers.size-1&&(r==null||r(b),!b.defaultPrevented&&a&&(b.preventDefault(),a()))},m),x.useEffect(()=>{if(h)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(D0=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(h)),u.layers.add(h),j0(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=D0)}},[h,m,n,u]),x.useEffect(()=>()=>{h&&(u.layers.delete(h),u.layersWithOutsidePointerEventsDisabled.delete(h),j0())},[h,u]),x.useEffect(()=>{const b=()=>g({});return document.addEventListener(Rm,b),()=>document.removeEventListener(Rm,b)},[]),d.jsx(ke.div,{...l,ref:S,style:{pointerEvents:_?k?"auto":"none":void 0,...t.style},onFocusCapture:ge(t.onFocusCapture,M.onFocusCapture),onBlurCapture:ge(t.onBlurCapture,M.onBlurCapture),onPointerDownCapture:ge(t.onPointerDownCapture,D.onPointerDownCapture)})});Ph.displayName=RN;var ON="DismissableLayerBranch",jS=x.forwardRef((t,e)=>{const n=x.useContext(DS),r=x.useRef(null),s=Ge(e,r);return x.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),d.jsx(ke.div,{...t,ref:s})});jS.displayName=ON;function DN(t,e=globalThis==null?void 0:globalThis.document){const n=Jn(t),r=x.useRef(!1),s=x.useRef(()=>{});return x.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){MS(kN,n,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function jN(t,e=globalThis==null?void 0:globalThis.document){const n=Jn(t),r=x.useRef(!1);return x.useEffect(()=>{const s=i=>{i.target&&!r.current&&MS(NN,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function j0(){const t=new CustomEvent(Rm);document.dispatchEvent(t)}function MS(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?OS(s,i):s.dispatchEvent(i)}var MN=Ph,LN=jS,Pt=globalThis!=null&&globalThis.document?x.useLayoutEffect:()=>{},VN="Portal",wv=x.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=x.useState(!1);Pt(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?AS.createPortal(d.jsx(ke.div,{...r,ref:e}),o):null});wv.displayName=VN;function FN(t,e){return x.useReducer((n,r)=>e[n][r]??n,t)}var _v=t=>{const{present:e,children:n}=t,r=UN(e),s=typeof n=="function"?n({present:r.isPresent}):x.Children.only(n),i=Ge(r.ref,$N(s));return typeof n=="function"||r.isPresent?x.cloneElement(s,{ref:i}):null};_v.displayName="Presence";function UN(t){const[e,n]=x.useState(),r=x.useRef(null),s=x.useRef(t),i=x.useRef("none"),o=t?"mounted":"unmounted",[a,l]=FN(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return x.useEffect(()=>{const u=xu(r.current);i.current=a==="mounted"?u:"none"},[a]),Pt(()=>{const u=r.current,h=s.current;if(h!==t){const m=i.current,g=xu(u);t?l("MOUNT"):g==="none"||(u==null?void 0:u.display)==="none"?l("UNMOUNT"):l(h&&m!==g?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,l]),Pt(()=>{if(e){let u;const h=e.ownerDocument.defaultView??window,f=g=>{const y=xu(r.current).includes(g.animationName);if(g.target===e&&y&&(l("ANIMATION_END"),!s.current)){const E=e.style.animationFillMode;e.style.animationFillMode="forwards",u=h.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=E)})}},m=g=>{g.target===e&&(i.current=xu(r.current))};return e.addEventListener("animationstart",m),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{h.clearTimeout(u),e.removeEventListener("animationstart",m),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:x.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function xu(t){return(t==null?void 0:t.animationName)||"none"}function $N(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var BN=Ag[" useInsertionEffect ".trim().toString()]||Pt;function Vd({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[s,i,o]=zN({defaultProp:e,onChange:n}),a=t!==void 0,l=a?t:s;{const h=x.useRef(t!==void 0);x.useEffect(()=>{const f=h.current;f!==a&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),h.current=a},[a,r])}const u=x.useCallback(h=>{var f;if(a){const m=HN(h)?h(t):h;m!==t&&((f=o.current)==null||f.call(o,m))}else i(h)},[a,t,i,o]);return[l,u]}function zN({defaultProp:t,onChange:e}){const[n,r]=x.useState(t),s=x.useRef(n),i=x.useRef(e);return BN(()=>{i.current=e},[e]),x.useEffect(()=>{var o;s.current!==n&&((o=i.current)==null||o.call(i,n),s.current=n)},[n,s]),[n,r,i]}function HN(t){return typeof t=="function"}var LS=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),WN="VisuallyHidden",Rh=x.forwardRef((t,e)=>d.jsx(ke.span,{...t,ref:e,style:{...LS,...t.style}}));Rh.displayName=WN;var qN=Rh,Ev="ToastProvider",[xv,KN,GN]=NS("Toast"),[VS,oB]=ka("Toast",[GN]),[QN,kh]=VS(Ev),FS=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=t,[a,l]=x.useState(null),[u,h]=x.useState(0),f=x.useRef(!1),m=x.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Ev}\`. Expected non-empty \`string\`.`),d.jsx(xv.Provider,{scope:e,children:d.jsx(QN,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:u,viewport:a,onViewportChange:l,onToastAdd:x.useCallback(()=>h(g=>g+1),[]),onToastRemove:x.useCallback(()=>h(g=>g-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:m,children:o})})};FS.displayName=Ev;var US="ToastViewport",YN=["F8"],km="toast.viewportPause",Nm="toast.viewportResume",$S=x.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=YN,label:s="Notifications ({hotkey})",...i}=t,o=kh(US,n),a=KN(n),l=x.useRef(null),u=x.useRef(null),h=x.useRef(null),f=x.useRef(null),m=Ge(e,f,o.onViewportChange),g=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),S=o.toastCount>0;x.useEffect(()=>{const E=T=>{var _;r.length!==0&&r.every(k=>T[k]||T.code===k)&&((_=f.current)==null||_.focus())};return document.addEventListener("keydown",E),()=>document.removeEventListener("keydown",E)},[r]),x.useEffect(()=>{const E=l.current,T=f.current;if(S&&E&&T){const w=()=>{if(!o.isClosePausedRef.current){const M=new CustomEvent(km);T.dispatchEvent(M),o.isClosePausedRef.current=!0}},_=()=>{if(o.isClosePausedRef.current){const M=new CustomEvent(Nm);T.dispatchEvent(M),o.isClosePausedRef.current=!1}},k=M=>{!E.contains(M.relatedTarget)&&_()},D=()=>{E.contains(document.activeElement)||_()};return E.addEventListener("focusin",w),E.addEventListener("focusout",k),E.addEventListener("pointermove",w),E.addEventListener("pointerleave",D),window.addEventListener("blur",w),window.addEventListener("focus",_),()=>{E.removeEventListener("focusin",w),E.removeEventListener("focusout",k),E.removeEventListener("pointermove",w),E.removeEventListener("pointerleave",D),window.removeEventListener("blur",w),window.removeEventListener("focus",_)}}},[S,o.isClosePausedRef]);const y=x.useCallback(({tabbingDirection:E})=>{const w=a().map(_=>{const k=_.ref.current,D=[k,...c2(k)];return E==="forwards"?D:D.reverse()});return(E==="forwards"?w.reverse():w).flat()},[a]);return x.useEffect(()=>{const E=f.current;if(E){const T=w=>{var D,M,b;const _=w.altKey||w.ctrlKey||w.metaKey;if(w.key==="Tab"&&!_){const I=document.activeElement,A=w.shiftKey;if(w.target===E&&A){(D=u.current)==null||D.focus();return}const O=y({tabbingDirection:A?"backwards":"forwards"}),R=O.findIndex(j=>j===I);dp(O.slice(R+1))?w.preventDefault():A?(M=u.current)==null||M.focus():(b=h.current)==null||b.focus()}};return E.addEventListener("keydown",T),()=>E.removeEventListener("keydown",T)}},[a,y]),d.jsxs(LN,{ref:l,role:"region","aria-label":s.replace("{hotkey}",g),tabIndex:-1,style:{pointerEvents:S?void 0:"none"},children:[S&&d.jsx(Om,{ref:u,onFocusFromOutsideViewport:()=>{const E=y({tabbingDirection:"forwards"});dp(E)}}),d.jsx(xv.Slot,{scope:n,children:d.jsx(ke.ol,{tabIndex:-1,...i,ref:m})}),S&&d.jsx(Om,{ref:h,onFocusFromOutsideViewport:()=>{const E=y({tabbingDirection:"backwards"});dp(E)}})]})});$S.displayName=US;var BS="ToastFocusProxy",Om=x.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,i=kh(BS,n);return d.jsx(Rh,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var u;const a=o.relatedTarget;!((u=i.viewport)!=null&&u.contains(a))&&r()}})});Om.displayName=BS;var Cc="Toast",XN="toast.swipeStart",JN="toast.swipeMove",ZN="toast.swipeCancel",e2="toast.swipeEnd",zS=x.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...o}=t,[a,l]=Vd({prop:r,defaultProp:s??!0,onChange:i,caller:Cc});return d.jsx(_v,{present:n||a,children:d.jsx(r2,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:Jn(t.onPause),onResume:Jn(t.onResume),onSwipeStart:ge(t.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ge(t.onSwipeMove,u=>{const{x:h,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${h}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:ge(t.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ge(t.onSwipeEnd,u=>{const{x:h,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${h}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),l(!1)})})})});zS.displayName=Cc;var[t2,n2]=VS(Cc,{onClose(){}}),r2=x.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:u,onSwipeStart:h,onSwipeMove:f,onSwipeCancel:m,onSwipeEnd:g,...S}=t,y=kh(Cc,n),[E,T]=x.useState(null),w=Ge(e,j=>T(j)),_=x.useRef(null),k=x.useRef(null),D=s||y.duration,M=x.useRef(0),b=x.useRef(D),I=x.useRef(0),{onToastAdd:A,onToastRemove:P}=y,N=Jn(()=>{var q;(E==null?void 0:E.contains(document.activeElement))&&((q=y.viewport)==null||q.focus()),o()}),O=x.useCallback(j=>{!j||j===1/0||(window.clearTimeout(I.current),M.current=new Date().getTime(),I.current=window.setTimeout(N,j))},[N]);x.useEffect(()=>{const j=y.viewport;if(j){const q=()=>{O(b.current),u==null||u()},G=()=>{const X=new Date().getTime()-M.current;b.current=b.current-X,window.clearTimeout(I.current),l==null||l()};return j.addEventListener(km,G),j.addEventListener(Nm,q),()=>{j.removeEventListener(km,G),j.removeEventListener(Nm,q)}}},[y.viewport,D,l,u,O]),x.useEffect(()=>{i&&!y.isClosePausedRef.current&&O(D)},[i,D,y.isClosePausedRef,O]),x.useEffect(()=>(A(),()=>P()),[A,P]);const R=x.useMemo(()=>E?YS(E):null,[E]);return y.viewport?d.jsxs(d.Fragment,{children:[R&&d.jsx(s2,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:R}),d.jsx(t2,{scope:n,onClose:N,children:to.createPortal(d.jsx(xv.ItemSlot,{scope:n,children:d.jsx(MN,{asChild:!0,onEscapeKeyDown:ge(a,()=>{y.isFocusedToastEscapeKeyDownRef.current||N(),y.isFocusedToastEscapeKeyDownRef.current=!1}),children:d.jsx(ke.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":y.swipeDirection,...S,ref:w,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:ge(t.onKeyDown,j=>{j.key==="Escape"&&(a==null||a(j.nativeEvent),j.nativeEvent.defaultPrevented||(y.isFocusedToastEscapeKeyDownRef.current=!0,N()))}),onPointerDown:ge(t.onPointerDown,j=>{j.button===0&&(_.current={x:j.clientX,y:j.clientY})}),onPointerMove:ge(t.onPointerMove,j=>{if(!_.current)return;const q=j.clientX-_.current.x,G=j.clientY-_.current.y,X=!!k.current,V=["left","right"].includes(y.swipeDirection),U=["left","up"].includes(y.swipeDirection)?Math.min:Math.max,W=V?U(0,q):0,re=V?0:U(0,G),J=j.pointerType==="touch"?10:2,Z={x:W,y:re},se={originalEvent:j,delta:Z};X?(k.current=Z,Tu(JN,f,se,{discrete:!1})):M0(Z,y.swipeDirection,J)?(k.current=Z,Tu(XN,h,se,{discrete:!1}),j.target.setPointerCapture(j.pointerId)):(Math.abs(q)>J||Math.abs(G)>J)&&(_.current=null)}),onPointerUp:ge(t.onPointerUp,j=>{const q=k.current,G=j.target;if(G.hasPointerCapture(j.pointerId)&&G.releasePointerCapture(j.pointerId),k.current=null,_.current=null,q){const X=j.currentTarget,V={originalEvent:j,delta:q};M0(q,y.swipeDirection,y.swipeThreshold)?Tu(e2,g,V,{discrete:!0}):Tu(ZN,m,V,{discrete:!0}),X.addEventListener("click",U=>U.preventDefault(),{once:!0})}})})})}),y.viewport)})]}):null}),s2=t=>{const{__scopeToast:e,children:n,...r}=t,s=kh(Cc,e),[i,o]=x.useState(!1),[a,l]=x.useState(!1);return a2(()=>o(!0)),x.useEffect(()=>{const u=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(u)},[]),a?null:d.jsx(wv,{asChild:!0,children:d.jsx(Rh,{...r,children:i&&d.jsxs(d.Fragment,{children:[s.label," ",n]})})})},i2="ToastTitle",HS=x.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return d.jsx(ke.div,{...r,ref:e})});HS.displayName=i2;var o2="ToastDescription",WS=x.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return d.jsx(ke.div,{...r,ref:e})});WS.displayName=o2;var qS="ToastAction",KS=x.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?d.jsx(QS,{altText:n,asChild:!0,children:d.jsx(Tv,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${qS}\`. Expected non-empty \`string\`.`),null)});KS.displayName=qS;var GS="ToastClose",Tv=x.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=n2(GS,n);return d.jsx(QS,{asChild:!0,children:d.jsx(ke.button,{type:"button",...r,ref:e,onClick:ge(t.onClick,s.onClose)})})});Tv.displayName=GS;var QS=x.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return d.jsx(ke.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function YS(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),l2(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...YS(r))}}),e}function Tu(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?OS(s,i):s.dispatchEvent(i)}var M0=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),i=r>s;return e==="left"||e==="right"?i&&r>n:!i&&s>n};function a2(t=()=>{}){const e=Jn(t);Pt(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function l2(t){return t.nodeType===t.ELEMENT_NODE}function c2(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function dp(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var u2=FS,XS=$S,JS=zS,ZS=HS,eI=WS,tI=KS,nI=Tv;function rI(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=rI(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function sI(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=rI(t))&&(r&&(r+=" "),r+=e);return r}const L0=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,V0=sI,Sv=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return V0(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(u=>{const h=n==null?void 0:n[u],f=i==null?void 0:i[u];if(h===null)return null;const m=L0(h)||L0(f);return s[u][m]}),a=n&&Object.entries(n).reduce((u,h)=>{let[f,m]=h;return m===void 0||(u[f]=m),u},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((u,h)=>{let{class:f,className:m,...g}=h;return Object.entries(g).every(S=>{let[y,E]=S;return Array.isArray(E)?E.includes({...i,...a}[y]):{...i,...a}[y]===E})?[...u,f,m]:u},[]);return V0(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d2=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),iI=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var h2={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f2=x.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},l)=>x.createElement("svg",{ref:l,...h2,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:iI("lucide",s),...a},[...o.map(([u,h])=>x.createElement(u,h)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dn=(t,e)=>{const n=x.forwardRef(({className:r,...s},i)=>x.createElement(f2,{ref:i,iconNode:e,className:iI(`lucide-${d2(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nh=dn("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p2=dn("BriefcaseBusiness",[["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M16 6V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v2",key:"1ksdt3"}],["path",{d:"M22 13a18.15 18.15 0 0 1-20 0",key:"12hx5q"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m2=dn("ChartNoAxesCombined",[["path",{d:"M12 16v5",key:"zza2cw"}],["path",{d:"M16 14v7",key:"1g90b9"}],["path",{d:"M20 10v11",key:"1iqoj0"}],["path",{d:"m22 3-8.646 8.646a.5.5 0 0 1-.708 0L9.354 8.354a.5.5 0 0 0-.707 0L2 15",key:"1fw8x9"}],["path",{d:"M4 18v3",key:"1yp0dc"}],["path",{d:"M8 14v7",key:"n3cwzv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ac=dn("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oI=dn("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g2=dn("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ga=dn("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v2=dn("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qs=dn("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y2=dn("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w2=dn("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _2=dn("UserRoundCog",[["path",{d:"M2 21a8 8 0 0 1 10.434-7.62",key:"1yezr2"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["circle",{cx:"18",cy:"18",r:"3",key:"1xkwt0"}],["path",{d:"m19.5 14.3-.4.9",key:"1eb35c"}],["path",{d:"m16.9 20.8-.4.9",key:"dfjc4z"}],["path",{d:"m21.7 19.5-.9-.4",key:"q4dx6b"}],["path",{d:"m15.2 16.9-.9-.4",key:"1r0w5f"}],["path",{d:"m21.7 16.5-.9.4",key:"1knoei"}],["path",{d:"m15.2 19.1-.9.4",key:"j188fs"}],["path",{d:"m19.5 21.7-.4-.9",key:"1tonu5"}],["path",{d:"m16.9 15.2-.4-.9",key:"699xu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const va=dn("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aI=dn("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Iv="-",E2=t=>{const e=T2(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(Iv);return a[0]===""&&a.length!==1&&a.shift(),lI(a,e)||x2(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},lI=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?lI(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(Iv);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},F0=/^\[(.+)\]$/,x2=t=>{if(F0.test(t)){const e=F0.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},T2=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return I2(Object.entries(t.classGroups),n).forEach(([i,o])=>{Dm(o,r,i,e)}),r},Dm=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:U0(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(S2(s)){Dm(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{Dm(o,U0(e,i),n,r)})})},U0=(t,e)=>{let n=t;return e.split(Iv).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},S2=t=>t.isThemeGetter,I2=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[n,s]}):t,b2=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},cI="!",C2=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,o=a=>{const l=[];let u=0,h=0,f;for(let E=0;E<a.length;E++){let T=a[E];if(u===0){if(T===s&&(r||a.slice(E,E+i)===e)){l.push(a.slice(h,E)),h=E+i;continue}if(T==="/"){f=E;continue}}T==="["?u++:T==="]"&&u--}const m=l.length===0?a:a.substring(h),g=m.startsWith(cI),S=g?m.substring(1):m,y=f&&f>h?f-h:void 0;return{modifiers:l,hasImportantModifier:g,baseClassName:S,maybePostfixModifierPosition:y}};return n?a=>n({className:a,parseClassName:o}):o},A2=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},P2=t=>({cache:b2(t.cacheSize),parseClassName:C2(t),...E2(t)}),R2=/\s+/,k2=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(R2);let a="";for(let l=o.length-1;l>=0;l-=1){const u=o[l],{modifiers:h,hasImportantModifier:f,baseClassName:m,maybePostfixModifierPosition:g}=n(u);let S=!!g,y=r(S?m.substring(0,g):m);if(!y){if(!S){a=u+(a.length>0?" "+a:a);continue}if(y=r(m),!y){a=u+(a.length>0?" "+a:a);continue}S=!1}const E=A2(h).join(":"),T=f?E+cI:E,w=T+y;if(i.includes(w))continue;i.push(w);const _=s(y,S);for(let k=0;k<_.length;++k){const D=_[k];i.push(T+D)}a=u+(a.length>0?" "+a:a)}return a};function N2(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=uI(e))&&(r&&(r+=" "),r+=n);return r}const uI=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=uI(t[r]))&&(n&&(n+=" "),n+=e);return n};function O2(t,...e){let n,r,s,i=o;function o(l){const u=e.reduce((h,f)=>f(h),t());return n=P2(u),r=n.cache.get,s=n.cache.set,i=a,a(l)}function a(l){const u=r(l);if(u)return u;const h=k2(l,n);return s(l,h),h}return function(){return i(N2.apply(null,arguments))}}const $e=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},dI=/^\[(?:([a-z-]+):)?(.+)\]$/i,D2=/^\d+\/\d+$/,j2=new Set(["px","full","screen"]),M2=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,L2=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,V2=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,F2=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,U2=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Dr=t=>Ko(t)||j2.has(t)||D2.test(t),ds=t=>Na(t,"length",G2),Ko=t=>!!t&&!Number.isNaN(Number(t)),hp=t=>Na(t,"number",Ko),ul=t=>!!t&&Number.isInteger(Number(t)),$2=t=>t.endsWith("%")&&Ko(t.slice(0,-1)),fe=t=>dI.test(t),hs=t=>M2.test(t),B2=new Set(["length","size","percentage"]),z2=t=>Na(t,B2,hI),H2=t=>Na(t,"position",hI),W2=new Set(["image","url"]),q2=t=>Na(t,W2,Y2),K2=t=>Na(t,"",Q2),dl=()=>!0,Na=(t,e,n)=>{const r=dI.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},G2=t=>L2.test(t)&&!V2.test(t),hI=()=>!1,Q2=t=>F2.test(t),Y2=t=>U2.test(t),X2=()=>{const t=$e("colors"),e=$e("spacing"),n=$e("blur"),r=$e("brightness"),s=$e("borderColor"),i=$e("borderRadius"),o=$e("borderSpacing"),a=$e("borderWidth"),l=$e("contrast"),u=$e("grayscale"),h=$e("hueRotate"),f=$e("invert"),m=$e("gap"),g=$e("gradientColorStops"),S=$e("gradientColorStopPositions"),y=$e("inset"),E=$e("margin"),T=$e("opacity"),w=$e("padding"),_=$e("saturate"),k=$e("scale"),D=$e("sepia"),M=$e("skew"),b=$e("space"),I=$e("translate"),A=()=>["auto","contain","none"],P=()=>["auto","hidden","clip","visible","scroll"],N=()=>["auto",fe,e],O=()=>[fe,e],R=()=>["",Dr,ds],j=()=>["auto",Ko,fe],q=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],G=()=>["solid","dashed","dotted","double","none"],X=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],V=()=>["start","end","center","between","around","evenly","stretch"],U=()=>["","0",fe],W=()=>["auto","avoid","all","avoid-page","page","left","right","column"],re=()=>[Ko,fe];return{cacheSize:500,separator:":",theme:{colors:[dl],spacing:[Dr,ds],blur:["none","",hs,fe],brightness:re(),borderColor:[t],borderRadius:["none","","full",hs,fe],borderSpacing:O(),borderWidth:R(),contrast:re(),grayscale:U(),hueRotate:re(),invert:U(),gap:O(),gradientColorStops:[t],gradientColorStopPositions:[$2,ds],inset:N(),margin:N(),opacity:re(),padding:O(),saturate:re(),scale:re(),sepia:U(),skew:re(),space:O(),translate:O()},classGroups:{aspect:[{aspect:["auto","square","video",fe]}],container:["container"],columns:[{columns:[hs]}],"break-after":[{"break-after":W()}],"break-before":[{"break-before":W()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...q(),fe]}],overflow:[{overflow:P()}],"overflow-x":[{"overflow-x":P()}],"overflow-y":[{"overflow-y":P()}],overscroll:[{overscroll:A()}],"overscroll-x":[{"overscroll-x":A()}],"overscroll-y":[{"overscroll-y":A()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[y]}],"inset-x":[{"inset-x":[y]}],"inset-y":[{"inset-y":[y]}],start:[{start:[y]}],end:[{end:[y]}],top:[{top:[y]}],right:[{right:[y]}],bottom:[{bottom:[y]}],left:[{left:[y]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",ul,fe]}],basis:[{basis:N()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",fe]}],grow:[{grow:U()}],shrink:[{shrink:U()}],order:[{order:["first","last","none",ul,fe]}],"grid-cols":[{"grid-cols":[dl]}],"col-start-end":[{col:["auto",{span:["full",ul,fe]},fe]}],"col-start":[{"col-start":j()}],"col-end":[{"col-end":j()}],"grid-rows":[{"grid-rows":[dl]}],"row-start-end":[{row:["auto",{span:[ul,fe]},fe]}],"row-start":[{"row-start":j()}],"row-end":[{"row-end":j()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",fe]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",fe]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...V()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...V(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...V(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[w]}],px:[{px:[w]}],py:[{py:[w]}],ps:[{ps:[w]}],pe:[{pe:[w]}],pt:[{pt:[w]}],pr:[{pr:[w]}],pb:[{pb:[w]}],pl:[{pl:[w]}],m:[{m:[E]}],mx:[{mx:[E]}],my:[{my:[E]}],ms:[{ms:[E]}],me:[{me:[E]}],mt:[{mt:[E]}],mr:[{mr:[E]}],mb:[{mb:[E]}],ml:[{ml:[E]}],"space-x":[{"space-x":[b]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[b]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",fe,e]}],"min-w":[{"min-w":[fe,e,"min","max","fit"]}],"max-w":[{"max-w":[fe,e,"none","full","min","max","fit","prose",{screen:[hs]},hs]}],h:[{h:[fe,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[fe,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[fe,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[fe,e,"auto","min","max","fit"]}],"font-size":[{text:["base",hs,ds]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",hp]}],"font-family":[{font:[dl]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",fe]}],"line-clamp":[{"line-clamp":["none",Ko,hp]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Dr,fe]}],"list-image":[{"list-image":["none",fe]}],"list-style-type":[{list:["none","disc","decimal",fe]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[T]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[T]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...G(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Dr,ds]}],"underline-offset":[{"underline-offset":["auto",Dr,fe]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",fe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",fe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[T]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...q(),H2]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",z2]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},q2]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[S]}],"gradient-via-pos":[{via:[S]}],"gradient-to-pos":[{to:[S]}],"gradient-from":[{from:[g]}],"gradient-via":[{via:[g]}],"gradient-to":[{to:[g]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[T]}],"border-style":[{border:[...G(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[T]}],"divide-style":[{divide:G()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...G()]}],"outline-offset":[{"outline-offset":[Dr,fe]}],"outline-w":[{outline:[Dr,ds]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:R()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[T]}],"ring-offset-w":[{"ring-offset":[Dr,ds]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",hs,K2]}],"shadow-color":[{shadow:[dl]}],opacity:[{opacity:[T]}],"mix-blend":[{"mix-blend":[...X(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":X()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",hs,fe]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[f]}],saturate:[{saturate:[_]}],sepia:[{sepia:[D]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[T]}],"backdrop-saturate":[{"backdrop-saturate":[_]}],"backdrop-sepia":[{"backdrop-sepia":[D]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",fe]}],duration:[{duration:re()}],ease:[{ease:["linear","in","out","in-out",fe]}],delay:[{delay:re()}],animate:[{animate:["none","spin","ping","pulse","bounce",fe]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[k]}],"scale-x":[{"scale-x":[k]}],"scale-y":[{"scale-y":[k]}],rotate:[{rotate:[ul,fe]}],"translate-x":[{"translate-x":[I]}],"translate-y":[{"translate-y":[I]}],"skew-x":[{"skew-x":[M]}],"skew-y":[{"skew-y":[M]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",fe]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",fe]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",fe]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Dr,ds,hp]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},J2=O2(X2);function Oe(...t){return J2(sI(t))}const Z2=u2,fI=x.forwardRef(({className:t,...e},n)=>d.jsx(XS,{ref:n,className:Oe("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));fI.displayName=XS.displayName;const eO=Sv("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),pI=x.forwardRef(({className:t,variant:e,...n},r)=>d.jsx(JS,{ref:r,className:Oe(eO({variant:e}),t),...n}));pI.displayName=JS.displayName;const tO=x.forwardRef(({className:t,...e},n)=>d.jsx(tI,{ref:n,className:Oe("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));tO.displayName=tI.displayName;const mI=x.forwardRef(({className:t,...e},n)=>d.jsx(nI,{ref:n,className:Oe("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:d.jsx(aI,{className:"h-4 w-4"})}));mI.displayName=nI.displayName;const gI=x.forwardRef(({className:t,...e},n)=>d.jsx(ZS,{ref:n,className:Oe("text-sm font-semibold",t),...e}));gI.displayName=ZS.displayName;const vI=x.forwardRef(({className:t,...e},n)=>d.jsx(eI,{ref:n,className:Oe("text-sm opacity-90",t),...e}));vI.displayName=eI.displayName;function nO(){const{toasts:t}=_N();return d.jsxs(Z2,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return d.jsxs(pI,{...i,children:[d.jsxs("div",{className:"grid gap-1",children:[n&&d.jsx(gI,{children:n}),r&&d.jsx(vI,{children:r})]}),s,d.jsx(mI,{})]},e)}),d.jsx(fI,{})]})}var $0=["light","dark"],rO="(prefers-color-scheme: dark)",sO=x.createContext(void 0),iO={setTheme:t=>{},themes:[]},oO=()=>{var t;return(t=x.useContext(sO))!=null?t:iO};x.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:i,value:o,attrs:a,nonce:l})=>{let u=i==="system",h=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(S=>`'${S}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,f=s?$0.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",m=(S,y=!1,E=!0)=>{let T=o?o[S]:S,w=y?S+"|| ''":`'${T}'`,_="";return s&&E&&!y&&$0.includes(S)&&(_+=`d.style.colorScheme = '${S}';`),n==="class"?y||T?_+=`c.add(${w})`:_+="null":T&&(_+=`d[s](n,${w})`),_},g=t?`!function(){${h}${m(t)}}()`:r?`!function(){try{${h}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${u})){var t='${rO}',m=window.matchMedia(t);if(m.media!==t||m.matches){${m("dark")}}else{${m("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${m(o?"x[e]":"e",!0)}}${u?"":"else{"+m(i,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${h}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${m(o?"x[e]":"e",!0)}}else{${m(i,!1,!1)};}${f}}catch(t){}}();`;return x.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:g}})});var aO=t=>{switch(t){case"success":return uO;case"info":return hO;case"warning":return dO;case"error":return fO;default:return null}},lO=Array(12).fill(0),cO=({visible:t,className:e})=>K.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},K.createElement("div",{className:"sonner-spinner"},lO.map((n,r)=>K.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),uO=K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},K.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),dO=K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},K.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),hO=K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},K.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),fO=K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},K.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),pO=K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},K.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),K.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),mO=()=>{let[t,e]=K.useState(document.hidden);return K.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},jm=1,gO=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;let{message:r,...s}=e,i=typeof(e==null?void 0:e.id)=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:jm++,o=this.toasts.find(l=>l.id===i),a=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),o?this.toasts=this.toasts.map(l=>l.id===i?(this.publish({...l,...e,id:i,title:r}),{...l,...e,id:i,dismissible:a,title:r}):l):this.addToast({title:r,...s,dismissible:a,id:i}),i},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),this.subscribers.forEach(n=>n({id:e,dismiss:!0})),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));let s=e instanceof Promise?e:e(),i=r!==void 0,o,a=s.then(async u=>{if(o=["resolve",u],K.isValidElement(u))i=!1,this.create({id:r,type:"default",message:u});else if(yO(u)&&!u.ok){i=!1;let h=typeof n.error=="function"?await n.error(`HTTP error! status: ${u.status}`):n.error,f=typeof n.description=="function"?await n.description(`HTTP error! status: ${u.status}`):n.description;this.create({id:r,type:"error",message:h,description:f})}else if(n.success!==void 0){i=!1;let h=typeof n.success=="function"?await n.success(u):n.success,f=typeof n.description=="function"?await n.description(u):n.description;this.create({id:r,type:"success",message:h,description:f})}}).catch(async u=>{if(o=["reject",u],n.error!==void 0){i=!1;let h=typeof n.error=="function"?await n.error(u):n.error,f=typeof n.description=="function"?await n.description(u):n.description;this.create({id:r,type:"error",message:h,description:f})}}).finally(()=>{var u;i&&(this.dismiss(r),r=void 0),(u=n.finally)==null||u.call(n)}),l=()=>new Promise((u,h)=>a.then(()=>o[0]==="reject"?h(o[1]):u(o[1])).catch(h));return typeof r!="string"&&typeof r!="number"?{unwrap:l}:Object.assign(r,{unwrap:l})},this.custom=(e,n)=>{let r=(n==null?void 0:n.id)||jm++;return this.create({jsx:e(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},en=new gO,vO=(t,e)=>{let n=(e==null?void 0:e.id)||jm++;return en.addToast({title:t,...e,id:n}),n},yO=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",wO=vO,_O=()=>en.toasts,EO=()=>en.getActiveToasts(),_s=Object.assign(wO,{success:en.success,info:en.info,warning:en.warning,error:en.error,custom:en.custom,message:en.message,promise:en.promise,dismiss:en.dismiss,loading:en.loading},{getHistory:_O,getToasts:EO});function xO(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}xO(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Su(t){return t.label!==void 0}var TO=3,SO="32px",IO="16px",B0=4e3,bO=356,CO=14,AO=20,PO=200;function Un(...t){return t.filter(Boolean).join(" ")}function RO(t){let[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}var kO=t=>{var e,n,r,s,i,o,a,l,u,h,f;let{invert:m,toast:g,unstyled:S,interacting:y,setHeights:E,visibleToasts:T,heights:w,index:_,toasts:k,expanded:D,removeToast:M,defaultRichColors:b,closeButton:I,style:A,cancelButtonStyle:P,actionButtonStyle:N,className:O="",descriptionClassName:R="",duration:j,position:q,gap:G,loadingIcon:X,expandByDefault:V,classNames:U,icons:W,closeButtonAriaLabel:re="Close toast",pauseWhenPageIsHidden:J}=t,[Z,se]=K.useState(null),[Ie,Me]=K.useState(null),[Y,Re]=K.useState(!1),[He,_e]=K.useState(!1),[pe,Ee]=K.useState(!1),[it,kt]=K.useState(!1),[jn,Mn]=K.useState(!1),[Ar,mi]=K.useState(0),[Pr,co]=K.useState(0),ss=K.useRef(g.duration||j||B0),$c=K.useRef(null),Ln=K.useRef(null),Ha=_===0,Bc=_+1<=T,De=g.type,Ze=g.dismissible!==!1,uo=g.className||"",zc=g.descriptionClassName||"",gi=K.useMemo(()=>w.findIndex(ce=>ce.toastId===g.id)||0,[w,g.id]),xf=K.useMemo(()=>{var ce;return(ce=g.closeButton)!=null?ce:I},[g.closeButton,I]),is=K.useMemo(()=>g.duration||j||B0,[g.duration,j]),ho=K.useRef(0),Rr=K.useRef(0),fo=K.useRef(0),os=K.useRef(null),[Tf,Wa]=q.split("-"),qa=K.useMemo(()=>w.reduce((ce,be,Le)=>Le>=gi?ce:ce+be.height,0),[w,gi]),Ka=mO(),vi=g.invert||m,yi=De==="loading";Rr.current=K.useMemo(()=>gi*G+qa,[gi,qa]),K.useEffect(()=>{ss.current=is},[is]),K.useEffect(()=>{Re(!0)},[]),K.useEffect(()=>{let ce=Ln.current;if(ce){let be=ce.getBoundingClientRect().height;return co(be),E(Le=>[{toastId:g.id,height:be,position:g.position},...Le]),()=>E(Le=>Le.filter(Et=>Et.toastId!==g.id))}},[E,g.id]),K.useLayoutEffect(()=>{if(!Y)return;let ce=Ln.current,be=ce.style.height;ce.style.height="auto";let Le=ce.getBoundingClientRect().height;ce.style.height=be,co(Le),E(Et=>Et.find(Yt=>Yt.toastId===g.id)?Et.map(Yt=>Yt.toastId===g.id?{...Yt,height:Le}:Yt):[{toastId:g.id,height:Le,position:g.position},...Et])},[Y,g.title,g.description,E,g.id]);let Sn=K.useCallback(()=>{_e(!0),mi(Rr.current),E(ce=>ce.filter(be=>be.toastId!==g.id)),setTimeout(()=>{M(g)},PO)},[g,M,E,Rr]);K.useEffect(()=>{if(g.promise&&De==="loading"||g.duration===1/0||g.type==="loading")return;let ce;return D||y||J&&Ka?(()=>{if(fo.current<ho.current){let be=new Date().getTime()-ho.current;ss.current=ss.current-be}fo.current=new Date().getTime()})():ss.current!==1/0&&(ho.current=new Date().getTime(),ce=setTimeout(()=>{var be;(be=g.onAutoClose)==null||be.call(g,g),Sn()},ss.current)),()=>clearTimeout(ce)},[D,y,g,De,J,Ka,Sn]),K.useEffect(()=>{g.delete&&Sn()},[Sn,g.delete]);function kr(){var ce,be,Le;return W!=null&&W.loading?K.createElement("div",{className:Un(U==null?void 0:U.loader,(ce=g==null?void 0:g.classNames)==null?void 0:ce.loader,"sonner-loader"),"data-visible":De==="loading"},W.loading):X?K.createElement("div",{className:Un(U==null?void 0:U.loader,(be=g==null?void 0:g.classNames)==null?void 0:be.loader,"sonner-loader"),"data-visible":De==="loading"},X):K.createElement(cO,{className:Un(U==null?void 0:U.loader,(Le=g==null?void 0:g.classNames)==null?void 0:Le.loader),visible:De==="loading"})}return K.createElement("li",{tabIndex:0,ref:Ln,className:Un(O,uo,U==null?void 0:U.toast,(e=g==null?void 0:g.classNames)==null?void 0:e.toast,U==null?void 0:U.default,U==null?void 0:U[De],(n=g==null?void 0:g.classNames)==null?void 0:n[De]),"data-sonner-toast":"","data-rich-colors":(r=g.richColors)!=null?r:b,"data-styled":!(g.jsx||g.unstyled||S),"data-mounted":Y,"data-promise":!!g.promise,"data-swiped":jn,"data-removed":He,"data-visible":Bc,"data-y-position":Tf,"data-x-position":Wa,"data-index":_,"data-front":Ha,"data-swiping":pe,"data-dismissible":Ze,"data-type":De,"data-invert":vi,"data-swipe-out":it,"data-swipe-direction":Ie,"data-expanded":!!(D||V&&Y),style:{"--index":_,"--toasts-before":_,"--z-index":k.length-_,"--offset":`${He?Ar:Rr.current}px`,"--initial-height":V?"auto":`${Pr}px`,...A,...g.style},onDragEnd:()=>{Ee(!1),se(null),os.current=null},onPointerDown:ce=>{yi||!Ze||($c.current=new Date,mi(Rr.current),ce.target.setPointerCapture(ce.pointerId),ce.target.tagName!=="BUTTON"&&(Ee(!0),os.current={x:ce.clientX,y:ce.clientY}))},onPointerUp:()=>{var ce,be,Le,Et;if(it||!Ze)return;os.current=null;let Yt=Number(((ce=Ln.current)==null?void 0:ce.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),We=Number(((be=Ln.current)==null?void 0:be.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),ir=new Date().getTime()-((Le=$c.current)==null?void 0:Le.getTime()),xt=Z==="x"?Yt:We,Xt=Math.abs(xt)/ir;if(Math.abs(xt)>=AO||Xt>.11){mi(Rr.current),(Et=g.onDismiss)==null||Et.call(g,g),Me(Z==="x"?Yt>0?"right":"left":We>0?"down":"up"),Sn(),kt(!0),Mn(!1);return}Ee(!1),se(null)},onPointerMove:ce=>{var be,Le,Et,Yt;if(!os.current||!Ze||((be=window.getSelection())==null?void 0:be.toString().length)>0)return;let We=ce.clientY-os.current.y,ir=ce.clientX-os.current.x,xt=(Le=t.swipeDirections)!=null?Le:RO(q);!Z&&(Math.abs(ir)>1||Math.abs(We)>1)&&se(Math.abs(ir)>Math.abs(We)?"x":"y");let Xt={x:0,y:0};Z==="y"?(xt.includes("top")||xt.includes("bottom"))&&(xt.includes("top")&&We<0||xt.includes("bottom")&&We>0)&&(Xt.y=We):Z==="x"&&(xt.includes("left")||xt.includes("right"))&&(xt.includes("left")&&ir<0||xt.includes("right")&&ir>0)&&(Xt.x=ir),(Math.abs(Xt.x)>0||Math.abs(Xt.y)>0)&&Mn(!0),(Et=Ln.current)==null||Et.style.setProperty("--swipe-amount-x",`${Xt.x}px`),(Yt=Ln.current)==null||Yt.style.setProperty("--swipe-amount-y",`${Xt.y}px`)}},xf&&!g.jsx?K.createElement("button",{"aria-label":re,"data-disabled":yi,"data-close-button":!0,onClick:yi||!Ze?()=>{}:()=>{var ce;Sn(),(ce=g.onDismiss)==null||ce.call(g,g)},className:Un(U==null?void 0:U.closeButton,(s=g==null?void 0:g.classNames)==null?void 0:s.closeButton)},(i=W==null?void 0:W.close)!=null?i:pO):null,g.jsx||x.isValidElement(g.title)?g.jsx?g.jsx:typeof g.title=="function"?g.title():g.title:K.createElement(K.Fragment,null,De||g.icon||g.promise?K.createElement("div",{"data-icon":"",className:Un(U==null?void 0:U.icon,(o=g==null?void 0:g.classNames)==null?void 0:o.icon)},g.promise||g.type==="loading"&&!g.icon?g.icon||kr():null,g.type!=="loading"?g.icon||(W==null?void 0:W[De])||aO(De):null):null,K.createElement("div",{"data-content":"",className:Un(U==null?void 0:U.content,(a=g==null?void 0:g.classNames)==null?void 0:a.content)},K.createElement("div",{"data-title":"",className:Un(U==null?void 0:U.title,(l=g==null?void 0:g.classNames)==null?void 0:l.title)},typeof g.title=="function"?g.title():g.title),g.description?K.createElement("div",{"data-description":"",className:Un(R,zc,U==null?void 0:U.description,(u=g==null?void 0:g.classNames)==null?void 0:u.description)},typeof g.description=="function"?g.description():g.description):null),x.isValidElement(g.cancel)?g.cancel:g.cancel&&Su(g.cancel)?K.createElement("button",{"data-button":!0,"data-cancel":!0,style:g.cancelButtonStyle||P,onClick:ce=>{var be,Le;Su(g.cancel)&&Ze&&((Le=(be=g.cancel).onClick)==null||Le.call(be,ce),Sn())},className:Un(U==null?void 0:U.cancelButton,(h=g==null?void 0:g.classNames)==null?void 0:h.cancelButton)},g.cancel.label):null,x.isValidElement(g.action)?g.action:g.action&&Su(g.action)?K.createElement("button",{"data-button":!0,"data-action":!0,style:g.actionButtonStyle||N,onClick:ce=>{var be,Le;Su(g.action)&&((Le=(be=g.action).onClick)==null||Le.call(be,ce),!ce.defaultPrevented&&Sn())},className:Un(U==null?void 0:U.actionButton,(f=g==null?void 0:g.classNames)==null?void 0:f.actionButton)},g.action.label):null))};function z0(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function NO(t,e){let n={};return[t,e].forEach((r,s)=>{let i=s===1,o=i?"--mobile-offset":"--offset",a=i?IO:SO;function l(u){["top","right","bottom","left"].forEach(h=>{n[`${o}-${h}`]=typeof u=="number"?`${u}px`:u})}typeof r=="number"||typeof r=="string"?l(r):typeof r=="object"?["top","right","bottom","left"].forEach(u=>{r[u]===void 0?n[`${o}-${u}`]=a:n[`${o}-${u}`]=typeof r[u]=="number"?`${r[u]}px`:r[u]}):l(a)}),n}var OO=x.forwardRef(function(t,e){let{invert:n,position:r="bottom-right",hotkey:s=["altKey","KeyT"],expand:i,closeButton:o,className:a,offset:l,mobileOffset:u,theme:h="light",richColors:f,duration:m,style:g,visibleToasts:S=TO,toastOptions:y,dir:E=z0(),gap:T=CO,loadingIcon:w,icons:_,containerAriaLabel:k="Notifications",pauseWhenPageIsHidden:D}=t,[M,b]=K.useState([]),I=K.useMemo(()=>Array.from(new Set([r].concat(M.filter(J=>J.position).map(J=>J.position)))),[M,r]),[A,P]=K.useState([]),[N,O]=K.useState(!1),[R,j]=K.useState(!1),[q,G]=K.useState(h!=="system"?h:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),X=K.useRef(null),V=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),U=K.useRef(null),W=K.useRef(!1),re=K.useCallback(J=>{b(Z=>{var se;return(se=Z.find(Ie=>Ie.id===J.id))!=null&&se.delete||en.dismiss(J.id),Z.filter(({id:Ie})=>Ie!==J.id)})},[]);return K.useEffect(()=>en.subscribe(J=>{if(J.dismiss){b(Z=>Z.map(se=>se.id===J.id?{...se,delete:!0}:se));return}setTimeout(()=>{AS.flushSync(()=>{b(Z=>{let se=Z.findIndex(Ie=>Ie.id===J.id);return se!==-1?[...Z.slice(0,se),{...Z[se],...J},...Z.slice(se+1)]:[J,...Z]})})})}),[]),K.useEffect(()=>{if(h!=="system"){G(h);return}if(h==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?G("dark"):G("light")),typeof window>"u")return;let J=window.matchMedia("(prefers-color-scheme: dark)");try{J.addEventListener("change",({matches:Z})=>{G(Z?"dark":"light")})}catch{J.addListener(({matches:se})=>{try{G(se?"dark":"light")}catch(Ie){console.error(Ie)}})}},[h]),K.useEffect(()=>{M.length<=1&&O(!1)},[M]),K.useEffect(()=>{let J=Z=>{var se,Ie;s.every(Me=>Z[Me]||Z.code===Me)&&(O(!0),(se=X.current)==null||se.focus()),Z.code==="Escape"&&(document.activeElement===X.current||(Ie=X.current)!=null&&Ie.contains(document.activeElement))&&O(!1)};return document.addEventListener("keydown",J),()=>document.removeEventListener("keydown",J)},[s]),K.useEffect(()=>{if(X.current)return()=>{U.current&&(U.current.focus({preventScroll:!0}),U.current=null,W.current=!1)}},[X.current]),K.createElement("section",{ref:e,"aria-label":`${k} ${V}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},I.map((J,Z)=>{var se;let[Ie,Me]=J.split("-");return M.length?K.createElement("ol",{key:J,dir:E==="auto"?z0():E,tabIndex:-1,ref:X,className:a,"data-sonner-toaster":!0,"data-theme":q,"data-y-position":Ie,"data-lifted":N&&M.length>1&&!i,"data-x-position":Me,style:{"--front-toast-height":`${((se=A[0])==null?void 0:se.height)||0}px`,"--width":`${bO}px`,"--gap":`${T}px`,...g,...NO(l,u)},onBlur:Y=>{W.current&&!Y.currentTarget.contains(Y.relatedTarget)&&(W.current=!1,U.current&&(U.current.focus({preventScroll:!0}),U.current=null))},onFocus:Y=>{Y.target instanceof HTMLElement&&Y.target.dataset.dismissible==="false"||W.current||(W.current=!0,U.current=Y.relatedTarget)},onMouseEnter:()=>O(!0),onMouseMove:()=>O(!0),onMouseLeave:()=>{R||O(!1)},onDragEnd:()=>O(!1),onPointerDown:Y=>{Y.target instanceof HTMLElement&&Y.target.dataset.dismissible==="false"||j(!0)},onPointerUp:()=>j(!1)},M.filter(Y=>!Y.position&&Z===0||Y.position===J).map((Y,Re)=>{var He,_e;return K.createElement(kO,{key:Y.id,icons:_,index:Re,toast:Y,defaultRichColors:f,duration:(He=y==null?void 0:y.duration)!=null?He:m,className:y==null?void 0:y.className,descriptionClassName:y==null?void 0:y.descriptionClassName,invert:n,visibleToasts:S,closeButton:(_e=y==null?void 0:y.closeButton)!=null?_e:o,interacting:R,position:J,style:y==null?void 0:y.style,unstyled:y==null?void 0:y.unstyled,classNames:y==null?void 0:y.classNames,cancelButtonStyle:y==null?void 0:y.cancelButtonStyle,actionButtonStyle:y==null?void 0:y.actionButtonStyle,removeToast:re,toasts:M.filter(pe=>pe.position==Y.position),heights:A.filter(pe=>pe.position==Y.position),setHeights:P,expandByDefault:i,gap:T,loadingIcon:w,expanded:N,pauseWhenPageIsHidden:D,swipeDirections:t.swipeDirections})})):null}))});const DO=({...t})=>{const{theme:e="system"}=oO();return d.jsx(OO,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var jO=Ag[" useId ".trim().toString()]||(()=>{}),MO=0;function bv(t){const[e,n]=x.useState(jO());return Pt(()=>{n(r=>r??String(MO++))},[t]),e?`radix-${e}`:""}const LO=["top","right","bottom","left"],Ys=Math.min,pn=Math.max,Fd=Math.round,Iu=Math.floor,yr=t=>({x:t,y:t}),VO={left:"right",right:"left",bottom:"top",top:"bottom"},FO={start:"end",end:"start"};function Mm(t,e,n){return pn(t,Ys(e,n))}function Xr(t,e){return typeof t=="function"?t(e):t}function Jr(t){return t.split("-")[0]}function Oa(t){return t.split("-")[1]}function Cv(t){return t==="x"?"y":"x"}function Av(t){return t==="y"?"height":"width"}function mr(t){return["top","bottom"].includes(Jr(t))?"y":"x"}function Pv(t){return Cv(mr(t))}function UO(t,e,n){n===void 0&&(n=!1);const r=Oa(t),s=Pv(t),i=Av(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=Ud(o)),[o,Ud(o)]}function $O(t){const e=Ud(t);return[Lm(t),e,Lm(e)]}function Lm(t){return t.replace(/start|end/g,e=>FO[e])}function BO(t,e,n){const r=["left","right"],s=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?s:r:e?r:s;case"left":case"right":return e?i:o;default:return[]}}function zO(t,e,n,r){const s=Oa(t);let i=BO(Jr(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(Lm)))),i}function Ud(t){return t.replace(/left|right|bottom|top/g,e=>VO[e])}function HO(t){return{top:0,right:0,bottom:0,left:0,...t}}function yI(t){return typeof t!="number"?HO(t):{top:t,right:t,bottom:t,left:t}}function $d(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function H0(t,e,n){let{reference:r,floating:s}=t;const i=mr(e),o=Pv(e),a=Av(o),l=Jr(e),u=i==="y",h=r.x+r.width/2-s.width/2,f=r.y+r.height/2-s.height/2,m=r[a]/2-s[a]/2;let g;switch(l){case"top":g={x:h,y:r.y-s.height};break;case"bottom":g={x:h,y:r.y+r.height};break;case"right":g={x:r.x+r.width,y:f};break;case"left":g={x:r.x-s.width,y:f};break;default:g={x:r.x,y:r.y}}switch(Oa(e)){case"start":g[o]-=m*(n&&u?-1:1);break;case"end":g[o]+=m*(n&&u?-1:1);break}return g}const WO=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let u=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:h,y:f}=H0(u,r,l),m=r,g={},S=0;for(let y=0;y<a.length;y++){const{name:E,fn:T}=a[y],{x:w,y:_,data:k,reset:D}=await T({x:h,y:f,initialPlacement:r,placement:m,strategy:s,middlewareData:g,rects:u,platform:o,elements:{reference:t,floating:e}});h=w??h,f=_??f,g={...g,[E]:{...g[E],...k}},D&&S<=50&&(S++,typeof D=="object"&&(D.placement&&(m=D.placement),D.rects&&(u=D.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):D.rects),{x:h,y:f}=H0(u,m,l)),y=-1)}return{x:h,y:f,placement:m,strategy:s,middlewareData:g}};async function ic(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:l}=t,{boundary:u="clippingAncestors",rootBoundary:h="viewport",elementContext:f="floating",altBoundary:m=!1,padding:g=0}=Xr(e,t),S=yI(g),E=a[m?f==="floating"?"reference":"floating":f],T=$d(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(E)))==null||n?E:E.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:u,rootBoundary:h,strategy:l})),w=f==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,_=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),k=await(i.isElement==null?void 0:i.isElement(_))?await(i.getScale==null?void 0:i.getScale(_))||{x:1,y:1}:{x:1,y:1},D=$d(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:w,offsetParent:_,strategy:l}):w);return{top:(T.top-D.top+S.top)/k.y,bottom:(D.bottom-T.bottom+S.bottom)/k.y,left:(T.left-D.left+S.left)/k.x,right:(D.right-T.right+S.right)/k.x}}const qO=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:l}=e,{element:u,padding:h=0}=Xr(t,e)||{};if(u==null)return{};const f=yI(h),m={x:n,y:r},g=Pv(s),S=Av(g),y=await o.getDimensions(u),E=g==="y",T=E?"top":"left",w=E?"bottom":"right",_=E?"clientHeight":"clientWidth",k=i.reference[S]+i.reference[g]-m[g]-i.floating[S],D=m[g]-i.reference[g],M=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let b=M?M[_]:0;(!b||!await(o.isElement==null?void 0:o.isElement(M)))&&(b=a.floating[_]||i.floating[S]);const I=k/2-D/2,A=b/2-y[S]/2-1,P=Ys(f[T],A),N=Ys(f[w],A),O=P,R=b-y[S]-N,j=b/2-y[S]/2+I,q=Mm(O,j,R),G=!l.arrow&&Oa(s)!=null&&j!==q&&i.reference[S]/2-(j<O?P:N)-y[S]/2<0,X=G?j<O?j-O:j-R:0;return{[g]:m[g]+X,data:{[g]:q,centerOffset:j-q-X,...G&&{alignmentOffset:X}},reset:G}}}),KO=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:l,elements:u}=e,{mainAxis:h=!0,crossAxis:f=!0,fallbackPlacements:m,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:S="none",flipAlignment:y=!0,...E}=Xr(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const T=Jr(s),w=mr(a),_=Jr(a)===a,k=await(l.isRTL==null?void 0:l.isRTL(u.floating)),D=m||(_||!y?[Ud(a)]:$O(a)),M=S!=="none";!m&&M&&D.push(...zO(a,y,S,k));const b=[a,...D],I=await ic(e,E),A=[];let P=((r=i.flip)==null?void 0:r.overflows)||[];if(h&&A.push(I[T]),f){const j=UO(s,o,k);A.push(I[j[0]],I[j[1]])}if(P=[...P,{placement:s,overflows:A}],!A.every(j=>j<=0)){var N,O;const j=(((N=i.flip)==null?void 0:N.index)||0)+1,q=b[j];if(q&&(!(f==="alignment"?w!==mr(q):!1)||P.every(V=>V.overflows[0]>0&&mr(V.placement)===w)))return{data:{index:j,overflows:P},reset:{placement:q}};let G=(O=P.filter(X=>X.overflows[0]<=0).sort((X,V)=>X.overflows[1]-V.overflows[1])[0])==null?void 0:O.placement;if(!G)switch(g){case"bestFit":{var R;const X=(R=P.filter(V=>{if(M){const U=mr(V.placement);return U===w||U==="y"}return!0}).map(V=>[V.placement,V.overflows.filter(U=>U>0).reduce((U,W)=>U+W,0)]).sort((V,U)=>V[1]-U[1])[0])==null?void 0:R[0];X&&(G=X);break}case"initialPlacement":G=a;break}if(s!==G)return{reset:{placement:G}}}return{}}}};function W0(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function q0(t){return LO.some(e=>t[e]>=0)}const GO=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=Xr(t,e);switch(r){case"referenceHidden":{const i=await ic(e,{...s,elementContext:"reference"}),o=W0(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:q0(o)}}}case"escaped":{const i=await ic(e,{...s,altBoundary:!0}),o=W0(i,n.floating);return{data:{escapedOffsets:o,escaped:q0(o)}}}default:return{}}}}};async function QO(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=Jr(n),a=Oa(n),l=mr(n)==="y",u=["left","top"].includes(o)?-1:1,h=i&&l?-1:1,f=Xr(e,t);let{mainAxis:m,crossAxis:g,alignmentAxis:S}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof S=="number"&&(g=a==="end"?S*-1:S),l?{x:g*h,y:m*u}:{x:m*u,y:g*h}}const YO=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=e,l=await QO(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+l.x,y:i+l.y,data:{...l,placement:o}}}}},XO=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:E=>{let{x:T,y:w}=E;return{x:T,y:w}}},...l}=Xr(t,e),u={x:n,y:r},h=await ic(e,l),f=mr(Jr(s)),m=Cv(f);let g=u[m],S=u[f];if(i){const E=m==="y"?"top":"left",T=m==="y"?"bottom":"right",w=g+h[E],_=g-h[T];g=Mm(w,g,_)}if(o){const E=f==="y"?"top":"left",T=f==="y"?"bottom":"right",w=S+h[E],_=S-h[T];S=Mm(w,S,_)}const y=a.fn({...e,[m]:g,[f]:S});return{...y,data:{x:y.x-n,y:y.y-r,enabled:{[m]:i,[f]:o}}}}}},JO=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:u=!0}=Xr(t,e),h={x:n,y:r},f=mr(s),m=Cv(f);let g=h[m],S=h[f];const y=Xr(a,e),E=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(l){const _=m==="y"?"height":"width",k=i.reference[m]-i.floating[_]+E.mainAxis,D=i.reference[m]+i.reference[_]-E.mainAxis;g<k?g=k:g>D&&(g=D)}if(u){var T,w;const _=m==="y"?"width":"height",k=["top","left"].includes(Jr(s)),D=i.reference[f]-i.floating[_]+(k&&((T=o.offset)==null?void 0:T[f])||0)+(k?0:E.crossAxis),M=i.reference[f]+i.reference[_]+(k?0:((w=o.offset)==null?void 0:w[f])||0)-(k?E.crossAxis:0);S<D?S=D:S>M&&(S=M)}return{[m]:g,[f]:S}}}},ZO=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:a}=e,{apply:l=()=>{},...u}=Xr(t,e),h=await ic(e,u),f=Jr(s),m=Oa(s),g=mr(s)==="y",{width:S,height:y}=i.floating;let E,T;f==="top"||f==="bottom"?(E=f,T=m===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(T=f,E=m==="end"?"top":"bottom");const w=y-h.top-h.bottom,_=S-h.left-h.right,k=Ys(y-h[E],w),D=Ys(S-h[T],_),M=!e.middlewareData.shift;let b=k,I=D;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(I=_),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(b=w),M&&!m){const P=pn(h.left,0),N=pn(h.right,0),O=pn(h.top,0),R=pn(h.bottom,0);g?I=S-2*(P!==0||N!==0?P+N:pn(h.left,h.right)):b=y-2*(O!==0||R!==0?O+R:pn(h.top,h.bottom))}await l({...e,availableWidth:I,availableHeight:b});const A=await o.getDimensions(a.floating);return S!==A.width||y!==A.height?{reset:{rects:!0}}:{}}}};function Oh(){return typeof window<"u"}function Da(t){return wI(t)?(t.nodeName||"").toLowerCase():"#document"}function yn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Cr(t){var e;return(e=(wI(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function wI(t){return Oh()?t instanceof Node||t instanceof yn(t).Node:!1}function Zn(t){return Oh()?t instanceof Element||t instanceof yn(t).Element:!1}function Tr(t){return Oh()?t instanceof HTMLElement||t instanceof yn(t).HTMLElement:!1}function K0(t){return!Oh()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof yn(t).ShadowRoot}function Pc(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=er(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(s)}function eD(t){return["table","td","th"].includes(Da(t))}function Dh(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function Rv(t){const e=kv(),n=Zn(t)?er(t):t;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function tD(t){let e=Xs(t);for(;Tr(e)&&!ya(e);){if(Rv(e))return e;if(Dh(e))return null;e=Xs(e)}return null}function kv(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function ya(t){return["html","body","#document"].includes(Da(t))}function er(t){return yn(t).getComputedStyle(t)}function jh(t){return Zn(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Xs(t){if(Da(t)==="html")return t;const e=t.assignedSlot||t.parentNode||K0(t)&&t.host||Cr(t);return K0(e)?e.host:e}function _I(t){const e=Xs(t);return ya(e)?t.ownerDocument?t.ownerDocument.body:t.body:Tr(e)&&Pc(e)?e:_I(e)}function oc(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=_I(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=yn(s);if(i){const a=Vm(o);return e.concat(o,o.visualViewport||[],Pc(s)?s:[],a&&n?oc(a):[])}return e.concat(s,oc(s,[],n))}function Vm(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function EI(t){const e=er(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=Tr(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,a=Fd(n)!==i||Fd(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function Nv(t){return Zn(t)?t:t.contextElement}function Go(t){const e=Nv(t);if(!Tr(e))return yr(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=EI(e);let o=(i?Fd(n.width):n.width)/r,a=(i?Fd(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const nD=yr(0);function xI(t){const e=yn(t);return!kv()||!e.visualViewport?nD:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function rD(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==yn(t)?!1:e}function Hi(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=Nv(t);let o=yr(1);e&&(r?Zn(r)&&(o=Go(r)):o=Go(t));const a=rD(i,n,r)?xI(i):yr(0);let l=(s.left+a.x)/o.x,u=(s.top+a.y)/o.y,h=s.width/o.x,f=s.height/o.y;if(i){const m=yn(i),g=r&&Zn(r)?yn(r):r;let S=m,y=Vm(S);for(;y&&r&&g!==S;){const E=Go(y),T=y.getBoundingClientRect(),w=er(y),_=T.left+(y.clientLeft+parseFloat(w.paddingLeft))*E.x,k=T.top+(y.clientTop+parseFloat(w.paddingTop))*E.y;l*=E.x,u*=E.y,h*=E.x,f*=E.y,l+=_,u+=k,S=yn(y),y=Vm(S)}}return $d({width:h,height:f,x:l,y:u})}function Ov(t,e){const n=jh(t).scrollLeft;return e?e.left+n:Hi(Cr(t)).left+n}function TI(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),s=r.left+e.scrollLeft-(n?0:Ov(t,r)),i=r.top+e.scrollTop;return{x:s,y:i}}function sD(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=Cr(r),a=e?Dh(e.floating):!1;if(r===o||a&&i)return n;let l={scrollLeft:0,scrollTop:0},u=yr(1);const h=yr(0),f=Tr(r);if((f||!f&&!i)&&((Da(r)!=="body"||Pc(o))&&(l=jh(r)),Tr(r))){const g=Hi(r);u=Go(r),h.x=g.x+r.clientLeft,h.y=g.y+r.clientTop}const m=o&&!f&&!i?TI(o,l,!0):yr(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-l.scrollLeft*u.x+h.x+m.x,y:n.y*u.y-l.scrollTop*u.y+h.y+m.y}}function iD(t){return Array.from(t.getClientRects())}function oD(t){const e=Cr(t),n=jh(t),r=t.ownerDocument.body,s=pn(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=pn(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+Ov(t);const a=-n.scrollTop;return er(r).direction==="rtl"&&(o+=pn(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}function aD(t,e){const n=yn(t),r=Cr(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,l=0;if(s){i=s.width,o=s.height;const u=kv();(!u||u&&e==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:i,height:o,x:a,y:l}}function lD(t,e){const n=Hi(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=Tr(t)?Go(t):yr(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,l=s*i.x,u=r*i.y;return{width:o,height:a,x:l,y:u}}function G0(t,e,n){let r;if(e==="viewport")r=aD(t,n);else if(e==="document")r=oD(Cr(t));else if(Zn(e))r=lD(e,n);else{const s=xI(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return $d(r)}function SI(t,e){const n=Xs(t);return n===e||!Zn(n)||ya(n)?!1:er(n).position==="fixed"||SI(n,e)}function cD(t,e){const n=e.get(t);if(n)return n;let r=oc(t,[],!1).filter(a=>Zn(a)&&Da(a)!=="body"),s=null;const i=er(t).position==="fixed";let o=i?Xs(t):t;for(;Zn(o)&&!ya(o);){const a=er(o),l=Rv(o);!l&&a.position==="fixed"&&(s=null),(i?!l&&!s:!l&&a.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||Pc(o)&&!l&&SI(t,o))?r=r.filter(h=>h!==o):s=a,o=Xs(o)}return e.set(t,r),r}function uD(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?Dh(e)?[]:cD(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((u,h)=>{const f=G0(e,h,s);return u.top=pn(f.top,u.top),u.right=Ys(f.right,u.right),u.bottom=Ys(f.bottom,u.bottom),u.left=pn(f.left,u.left),u},G0(e,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function dD(t){const{width:e,height:n}=EI(t);return{width:e,height:n}}function hD(t,e,n){const r=Tr(e),s=Cr(e),i=n==="fixed",o=Hi(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const l=yr(0);function u(){l.x=Ov(s)}if(r||!r&&!i)if((Da(e)!=="body"||Pc(s))&&(a=jh(e)),r){const g=Hi(e,!0,i,e);l.x=g.x+e.clientLeft,l.y=g.y+e.clientTop}else s&&u();i&&!r&&s&&u();const h=s&&!r&&!i?TI(s,a):yr(0),f=o.left+a.scrollLeft-l.x-h.x,m=o.top+a.scrollTop-l.y-h.y;return{x:f,y:m,width:o.width,height:o.height}}function fp(t){return er(t).position==="static"}function Q0(t,e){if(!Tr(t)||er(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Cr(t)===n&&(n=n.ownerDocument.body),n}function II(t,e){const n=yn(t);if(Dh(t))return n;if(!Tr(t)){let s=Xs(t);for(;s&&!ya(s);){if(Zn(s)&&!fp(s))return s;s=Xs(s)}return n}let r=Q0(t,e);for(;r&&eD(r)&&fp(r);)r=Q0(r,e);return r&&ya(r)&&fp(r)&&!Rv(r)?n:r||tD(t)||n}const fD=async function(t){const e=this.getOffsetParent||II,n=this.getDimensions,r=await n(t.floating);return{reference:hD(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function pD(t){return er(t).direction==="rtl"}const mD={convertOffsetParentRelativeRectToViewportRelativeRect:sD,getDocumentElement:Cr,getClippingRect:uD,getOffsetParent:II,getElementRects:fD,getClientRects:iD,getDimensions:dD,getScale:Go,isElement:Zn,isRTL:pD};function bI(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function gD(t,e){let n=null,r;const s=Cr(t);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),i();const u=t.getBoundingClientRect(),{left:h,top:f,width:m,height:g}=u;if(a||e(),!m||!g)return;const S=Iu(f),y=Iu(s.clientWidth-(h+m)),E=Iu(s.clientHeight-(f+g)),T=Iu(h),_={rootMargin:-S+"px "+-y+"px "+-E+"px "+-T+"px",threshold:pn(0,Ys(1,l))||1};let k=!0;function D(M){const b=M[0].intersectionRatio;if(b!==l){if(!k)return o();b?o(!1,b):r=setTimeout(()=>{o(!1,1e-7)},1e3)}b===1&&!bI(u,t.getBoundingClientRect())&&o(),k=!1}try{n=new IntersectionObserver(D,{..._,root:s.ownerDocument})}catch{n=new IntersectionObserver(D,_)}n.observe(t)}return o(!0),i}function vD(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,u=Nv(t),h=s||i?[...u?oc(u):[],...oc(e)]:[];h.forEach(T=>{s&&T.addEventListener("scroll",n,{passive:!0}),i&&T.addEventListener("resize",n)});const f=u&&a?gD(u,n):null;let m=-1,g=null;o&&(g=new ResizeObserver(T=>{let[w]=T;w&&w.target===u&&g&&(g.unobserve(e),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var _;(_=g)==null||_.observe(e)})),n()}),u&&!l&&g.observe(u),g.observe(e));let S,y=l?Hi(t):null;l&&E();function E(){const T=Hi(t);y&&!bI(y,T)&&n(),y=T,S=requestAnimationFrame(E)}return n(),()=>{var T;h.forEach(w=>{s&&w.removeEventListener("scroll",n),i&&w.removeEventListener("resize",n)}),f==null||f(),(T=g)==null||T.disconnect(),g=null,l&&cancelAnimationFrame(S)}}const yD=YO,wD=XO,_D=KO,ED=ZO,xD=GO,Y0=qO,TD=JO,SD=(t,e,n)=>{const r=new Map,s={platform:mD,...n},i={...s.platform,_c:r};return WO(t,e,{...s,platform:i})};var ID=typeof document<"u",bD=function(){},Ju=ID?x.useLayoutEffect:bD;function Bd(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Bd(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!Bd(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function CI(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function X0(t,e){const n=CI(t);return Math.round(e*n)/n}function pp(t){const e=x.useRef(t);return Ju(()=>{e.current=t}),e}function CD(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:l,open:u}=t,[h,f]=x.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[m,g]=x.useState(r);Bd(m,r)||g(r);const[S,y]=x.useState(null),[E,T]=x.useState(null),w=x.useCallback(V=>{V!==M.current&&(M.current=V,y(V))},[]),_=x.useCallback(V=>{V!==b.current&&(b.current=V,T(V))},[]),k=i||S,D=o||E,M=x.useRef(null),b=x.useRef(null),I=x.useRef(h),A=l!=null,P=pp(l),N=pp(s),O=pp(u),R=x.useCallback(()=>{if(!M.current||!b.current)return;const V={placement:e,strategy:n,middleware:m};N.current&&(V.platform=N.current),SD(M.current,b.current,V).then(U=>{const W={...U,isPositioned:O.current!==!1};j.current&&!Bd(I.current,W)&&(I.current=W,to.flushSync(()=>{f(W)}))})},[m,e,n,N,O]);Ju(()=>{u===!1&&I.current.isPositioned&&(I.current.isPositioned=!1,f(V=>({...V,isPositioned:!1})))},[u]);const j=x.useRef(!1);Ju(()=>(j.current=!0,()=>{j.current=!1}),[]),Ju(()=>{if(k&&(M.current=k),D&&(b.current=D),k&&D){if(P.current)return P.current(k,D,R);R()}},[k,D,R,P,A]);const q=x.useMemo(()=>({reference:M,floating:b,setReference:w,setFloating:_}),[w,_]),G=x.useMemo(()=>({reference:k,floating:D}),[k,D]),X=x.useMemo(()=>{const V={position:n,left:0,top:0};if(!G.floating)return V;const U=X0(G.floating,h.x),W=X0(G.floating,h.y);return a?{...V,transform:"translate("+U+"px, "+W+"px)",...CI(G.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:U,top:W}},[n,a,G.floating,h.x,h.y]);return x.useMemo(()=>({...h,update:R,refs:q,elements:G,floatingStyles:X}),[h,R,q,G,X])}const AD=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?Y0({element:r.current,padding:s}).fn(n):{}:r?Y0({element:r,padding:s}).fn(n):{}}}},PD=(t,e)=>({...yD(t),options:[t,e]}),RD=(t,e)=>({...wD(t),options:[t,e]}),kD=(t,e)=>({...TD(t),options:[t,e]}),ND=(t,e)=>({..._D(t),options:[t,e]}),OD=(t,e)=>({...ED(t),options:[t,e]}),DD=(t,e)=>({...xD(t),options:[t,e]}),jD=(t,e)=>({...AD(t),options:[t,e]});var MD="Arrow",AI=x.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return d.jsx(ke.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:d.jsx("polygon",{points:"0,0 30,0 15,10"})})});AI.displayName=MD;var LD=AI;function PI(t){const[e,n]=x.useState(void 0);return Pt(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const l=i.borderBoxSize,u=Array.isArray(l)?l[0]:l;o=u.inlineSize,a=u.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var Dv="Popper",[RI,Mh]=ka(Dv),[VD,kI]=RI(Dv),NI=t=>{const{__scopePopper:e,children:n}=t,[r,s]=x.useState(null);return d.jsx(VD,{scope:e,anchor:r,onAnchorChange:s,children:n})};NI.displayName=Dv;var OI="PopperAnchor",DI=x.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=kI(OI,n),o=x.useRef(null),a=Ge(e,o);return x.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:d.jsx(ke.div,{...s,ref:a})});DI.displayName=OI;var jv="PopperContent",[FD,UD]=RI(jv),jI=x.forwardRef((t,e)=>{var Y,Re,He,_e,pe,Ee;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:u=[],collisionPadding:h=0,sticky:f="partial",hideWhenDetached:m=!1,updatePositionStrategy:g="optimized",onPlaced:S,...y}=t,E=kI(jv,n),[T,w]=x.useState(null),_=Ge(e,it=>w(it)),[k,D]=x.useState(null),M=PI(k),b=(M==null?void 0:M.width)??0,I=(M==null?void 0:M.height)??0,A=r+(i!=="center"?"-"+i:""),P=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},N=Array.isArray(u)?u:[u],O=N.length>0,R={padding:P,boundary:N.filter(BD),altBoundary:O},{refs:j,floatingStyles:q,placement:G,isPositioned:X,middlewareData:V}=CD({strategy:"fixed",placement:A,whileElementsMounted:(...it)=>vD(...it,{animationFrame:g==="always"}),elements:{reference:E.anchor},middleware:[PD({mainAxis:s+I,alignmentAxis:o}),l&&RD({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?kD():void 0,...R}),l&&ND({...R}),OD({...R,apply:({elements:it,rects:kt,availableWidth:jn,availableHeight:Mn})=>{const{width:Ar,height:mi}=kt.reference,Pr=it.floating.style;Pr.setProperty("--radix-popper-available-width",`${jn}px`),Pr.setProperty("--radix-popper-available-height",`${Mn}px`),Pr.setProperty("--radix-popper-anchor-width",`${Ar}px`),Pr.setProperty("--radix-popper-anchor-height",`${mi}px`)}}),k&&jD({element:k,padding:a}),zD({arrowWidth:b,arrowHeight:I}),m&&DD({strategy:"referenceHidden",...R})]}),[U,W]=VI(G),re=Jn(S);Pt(()=>{X&&(re==null||re())},[X,re]);const J=(Y=V.arrow)==null?void 0:Y.x,Z=(Re=V.arrow)==null?void 0:Re.y,se=((He=V.arrow)==null?void 0:He.centerOffset)!==0,[Ie,Me]=x.useState();return Pt(()=>{T&&Me(window.getComputedStyle(T).zIndex)},[T]),d.jsx("div",{ref:j.setFloating,"data-radix-popper-content-wrapper":"",style:{...q,transform:X?q.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Ie,"--radix-popper-transform-origin":[(_e=V.transformOrigin)==null?void 0:_e.x,(pe=V.transformOrigin)==null?void 0:pe.y].join(" "),...((Ee=V.hide)==null?void 0:Ee.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:d.jsx(FD,{scope:n,placedSide:U,onArrowChange:D,arrowX:J,arrowY:Z,shouldHideArrow:se,children:d.jsx(ke.div,{"data-side":U,"data-align":W,...y,ref:_,style:{...y.style,animation:X?void 0:"none"}})})})});jI.displayName=jv;var MI="PopperArrow",$D={top:"bottom",right:"left",bottom:"top",left:"right"},LI=x.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=UD(MI,r),o=$D[i.placedSide];return d.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:d.jsx(LD,{...s,ref:n,style:{...s.style,display:"block"}})})});LI.displayName=MI;function BD(t){return t!==null}var zD=t=>({name:"transformOrigin",options:t,fn(e){var E,T,w;const{placement:n,rects:r,middlewareData:s}=e,o=((E=s.arrow)==null?void 0:E.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[u,h]=VI(n),f={start:"0%",center:"50%",end:"100%"}[h],m=(((T=s.arrow)==null?void 0:T.x)??0)+a/2,g=(((w=s.arrow)==null?void 0:w.y)??0)+l/2;let S="",y="";return u==="bottom"?(S=o?f:`${m}px`,y=`${-l}px`):u==="top"?(S=o?f:`${m}px`,y=`${r.floating.height+l}px`):u==="right"?(S=`${-l}px`,y=o?f:`${g}px`):u==="left"&&(S=`${r.floating.width+l}px`,y=o?f:`${g}px`),{data:{x:S,y}}}});function VI(t){const[e,n="center"]=t.split("-");return[e,n]}var HD=NI,FI=DI,UI=jI,$I=LI,[Lh,lB]=ka("Tooltip",[Mh]),Mv=Mh(),BI="TooltipProvider",WD=700,J0="tooltip.open",[qD,zI]=Lh(BI),HI=t=>{const{__scopeTooltip:e,delayDuration:n=WD,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=t,o=x.useRef(!0),a=x.useRef(!1),l=x.useRef(0);return x.useEffect(()=>{const u=l.current;return()=>window.clearTimeout(u)},[]),d.jsx(qD,{scope:e,isOpenDelayedRef:o,delayDuration:n,onOpen:x.useCallback(()=>{window.clearTimeout(l.current),o.current=!1},[]),onClose:x.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:a,onPointerInTransitChange:x.useCallback(u=>{a.current=u},[]),disableHoverableContent:s,children:i})};HI.displayName=BI;var WI="Tooltip",[cB,Vh]=Lh(WI),Fm="TooltipTrigger",KD=x.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Vh(Fm,n),i=zI(Fm,n),o=Mv(n),a=x.useRef(null),l=Ge(e,a,s.onTriggerChange),u=x.useRef(!1),h=x.useRef(!1),f=x.useCallback(()=>u.current=!1,[]);return x.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),d.jsx(FI,{asChild:!0,...o,children:d.jsx(ke.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:l,onPointerMove:ge(t.onPointerMove,m=>{m.pointerType!=="touch"&&!h.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),h.current=!0)}),onPointerLeave:ge(t.onPointerLeave,()=>{s.onTriggerLeave(),h.current=!1}),onPointerDown:ge(t.onPointerDown,()=>{s.open&&s.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:ge(t.onFocus,()=>{u.current||s.onOpen()}),onBlur:ge(t.onBlur,s.onClose),onClick:ge(t.onClick,s.onClose)})})});KD.displayName=Fm;var GD="TooltipPortal",[uB,QD]=Lh(GD,{forceMount:void 0}),wa="TooltipContent",qI=x.forwardRef((t,e)=>{const n=QD(wa,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=t,o=Vh(wa,t.__scopeTooltip);return d.jsx(_v,{present:r||o.open,children:o.disableHoverableContent?d.jsx(KI,{side:s,...i,ref:e}):d.jsx(YD,{side:s,...i,ref:e})})}),YD=x.forwardRef((t,e)=>{const n=Vh(wa,t.__scopeTooltip),r=zI(wa,t.__scopeTooltip),s=x.useRef(null),i=Ge(e,s),[o,a]=x.useState(null),{trigger:l,onClose:u}=n,h=s.current,{onPointerInTransitChange:f}=r,m=x.useCallback(()=>{a(null),f(!1)},[f]),g=x.useCallback((S,y)=>{const E=S.currentTarget,T={x:S.clientX,y:S.clientY},w=tj(T,E.getBoundingClientRect()),_=nj(T,w),k=rj(y.getBoundingClientRect()),D=ij([..._,...k]);a(D),f(!0)},[f]);return x.useEffect(()=>()=>m(),[m]),x.useEffect(()=>{if(l&&h){const S=E=>g(E,h),y=E=>g(E,l);return l.addEventListener("pointerleave",S),h.addEventListener("pointerleave",y),()=>{l.removeEventListener("pointerleave",S),h.removeEventListener("pointerleave",y)}}},[l,h,g,m]),x.useEffect(()=>{if(o){const S=y=>{const E=y.target,T={x:y.clientX,y:y.clientY},w=(l==null?void 0:l.contains(E))||(h==null?void 0:h.contains(E)),_=!sj(T,o);w?m():_&&(m(),u())};return document.addEventListener("pointermove",S),()=>document.removeEventListener("pointermove",S)}},[l,h,o,u,m]),d.jsx(KI,{...t,ref:i})}),[XD,JD]=Lh(WI,{isInside:!1}),ZD=SN("TooltipContent"),KI=x.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...a}=t,l=Vh(wa,n),u=Mv(n),{onClose:h}=l;return x.useEffect(()=>(document.addEventListener(J0,h),()=>document.removeEventListener(J0,h)),[h]),x.useEffect(()=>{if(l.trigger){const f=m=>{const g=m.target;g!=null&&g.contains(l.trigger)&&h()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[l.trigger,h]),d.jsx(Ph,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:h,children:d.jsxs(UI,{"data-state":l.stateAttribute,...u,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[d.jsx(ZD,{children:r}),d.jsx(XD,{scope:n,isInside:!0,children:d.jsx(qN,{id:l.contentId,role:"tooltip",children:s||r})})]})})});qI.displayName=wa;var GI="TooltipArrow",ej=x.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Mv(n);return JD(GI,n).isInside?null:d.jsx($I,{...s,...r,ref:e})});ej.displayName=GI;function tj(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function nj(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function rj(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function sj(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i],l=e[o],u=a.x,h=a.y,f=l.x,m=l.y;h>r!=m>r&&n<(f-u)*(r-h)/(m-h)+u&&(s=!s)}return s}function ij(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),oj(e)}function oj(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var aj=HI,QI=qI;const lj=aj,cj=x.forwardRef(({className:t,sideOffset:e=4,...n},r)=>d.jsx(QI,{ref:r,sideOffset:e,className:Oe("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));cj.displayName=QI.displayName;var Fh=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Uh=typeof window>"u"||"Deno"in globalThis;function zn(){}function uj(t,e){return typeof t=="function"?t(e):t}function dj(t){return typeof t=="number"&&t>=0&&t!==1/0}function hj(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Um(t,e){return typeof t=="function"?t(e):t}function fj(t,e){return typeof t=="function"?t(e):t}function Z0(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==Lv(o,e.options))return!1}else if(!lc(e.queryKey,o))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||i&&!i(e))}function e_(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(ac(e.options.mutationKey)!==ac(i))return!1}else if(!lc(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function Lv(t,e){return((e==null?void 0:e.queryKeyHashFn)||ac)(t)}function ac(t){return JSON.stringify(t,(e,n)=>$m(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function lc(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>lc(t[n],e[n])):!1}function YI(t,e){if(t===e)return t;const n=t_(t)&&t_(e);if(n||$m(t)&&$m(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),o=i.length,a=n?[]:{},l=new Set(r);let u=0;for(let h=0;h<o;h++){const f=n?h:i[h];(!n&&l.has(f)||n)&&t[f]===void 0&&e[f]===void 0?(a[f]=void 0,u++):(a[f]=YI(t[f],e[f]),a[f]===t[f]&&t[f]!==void 0&&u++)}return s===o&&u===s?t:a}return e}function t_(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function $m(t){if(!n_(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!n_(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function n_(t){return Object.prototype.toString.call(t)==="[object Object]"}function pj(t){return new Promise(e=>{setTimeout(e,t)})}function mj(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?YI(t,e):e}function gj(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function vj(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var Vv=Symbol();function XI(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===Vv?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var ki,bs,ea,ax,yj=(ax=class extends Fh{constructor(){super();Pe(this,ki);Pe(this,bs);Pe(this,ea);he(this,ea,e=>{if(!Uh&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){$(this,bs)||this.setEventListener($(this,ea))}onUnsubscribe(){var e;this.hasListeners()||((e=$(this,bs))==null||e.call(this),he(this,bs,void 0))}setEventListener(e){var n;he(this,ea,e),(n=$(this,bs))==null||n.call(this),he(this,bs,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){$(this,ki)!==e&&(he(this,ki,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof $(this,ki)=="boolean"?$(this,ki):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},ki=new WeakMap,bs=new WeakMap,ea=new WeakMap,ax),JI=new yj,ta,Cs,na,lx,wj=(lx=class extends Fh{constructor(){super();Pe(this,ta,!0);Pe(this,Cs);Pe(this,na);he(this,na,e=>{if(!Uh&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){$(this,Cs)||this.setEventListener($(this,na))}onUnsubscribe(){var e;this.hasListeners()||((e=$(this,Cs))==null||e.call(this),he(this,Cs,void 0))}setEventListener(e){var n;he(this,na,e),(n=$(this,Cs))==null||n.call(this),he(this,Cs,e(this.setOnline.bind(this)))}setOnline(e){$(this,ta)!==e&&(he(this,ta,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return $(this,ta)}},ta=new WeakMap,Cs=new WeakMap,na=new WeakMap,lx),zd=new wj;function _j(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}function Ej(t){return Math.min(1e3*2**t,3e4)}function ZI(t){return(t??"online")==="online"?zd.isOnline():!0}var eb=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function mp(t){return t instanceof eb}function tb(t){let e=!1,n=0,r=!1,s;const i=_j(),o=y=>{var E;r||(m(new eb(y)),(E=t.abort)==null||E.call(t))},a=()=>{e=!0},l=()=>{e=!1},u=()=>JI.isFocused()&&(t.networkMode==="always"||zd.isOnline())&&t.canRun(),h=()=>ZI(t.networkMode)&&t.canRun(),f=y=>{var E;r||(r=!0,(E=t.onSuccess)==null||E.call(t,y),s==null||s(),i.resolve(y))},m=y=>{var E;r||(r=!0,(E=t.onError)==null||E.call(t,y),s==null||s(),i.reject(y))},g=()=>new Promise(y=>{var E;s=T=>{(r||u())&&y(T)},(E=t.onPause)==null||E.call(t)}).then(()=>{var y;s=void 0,r||(y=t.onContinue)==null||y.call(t)}),S=()=>{if(r)return;let y;const E=n===0?t.initialPromise:void 0;try{y=E??t.fn()}catch(T){y=Promise.reject(T)}Promise.resolve(y).then(f).catch(T=>{var M;if(r)return;const w=t.retry??(Uh?0:3),_=t.retryDelay??Ej,k=typeof _=="function"?_(n,T):_,D=w===!0||typeof w=="number"&&n<w||typeof w=="function"&&w(n,T);if(e||!D){m(T);return}n++,(M=t.onFail)==null||M.call(t,n,T),pj(k).then(()=>u()?void 0:g()).then(()=>{e?m(T):S()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:a,continueRetry:l,canStart:h,start:()=>(h()?S():g().then(S),i)}}var xj=t=>setTimeout(t,0);function Tj(){let t=[],e=0,n=a=>{a()},r=a=>{a()},s=xj;const i=a=>{e?t.push(a):s(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&s(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{i(()=>{a(...l)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var qt=Tj(),Ni,cx,nb=(cx=class{constructor(){Pe(this,Ni)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),dj(this.gcTime)&&he(this,Ni,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Uh?1/0:5*60*1e3))}clearGcTimeout(){$(this,Ni)&&(clearTimeout($(this,Ni)),he(this,Ni,void 0))}},Ni=new WeakMap,cx),ra,sa,In,Oi,Vt,_c,Di,Hn,jr,ux,Sj=(ux=class extends nb{constructor(n){super();Pe(this,Hn);Pe(this,ra);Pe(this,sa);Pe(this,In);Pe(this,Oi);Pe(this,Vt);Pe(this,_c);Pe(this,Di);he(this,Di,!1),he(this,_c,n.defaultOptions),this.setOptions(n.options),this.observers=[],he(this,Oi,n.client),he(this,In,$(this,Oi).getQueryCache()),this.queryKey=n.queryKey,this.queryHash=n.queryHash,he(this,ra,bj(this.options)),this.state=n.state??$(this,ra),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=$(this,Vt))==null?void 0:n.promise}setOptions(n){this.options={...$(this,_c),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&$(this,In).remove(this)}setData(n,r){const s=mj(this.state.data,n,this.options);return Dt(this,Hn,jr).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(n,r){Dt(this,Hn,jr).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var s,i;const r=(s=$(this,Vt))==null?void 0:s.promise;return(i=$(this,Vt))==null||i.cancel(n),r?r.then(zn).catch(zn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState($(this,ra))}isActive(){return this.observers.some(n=>fj(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Vv||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(n=>Um(n.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(n=0){return this.state.data===void 0?!0:n==="static"?!1:this.state.isInvalidated?!0:!hj(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(s=>s.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=$(this,Vt))==null||r.continue()}onOnline(){var r;const n=this.observers.find(s=>s.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=$(this,Vt))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),$(this,In).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||($(this,Vt)&&($(this,Di)?$(this,Vt).cancel({revert:!0}):$(this,Vt).cancelRetry()),this.scheduleGc()),$(this,In).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Dt(this,Hn,jr).call(this,{type:"invalidate"})}fetch(n,r){var h,f,m;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if($(this,Vt))return $(this,Vt).continueRetry(),$(this,Vt).promise}if(n&&this.setOptions(n),!this.options.queryFn){const g=this.observers.find(S=>S.options.queryFn);g&&this.setOptions(g.options)}const s=new AbortController,i=g=>{Object.defineProperty(g,"signal",{enumerable:!0,get:()=>(he(this,Di,!0),s.signal)})},o=()=>{const g=XI(this.options,r),y=(()=>{const E={client:$(this,Oi),queryKey:this.queryKey,meta:this.meta};return i(E),E})();return he(this,Di,!1),this.options.persister?this.options.persister(g,y,this):g(y)},l=(()=>{const g={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:$(this,Oi),state:this.state,fetchFn:o};return i(g),g})();(h=this.options.behavior)==null||h.onFetch(l,this),he(this,sa,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((f=l.fetchOptions)==null?void 0:f.meta))&&Dt(this,Hn,jr).call(this,{type:"fetch",meta:(m=l.fetchOptions)==null?void 0:m.meta});const u=g=>{var S,y,E,T;mp(g)&&g.silent||Dt(this,Hn,jr).call(this,{type:"error",error:g}),mp(g)||((y=(S=$(this,In).config).onError)==null||y.call(S,g,this),(T=(E=$(this,In).config).onSettled)==null||T.call(E,this.state.data,g,this)),this.scheduleGc()};return he(this,Vt,tb({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,abort:s.abort.bind(s),onSuccess:g=>{var S,y,E,T;if(g===void 0){u(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(g)}catch(w){u(w);return}(y=(S=$(this,In).config).onSuccess)==null||y.call(S,g,this),(T=(E=$(this,In).config).onSettled)==null||T.call(E,g,this.state.error,this),this.scheduleGc()},onError:u,onFail:(g,S)=>{Dt(this,Hn,jr).call(this,{type:"failed",failureCount:g,error:S})},onPause:()=>{Dt(this,Hn,jr).call(this,{type:"pause"})},onContinue:()=>{Dt(this,Hn,jr).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),$(this,Vt).start()}},ra=new WeakMap,sa=new WeakMap,In=new WeakMap,Oi=new WeakMap,Vt=new WeakMap,_c=new WeakMap,Di=new WeakMap,Hn=new WeakSet,jr=function(n){const r=s=>{switch(n.type){case"failed":return{...s,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...Ij(s.data,this.options),fetchMeta:n.meta??null};case"success":return{...s,data:n.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=n.error;return mp(i)&&i.revert&&$(this,sa)?{...$(this,sa),fetchStatus:"idle"}:{...s,error:i,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...n.state}}};this.state=r(this.state),qt.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),$(this,In).notify({query:this,type:"updated",action:n})})},ux);function Ij(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:ZI(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function bj(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var ur,dx,Cj=(dx=class extends Fh{constructor(e={}){super();Pe(this,ur);this.config=e,he(this,ur,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??Lv(s,n);let o=this.get(i);return o||(o=new Sj({client:e,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){$(this,ur).has(e.queryHash)||($(this,ur).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=$(this,ur).get(e.queryHash);n&&(e.destroy(),n===e&&$(this,ur).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){qt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return $(this,ur).get(e)}getAll(){return[...$(this,ur).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>Z0(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>Z0(e,r)):n}notify(e){qt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){qt.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){qt.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},ur=new WeakMap,dx),dr,Ht,ji,hr,ps,hx,Aj=(hx=class extends nb{constructor(n){super();Pe(this,hr);Pe(this,dr);Pe(this,Ht);Pe(this,ji);this.mutationId=n.mutationId,he(this,Ht,n.mutationCache),he(this,dr,[]),this.state=n.state||Pj(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){$(this,dr).includes(n)||($(this,dr).push(n),this.clearGcTimeout(),$(this,Ht).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){he(this,dr,$(this,dr).filter(r=>r!==n)),this.scheduleGc(),$(this,Ht).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){$(this,dr).length||(this.state.status==="pending"?this.scheduleGc():$(this,Ht).remove(this))}continue(){var n;return((n=$(this,ji))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var o,a,l,u,h,f,m,g,S,y,E,T,w,_,k,D,M,b,I,A;const r=()=>{Dt(this,hr,ps).call(this,{type:"continue"})};he(this,ji,tb({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(P,N)=>{Dt(this,hr,ps).call(this,{type:"failed",failureCount:P,error:N})},onPause:()=>{Dt(this,hr,ps).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>$(this,Ht).canRun(this)}));const s=this.state.status==="pending",i=!$(this,ji).canStart();try{if(s)r();else{Dt(this,hr,ps).call(this,{type:"pending",variables:n,isPaused:i}),await((a=(o=$(this,Ht).config).onMutate)==null?void 0:a.call(o,n,this));const N=await((u=(l=this.options).onMutate)==null?void 0:u.call(l,n));N!==this.state.context&&Dt(this,hr,ps).call(this,{type:"pending",context:N,variables:n,isPaused:i})}const P=await $(this,ji).start();return await((f=(h=$(this,Ht).config).onSuccess)==null?void 0:f.call(h,P,n,this.state.context,this)),await((g=(m=this.options).onSuccess)==null?void 0:g.call(m,P,n,this.state.context)),await((y=(S=$(this,Ht).config).onSettled)==null?void 0:y.call(S,P,null,this.state.variables,this.state.context,this)),await((T=(E=this.options).onSettled)==null?void 0:T.call(E,P,null,n,this.state.context)),Dt(this,hr,ps).call(this,{type:"success",data:P}),P}catch(P){try{throw await((_=(w=$(this,Ht).config).onError)==null?void 0:_.call(w,P,n,this.state.context,this)),await((D=(k=this.options).onError)==null?void 0:D.call(k,P,n,this.state.context)),await((b=(M=$(this,Ht).config).onSettled)==null?void 0:b.call(M,void 0,P,this.state.variables,this.state.context,this)),await((A=(I=this.options).onSettled)==null?void 0:A.call(I,void 0,P,n,this.state.context)),P}finally{Dt(this,hr,ps).call(this,{type:"error",error:P})}}finally{$(this,Ht).runNext(this)}}},dr=new WeakMap,Ht=new WeakMap,ji=new WeakMap,hr=new WeakSet,ps=function(n){const r=s=>{switch(n.type){case"failed":return{...s,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...s,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:n.error,failureCount:s.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),qt.batch(()=>{$(this,dr).forEach(s=>{s.onMutationUpdate(n)}),$(this,Ht).notify({mutation:this,type:"updated",action:n})})},hx);function Pj(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Fr,Wn,Ec,fx,Rj=(fx=class extends Fh{constructor(e={}){super();Pe(this,Fr);Pe(this,Wn);Pe(this,Ec);this.config=e,he(this,Fr,new Set),he(this,Wn,new Map),he(this,Ec,0)}build(e,n,r){const s=new Aj({mutationCache:this,mutationId:++su(this,Ec)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){$(this,Fr).add(e);const n=bu(e);if(typeof n=="string"){const r=$(this,Wn).get(n);r?r.push(e):$(this,Wn).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if($(this,Fr).delete(e)){const n=bu(e);if(typeof n=="string"){const r=$(this,Wn).get(n);if(r)if(r.length>1){const s=r.indexOf(e);s!==-1&&r.splice(s,1)}else r[0]===e&&$(this,Wn).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=bu(e);if(typeof n=="string"){const r=$(this,Wn).get(n),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===e}else return!0}runNext(e){var r;const n=bu(e);if(typeof n=="string"){const s=(r=$(this,Wn).get(n))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){qt.batch(()=>{$(this,Fr).forEach(e=>{this.notify({type:"removed",mutation:e})}),$(this,Fr).clear(),$(this,Wn).clear()})}getAll(){return Array.from($(this,Fr))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>e_(n,r))}findAll(e={}){return this.getAll().filter(n=>e_(e,n))}notify(e){qt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return qt.batch(()=>Promise.all(e.map(n=>n.continue().catch(zn))))}},Fr=new WeakMap,Wn=new WeakMap,Ec=new WeakMap,fx);function bu(t){var e;return(e=t.options.scope)==null?void 0:e.id}function r_(t){return{onFetch:(e,n)=>{var h,f,m,g,S;const r=e.options,s=(m=(f=(h=e.fetchOptions)==null?void 0:h.meta)==null?void 0:f.fetchMore)==null?void 0:m.direction,i=((g=e.state.data)==null?void 0:g.pages)||[],o=((S=e.state.data)==null?void 0:S.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const u=async()=>{let y=!1;const E=_=>{Object.defineProperty(_,"signal",{enumerable:!0,get:()=>(e.signal.aborted?y=!0:e.signal.addEventListener("abort",()=>{y=!0}),e.signal)})},T=XI(e.options,e.fetchOptions),w=async(_,k,D)=>{if(y)return Promise.reject();if(k==null&&_.pages.length)return Promise.resolve(_);const b=(()=>{const N={client:e.client,queryKey:e.queryKey,pageParam:k,direction:D?"backward":"forward",meta:e.options.meta};return E(N),N})(),I=await T(b),{maxPages:A}=e.options,P=D?vj:gj;return{pages:P(_.pages,I,A),pageParams:P(_.pageParams,k,A)}};if(s&&i.length){const _=s==="backward",k=_?kj:s_,D={pages:i,pageParams:o},M=k(r,D);a=await w(D,M,_)}else{const _=t??i.length;do{const k=l===0?o[0]??r.initialPageParam:s_(r,a);if(l>0&&k==null)break;a=await w(a,k),l++}while(l<_)}return a};e.options.persister?e.fetchFn=()=>{var y,E;return(E=(y=e.options).persister)==null?void 0:E.call(y,u,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=u}}}function s_(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function kj(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var tt,As,Ps,ia,oa,Rs,aa,la,px,Nj=(px=class{constructor(t={}){Pe(this,tt);Pe(this,As);Pe(this,Ps);Pe(this,ia);Pe(this,oa);Pe(this,Rs);Pe(this,aa);Pe(this,la);he(this,tt,t.queryCache||new Cj),he(this,As,t.mutationCache||new Rj),he(this,Ps,t.defaultOptions||{}),he(this,ia,new Map),he(this,oa,new Map),he(this,Rs,0)}mount(){su(this,Rs)._++,$(this,Rs)===1&&(he(this,aa,JI.subscribe(async t=>{t&&(await this.resumePausedMutations(),$(this,tt).onFocus())})),he(this,la,zd.subscribe(async t=>{t&&(await this.resumePausedMutations(),$(this,tt).onOnline())})))}unmount(){var t,e;su(this,Rs)._--,$(this,Rs)===0&&((t=$(this,aa))==null||t.call(this),he(this,aa,void 0),(e=$(this,la))==null||e.call(this),he(this,la,void 0))}isFetching(t){return $(this,tt).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return $(this,As).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=$(this,tt).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=$(this,tt).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(Um(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return $(this,tt).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=$(this,tt).get(r.queryHash),i=s==null?void 0:s.state.data,o=uj(e,i);if(o!==void 0)return $(this,tt).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return qt.batch(()=>$(this,tt).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=$(this,tt).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=$(this,tt);qt.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=$(this,tt);return qt.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=qt.batch(()=>$(this,tt).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(zn).catch(zn)}invalidateQueries(t,e={}){return qt.batch(()=>($(this,tt).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=qt.batch(()=>$(this,tt).findAll(t).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(zn)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(zn)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=$(this,tt).build(this,e);return n.isStaleByTime(Um(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(zn).catch(zn)}fetchInfiniteQuery(t){return t.behavior=r_(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(zn).catch(zn)}ensureInfiniteQueryData(t){return t.behavior=r_(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return zd.isOnline()?$(this,As).resumePausedMutations():Promise.resolve()}getQueryCache(){return $(this,tt)}getMutationCache(){return $(this,As)}getDefaultOptions(){return $(this,Ps)}setDefaultOptions(t){he(this,Ps,t)}setQueryDefaults(t,e){$(this,ia).set(ac(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...$(this,ia).values()],n={};return e.forEach(r=>{lc(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){$(this,oa).set(ac(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...$(this,oa).values()],n={};return e.forEach(r=>{lc(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...$(this,Ps).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Lv(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Vv&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...$(this,Ps).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){$(this,tt).clear(),$(this,As).clear()}},tt=new WeakMap,As=new WeakMap,Ps=new WeakMap,ia=new WeakMap,oa=new WeakMap,Rs=new WeakMap,aa=new WeakMap,la=new WeakMap,px),Oj=x.createContext(void 0),Dj=({client:t,children:e})=>(x.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),d.jsx(Oj.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function cc(){return cc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cc.apply(this,arguments)}var Os;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Os||(Os={}));const i_="popstate";function jj(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:a}=r.location;return Bm("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:sb(s)}return Lj(e,n,null,t)}function ht(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function rb(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Mj(){return Math.random().toString(36).substr(2,8)}function o_(t,e){return{usr:t.state,key:t.key,idx:e}}function Bm(t,e,n,r){return n===void 0&&(n=null),cc({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ja(e):e,{state:n,key:e&&e.key||r||Mj()})}function sb(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function ja(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function Lj(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=Os.Pop,l=null,u=h();u==null&&(u=0,o.replaceState(cc({},o.state,{idx:u}),""));function h(){return(o.state||{idx:null}).idx}function f(){a=Os.Pop;let E=h(),T=E==null?null:E-u;u=E,l&&l({action:a,location:y.location,delta:T})}function m(E,T){a=Os.Push;let w=Bm(y.location,E,T);u=h()+1;let _=o_(w,u),k=y.createHref(w);try{o.pushState(_,"",k)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;s.location.assign(k)}i&&l&&l({action:a,location:y.location,delta:1})}function g(E,T){a=Os.Replace;let w=Bm(y.location,E,T);u=h();let _=o_(w,u),k=y.createHref(w);o.replaceState(_,"",k),i&&l&&l({action:a,location:y.location,delta:0})}function S(E){let T=s.location.origin!=="null"?s.location.origin:s.location.href,w=typeof E=="string"?E:sb(E);return w=w.replace(/ $/,"%20"),ht(T,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,T)}let y={get action(){return a},get location(){return t(s,o)},listen(E){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(i_,f),l=E,()=>{s.removeEventListener(i_,f),l=null}},createHref(E){return e(s,E)},createURL:S,encodeLocation(E){let T=S(E);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:m,replace:g,go(E){return o.go(E)}};return y}var a_;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(a_||(a_={}));function Vj(t,e,n){return n===void 0&&(n="/"),Fj(t,e,n)}function Fj(t,e,n,r){let s=typeof e=="string"?ja(e):e,i=ab(s.pathname||"/",n);if(i==null)return null;let o=ib(t);Uj(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=Jj(i);a=Qj(o[l],u)}return a}function ib(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(ht(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=Vi([r,l.relativePath]),h=n.concat(l);i.children&&i.children.length>0&&(ht(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),ib(i.children,e,h,u)),!(i.path==null&&!i.index)&&e.push({path:u,score:Kj(u,i.index),routesMeta:h})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of ob(i.path))s(i,o,l)}),e}function ob(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=ob(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function Uj(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Gj(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const $j=/^:[\w-]+$/,Bj=3,zj=2,Hj=1,Wj=10,qj=-2,l_=t=>t==="*";function Kj(t,e){let n=t.split("/"),r=n.length;return n.some(l_)&&(r+=qj),e&&(r+=zj),n.filter(s=>!l_(s)).reduce((s,i)=>s+($j.test(i)?Bj:i===""?Hj:Wj),r)}function Gj(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function Qj(t,e,n){let{routesMeta:r}=t,s={},i="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,h=i==="/"?e:e.slice(i.length)||"/",f=Yj({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},h),m=l.route;if(!f)return null;Object.assign(s,f.params),o.push({params:s,pathname:Vi([i,f.pathname]),pathnameBase:sM(Vi([i,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(i=Vi([i,f.pathnameBase]))}return o}function Yj(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=Xj(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((u,h,f)=>{let{paramName:m,isOptional:g}=h;if(m==="*"){let y=a[f]||"";o=i.slice(0,i.length-y.length).replace(/(.)\/+$/,"$1")}const S=a[f];return g&&!S?u[m]=void 0:u[m]=(S||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:t}}function Xj(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),rb(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function Jj(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return rb(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function ab(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function Zj(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?ja(t):t;return{pathname:n?n.startsWith("/")?n:eM(n,e):e,search:iM(r),hash:oM(s)}}function eM(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function gp(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function tM(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function nM(t,e){let n=tM(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function rM(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=ja(t):(s=cc({},t),ht(!s.pathname||!s.pathname.includes("?"),gp("?","pathname","search",s)),ht(!s.pathname||!s.pathname.includes("#"),gp("#","pathname","hash",s)),ht(!s.search||!s.search.includes("#"),gp("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let f=e.length-1;if(!r&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),f-=1;s.pathname=m.join("/")}a=f>=0?e[f]:"/"}let l=Zj(s,a),u=o&&o!=="/"&&o.endsWith("/"),h=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||h)&&(l.pathname+="/"),l}const Vi=t=>t.join("/").replace(/\/\/+/g,"/"),sM=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),iM=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,oM=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function aM(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const lb=["post","put","patch","delete"];new Set(lb);const lM=["get",...lb];new Set(lM);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function uc(){return uc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},uc.apply(this,arguments)}const Fv=x.createContext(null),cM=x.createContext(null),$h=x.createContext(null),Bh=x.createContext(null),Ma=x.createContext({outlet:null,matches:[],isDataRoute:!1}),cb=x.createContext(null);function zh(){return x.useContext(Bh)!=null}function Hh(){return zh()||ht(!1),x.useContext(Bh).location}function ub(t){x.useContext($h).static||x.useLayoutEffect(t)}function no(){let{isDataRoute:t}=x.useContext(Ma);return t?xM():uM()}function uM(){zh()||ht(!1);let t=x.useContext(Fv),{basename:e,future:n,navigator:r}=x.useContext($h),{matches:s}=x.useContext(Ma),{pathname:i}=Hh(),o=JSON.stringify(nM(s,n.v7_relativeSplatPath)),a=x.useRef(!1);return ub(()=>{a.current=!0}),x.useCallback(function(u,h){if(h===void 0&&(h={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let f=rM(u,JSON.parse(o),i,h.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Vi([e,f.pathname])),(h.replace?r.replace:r.push)(f,h.state,h)},[e,r,o,i,t])}function dM(t,e){return hM(t,e)}function hM(t,e,n,r){zh()||ht(!1);let{navigator:s}=x.useContext($h),{matches:i}=x.useContext(Ma),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=Hh(),h;if(e){var f;let E=typeof e=="string"?ja(e):e;l==="/"||(f=E.pathname)!=null&&f.startsWith(l)||ht(!1),h=E}else h=u;let m=h.pathname||"/",g=m;if(l!=="/"){let E=l.replace(/^\//,"").split("/");g="/"+m.replace(/^\//,"").split("/").slice(E.length).join("/")}let S=Vj(t,{pathname:g}),y=vM(S&&S.map(E=>Object.assign({},E,{params:Object.assign({},a,E.params),pathname:Vi([l,s.encodeLocation?s.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?l:Vi([l,s.encodeLocation?s.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),i,n,r);return e&&y?x.createElement(Bh.Provider,{value:{location:uc({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:Os.Pop}},y):y}function fM(){let t=EM(),e=aM(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},e),n?x.createElement("pre",{style:s},n):null,null)}const pM=x.createElement(fM,null);class mM extends x.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?x.createElement(Ma.Provider,{value:this.props.routeContext},x.createElement(cb.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function gM(t){let{routeContext:e,match:n,children:r}=t,s=x.useContext(Fv);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),x.createElement(Ma.Provider,{value:e},r)}function vM(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let h=o.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);h>=0||ht(!1),o=o.slice(0,Math.min(o.length,h+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let h=0;h<o.length;h++){let f=o[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=h),f.route.id){let{loaderData:m,errors:g}=n,S=f.route.loader&&m[f.route.id]===void 0&&(!g||g[f.route.id]===void 0);if(f.route.lazy||S){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((h,f,m)=>{let g,S=!1,y=null,E=null;n&&(g=a&&f.route.id?a[f.route.id]:void 0,y=f.route.errorElement||pM,l&&(u<0&&m===0?(TM("route-fallback"),S=!0,E=null):u===m&&(S=!0,E=f.route.hydrateFallbackElement||null)));let T=e.concat(o.slice(0,m+1)),w=()=>{let _;return g?_=y:S?_=E:f.route.Component?_=x.createElement(f.route.Component,null):f.route.element?_=f.route.element:_=h,x.createElement(gM,{match:f,routeContext:{outlet:h,matches:T,isDataRoute:n!=null},children:_})};return n&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?x.createElement(mM,{location:n.location,revalidation:n.revalidation,component:y,error:g,children:w(),routeContext:{outlet:null,matches:T,isDataRoute:!0}}):w()},null)}var db=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(db||{}),hb=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(hb||{});function yM(t){let e=x.useContext(Fv);return e||ht(!1),e}function wM(t){let e=x.useContext(cM);return e||ht(!1),e}function _M(t){let e=x.useContext(Ma);return e||ht(!1),e}function fb(t){let e=_M(),n=e.matches[e.matches.length-1];return n.route.id||ht(!1),n.route.id}function EM(){var t;let e=x.useContext(cb),n=wM(),r=fb();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function xM(){let{router:t}=yM(db.UseNavigateStable),e=fb(hb.UseNavigateStable),n=x.useRef(!1);return ub(()=>{n.current=!0}),x.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,uc({fromRouteId:e},i)))},[t,e])}const c_={};function TM(t,e,n){c_[t]||(c_[t]=!0)}function SM(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function ar(t){ht(!1)}function IM(t){let{basename:e="/",children:n=null,location:r,navigationType:s=Os.Pop,navigator:i,static:o=!1,future:a}=t;zh()&&ht(!1);let l=e.replace(/^\/*/,"/"),u=x.useMemo(()=>({basename:l,navigator:i,static:o,future:uc({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof r=="string"&&(r=ja(r));let{pathname:h="/",search:f="",hash:m="",state:g=null,key:S="default"}=r,y=x.useMemo(()=>{let E=ab(h,l);return E==null?null:{location:{pathname:E,search:f,hash:m,state:g,key:S},navigationType:s}},[l,h,f,m,g,S,s]);return y==null?null:x.createElement($h.Provider,{value:u},x.createElement(Bh.Provider,{children:n,value:y}))}function bM(t){let{children:e,location:n}=t;return dM(zm(e),n)}new Promise(()=>{});function zm(t,e){e===void 0&&(e=[]);let n=[];return x.Children.forEach(t,(r,s)=>{if(!x.isValidElement(r))return;let i=[...e,s];if(r.type===x.Fragment){n.push.apply(n,zm(r.props.children,i));return}r.type!==ar&&ht(!1),!r.props.index||!r.props.children||ht(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=zm(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const CM="6";try{window.__reactRouterVersion=CM}catch{}const AM="startTransition",u_=Ag[AM];function PM(t){let{basename:e,children:n,future:r,window:s}=t,i=x.useRef();i.current==null&&(i.current=jj({window:s,v5Compat:!0}));let o=i.current,[a,l]=x.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},h=x.useCallback(f=>{u&&u_?u_(()=>l(f)):l(f)},[l,u]);return x.useLayoutEffect(()=>o.listen(h),[o,h]),x.useEffect(()=>SM(r),[r]),x.createElement(IM,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}var d_;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(d_||(d_={}));var h_;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(h_||(h_={}));const RM=()=>{};var f_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pb=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},kM=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},mb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,u=l?t[s+2]:0,h=i>>2,f=(i&3)<<4|a>>4;let m=(a&15)<<2|u>>6,g=u&63;l||(g=64,o||(m=64)),r.push(n[h],n[f],n[m],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(pb(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):kM(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const u=s<t.length?n[t.charAt(s)]:64;++s;const f=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||u==null||f==null)throw new NM;const m=i<<2|a>>4;if(r.push(m),u!==64){const g=a<<4&240|u>>2;if(r.push(g),f!==64){const S=u<<6&192|f;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class NM extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const OM=function(t){const e=pb(t);return mb.encodeByteArray(e,!0)},Hd=function(t){return OM(t).replace(/\./g,"")},gb=function(t){try{return mb.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DM(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jM=()=>DM().__FIREBASE_DEFAULTS__,MM=()=>{if(typeof process>"u"||typeof f_>"u")return;const t=f_.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},LM=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&gb(t[1]);return e&&JSON.parse(e)},Wh=()=>{try{return RM()||jM()||MM()||LM()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},vb=t=>{var e,n;return(n=(e=Wh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},VM=t=>{const e=vb(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},yb=()=>{var t;return(t=Wh())===null||t===void 0?void 0:t.config},wb=t=>{var e;return(e=Wh())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FM{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rc(t){return t.endsWith(".cloudworkstations.dev")}async function _b(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UM(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Hd(JSON.stringify(n)),Hd(JSON.stringify(o)),""].join(".")}const Dl={};function $M(){const t={prod:[],emulator:[]};for(const e of Object.keys(Dl))Dl[e]?t.emulator.push(e):t.prod.push(e);return t}function BM(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let p_=!1;function Eb(t,e){if(typeof window>"u"||typeof document>"u"||!Rc(window.location.host)||Dl[t]===e||Dl[t]||p_)return;Dl[t]=e;function n(m){return`__firebase__banner__${m}`}const r="__firebase__banner",i=$M().prod.length>0;function o(){const m=document.getElementById(r);m&&m.remove()}function a(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function l(m,g){m.setAttribute("width","24"),m.setAttribute("id",g),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function u(){const m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{p_=!0,o()},m}function h(m,g){m.setAttribute("id",g),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function f(){const m=BM(r),g=n("text"),S=document.getElementById(g)||document.createElement("span"),y=n("learnmore"),E=document.getElementById(y)||document.createElement("a"),T=n("preprendIcon"),w=document.getElementById(T)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){const _=m.element;a(_),h(E,y);const k=u();l(w,T),_.append(w,S,E,k),document.body.appendChild(_)}i?(S.innerText="Preview backend disconnected.",w.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(w.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",g)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function zM(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(zt())}function HM(){var t;const e=(t=Wh())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function WM(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function xb(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function qM(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function KM(){const t=zt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function GM(){return!HM()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Tb(){try{return typeof indexedDB=="object"}catch{return!1}}function Sb(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}function QM(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YM="FirebaseError";class sr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=YM,Object.setPrototypeOf(this,sr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ro.prototype.create)}}class ro{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?XM(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new sr(s,a,r)}}function XM(t,e){return t.replace(JM,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const JM=/\{\$([^}]+)}/g;function ZM(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Js(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(m_(i)&&m_(o)){if(!Js(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function m_(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function vl(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function yl(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function eL(t,e){const n=new tL(t,e);return n.subscribe.bind(n)}class tL{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");nL(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=vp),s.error===void 0&&(s.error=vp),s.complete===void 0&&(s.complete=vp);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function nL(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function vp(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rL=1e3,sL=2,iL=4*60*60*1e3,oL=.5;function g_(t,e=rL,n=sL){const r=e*Math.pow(n,t),s=Math.round(oL*r*(Math.random()-.5)*2);return Math.min(iL,r+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mt(t){return t&&t._delegate?t._delegate:t}class tr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ii="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aL{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new FM;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(cL(e))try{this.getOrInitializeService({instanceIdentifier:Ii})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Ii){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ii){return this.instances.has(e)}getOptions(e=Ii){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:lL(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ii){return this.component?this.component.multipleInstances?e:Ii:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function lL(t){return t===Ii?void 0:t}function cL(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uL{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new aL(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(xe||(xe={}));const dL={debug:xe.DEBUG,verbose:xe.VERBOSE,info:xe.INFO,warn:xe.WARN,error:xe.ERROR,silent:xe.SILENT},hL=xe.INFO,fL={[xe.DEBUG]:"log",[xe.VERBOSE]:"log",[xe.INFO]:"info",[xe.WARN]:"warn",[xe.ERROR]:"error"},pL=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=fL[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class qh{constructor(e){this.name=e,this._logLevel=hL,this._logHandler=pL,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in xe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?dL[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,xe.DEBUG,...e),this._logHandler(this,xe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,xe.VERBOSE,...e),this._logHandler(this,xe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,xe.INFO,...e),this._logHandler(this,xe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,xe.WARN,...e),this._logHandler(this,xe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,xe.ERROR,...e),this._logHandler(this,xe.ERROR,...e)}}const mL=(t,e)=>e.some(n=>t instanceof n);let v_,y_;function gL(){return v_||(v_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function vL(){return y_||(y_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Ib=new WeakMap,Hm=new WeakMap,bb=new WeakMap,yp=new WeakMap,Uv=new WeakMap;function yL(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(zs(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Ib.set(n,t)}).catch(()=>{}),Uv.set(e,t),e}function wL(t){if(Hm.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Hm.set(t,e)}let Wm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Hm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||bb.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return zs(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function _L(t){Wm=t(Wm)}function EL(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(wp(this),e,...n);return bb.set(r,e.sort?e.sort():[e]),zs(r)}:vL().includes(t)?function(...e){return t.apply(wp(this),e),zs(Ib.get(this))}:function(...e){return zs(t.apply(wp(this),e))}}function xL(t){return typeof t=="function"?EL(t):(t instanceof IDBTransaction&&wL(t),mL(t,gL())?new Proxy(t,Wm):t)}function zs(t){if(t instanceof IDBRequest)return yL(t);if(yp.has(t))return yp.get(t);const e=xL(t);return e!==t&&(yp.set(t,e),Uv.set(e,t)),e}const wp=t=>Uv.get(t);function Cb(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=zs(o);return r&&o.addEventListener("upgradeneeded",l=>{r(zs(o.result),l.oldVersion,l.newVersion,zs(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const TL=["get","getKey","getAll","getAllKeys","count"],SL=["put","add","delete","clear"],_p=new Map;function w_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(_p.get(e))return _p.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=SL.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||TL.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),s&&l.done]))[0]};return _p.set(e,i),i}_L(t=>({...t,get:(e,n,r)=>w_(e,n)||t.get(e,n,r),has:(e,n)=>!!w_(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IL{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(bL(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function bL(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const qm="@firebase/app",__="0.13.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zr=new qh("@firebase/app"),CL="@firebase/app-compat",AL="@firebase/analytics-compat",PL="@firebase/analytics",RL="@firebase/app-check-compat",kL="@firebase/app-check",NL="@firebase/auth",OL="@firebase/auth-compat",DL="@firebase/database",jL="@firebase/data-connect",ML="@firebase/database-compat",LL="@firebase/functions",VL="@firebase/functions-compat",FL="@firebase/installations",UL="@firebase/installations-compat",$L="@firebase/messaging",BL="@firebase/messaging-compat",zL="@firebase/performance",HL="@firebase/performance-compat",WL="@firebase/remote-config",qL="@firebase/remote-config-compat",KL="@firebase/storage",GL="@firebase/storage-compat",QL="@firebase/firestore",YL="@firebase/ai",XL="@firebase/firestore-compat",JL="firebase",ZL="11.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Km="[DEFAULT]",eV={[qm]:"fire-core",[CL]:"fire-core-compat",[PL]:"fire-analytics",[AL]:"fire-analytics-compat",[kL]:"fire-app-check",[RL]:"fire-app-check-compat",[NL]:"fire-auth",[OL]:"fire-auth-compat",[DL]:"fire-rtdb",[jL]:"fire-data-connect",[ML]:"fire-rtdb-compat",[LL]:"fire-fn",[VL]:"fire-fn-compat",[FL]:"fire-iid",[UL]:"fire-iid-compat",[$L]:"fire-fcm",[BL]:"fire-fcm-compat",[zL]:"fire-perf",[HL]:"fire-perf-compat",[WL]:"fire-rc",[qL]:"fire-rc-compat",[KL]:"fire-gcs",[GL]:"fire-gcs-compat",[QL]:"fire-fst",[XL]:"fire-fst-compat",[YL]:"fire-vertex","fire-js":"fire-js",[JL]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wd=new Map,tV=new Map,Gm=new Map;function E_(t,e){try{t.container.addComponent(e)}catch(n){Zr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Sr(t){const e=t.name;if(Gm.has(e))return Zr.debug(`There were multiple attempts to register component ${e}.`),!1;Gm.set(e,t);for(const n of Wd.values())E_(n,t);for(const n of tV.values())E_(n,t);return!0}function so(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function An(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nV={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Hs=new ro("app","Firebase",nV);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rV{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new tr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Hs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const La=ZL;function Ab(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Km,automaticDataCollectionEnabled:!0},e),s=r.name;if(typeof s!="string"||!s)throw Hs.create("bad-app-name",{appName:String(s)});if(n||(n=yb()),!n)throw Hs.create("no-options");const i=Wd.get(s);if(i){if(Js(n,i.options)&&Js(r,i.config))return i;throw Hs.create("duplicate-app",{appName:s})}const o=new uL(s);for(const l of Gm.values())o.addComponent(l);const a=new rV(n,r,o);return Wd.set(s,a),a}function $v(t=Km){const e=Wd.get(t);if(!e&&t===Km&&yb())return Ab();if(!e)throw Hs.create("no-app",{appName:t});return e}function kn(t,e,n){var r;let s=(r=eV[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Zr.warn(a.join(" "));return}Sr(new tr(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sV="firebase-heartbeat-database",iV=1,dc="firebase-heartbeat-store";let Ep=null;function Pb(){return Ep||(Ep=Cb(sV,iV,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(dc)}catch(n){console.warn(n)}}}}).catch(t=>{throw Hs.create("idb-open",{originalErrorMessage:t.message})})),Ep}async function oV(t){try{const n=(await Pb()).transaction(dc),r=await n.objectStore(dc).get(Rb(t));return await n.done,r}catch(e){if(e instanceof sr)Zr.warn(e.message);else{const n=Hs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Zr.warn(n.message)}}}async function x_(t,e){try{const r=(await Pb()).transaction(dc,"readwrite");await r.objectStore(dc).put(e,Rb(t)),await r.done}catch(n){if(n instanceof sr)Zr.warn(n.message);else{const r=Hs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Zr.warn(r.message)}}}function Rb(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aV=1024,lV=30;class cV{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new dV(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=T_();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>lV){const o=hV(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Zr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=T_(),{heartbeatsToSend:r,unsentEntries:s}=uV(this._heartbeatsCache.heartbeats),i=Hd(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return Zr.warn(n),""}}}function T_(){return new Date().toISOString().substring(0,10)}function uV(t,e=aV){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),S_(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),S_(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class dV{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Tb()?Sb().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await oV(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return x_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return x_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function S_(t){return Hd(JSON.stringify({version:2,heartbeats:t})).length}function hV(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fV(t){Sr(new tr("platform-logger",e=>new IL(e),"PRIVATE")),Sr(new tr("heartbeat",e=>new cV(e),"PRIVATE")),kn(qm,__,t),kn(qm,__,"esm2017"),kn("fire-js","")}fV("");var pr=function(){return pr=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},pr.apply(this,arguments)};function Nc(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function pV(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}function kb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const mV=kb,Nb=new ro("auth","Firebase",kb());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qd=new qh("@firebase/auth");function gV(t,...e){qd.logLevel<=xe.WARN&&qd.warn(`Auth (${La}): ${t}`,...e)}function Zu(t,...e){qd.logLevel<=xe.ERROR&&qd.error(`Auth (${La}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nr(t,...e){throw Bv(t,...e)}function wr(t,...e){return Bv(t,...e)}function Ob(t,e,n){const r=Object.assign(Object.assign({},mV()),{[e]:n});return new ro("auth","Firebase",r).create(e,{appName:t.name})}function Wr(t){return Ob(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Bv(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Nb.create(t,...e)}function ae(t,e,...n){if(!t)throw Bv(e,...n)}function Br(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Zu(e),new Error(e)}function es(t,e){t||Br(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qm(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function vV(){return I_()==="http:"||I_()==="https:"}function I_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yV(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(vV()||xb()||"connection"in navigator)?navigator.onLine:!0}function wV(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{constructor(e,n){this.shortDelay=e,this.longDelay=n,es(n>e,"Short delay should be less than long delay!"),this.isMobile=zM()||qM()}get(){return yV()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zv(t,e){es(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Db{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Br("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Br("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Br("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _V={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EV=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],xV=new Oc(3e4,6e4);function li(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ci(t,e,n,r,s={}){return jb(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=kc(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:l},i);return WM()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&Rc(t.emulatorConfig.host)&&(u.credentials="include"),Db.fetch()(await Mb(t,t.config.apiHost,n,a),u)})}async function jb(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},_V),e);try{const s=new SV(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Cu(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Cu(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Cu(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Cu(t,"user-disabled",o);const h=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw Ob(t,h,u);nr(t,h)}}catch(s){if(s instanceof sr)throw s;nr(t,"network-request-failed",{message:String(s)})}}async function Dc(t,e,n,r,s={}){const i=await ci(t,e,n,r,s);return"mfaPendingCredential"in i&&nr(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function Mb(t,e,n,r){const s=`${e}${n}?${r}`,i=t,o=i.config.emulator?zv(t.config,s):`${t.config.apiScheme}://${s}`;return EV.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}function TV(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class SV{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(wr(this.auth,"network-request-failed")),xV.get())})}}function Cu(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=wr(t,e,r);return s.customData._tokenResponse=n,s}function b_(t){return t!==void 0&&t.enterprise!==void 0}class IV{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return TV(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function bV(t,e){return ci(t,"GET","/v2/recaptchaConfig",li(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CV(t,e){return ci(t,"POST","/v1/accounts:delete",e)}async function Kd(t,e){return ci(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function AV(t,e=!1){const n=mt(t),r=await n.getIdToken(e),s=Hv(r);ae(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:jl(xp(s.auth_time)),issuedAtTime:jl(xp(s.iat)),expirationTime:jl(xp(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function xp(t){return Number(t)*1e3}function Hv(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Zu("JWT malformed, contained fewer than 3 sections"),null;try{const s=gb(n);return s?JSON.parse(s):(Zu("Failed to decode base64 JWT payload"),null)}catch(s){return Zu("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function C_(t){const e=Hv(t);return ae(e,"internal-error"),ae(typeof e.exp<"u","internal-error"),ae(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hc(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof sr&&PV(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function PV({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RV{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ym{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=jl(this.lastLoginAt),this.creationTime=jl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gd(t){var e;const n=t.auth,r=await t.getIdToken(),s=await hc(t,Kd(n,{idToken:r}));ae(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?Lb(i.providerUserInfo):[],a=NV(t.providerData,o),l=t.isAnonymous,u=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),h=l?u:!1,f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new Ym(i.createdAt,i.lastLoginAt),isAnonymous:h};Object.assign(t,f)}async function kV(t){const e=mt(t);await Gd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function NV(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function Lb(t){return t.map(e=>{var{providerId:n}=e,r=Nc(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OV(t,e){const n=await jb(t,{},async()=>{const r=kc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=await Mb(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Db.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function DV(t,e){return ci(t,"POST","/v2/accounts:revokeToken",li(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ae(e.idToken,"internal-error"),ae(typeof e.idToken<"u","internal-error"),ae(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):C_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ae(e.length!==0,"internal-error");const n=C_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ae(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await OV(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new Qo;return r&&(ae(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(ae(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(ae(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Qo,this.toJSON())}_performRefresh(){return Br("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fs(t,e){ae(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Gn{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=Nc(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new RV(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Ym(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await hc(this,this.stsTokenManager.getToken(this.auth,e));return ae(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return AV(this,e)}reload(){return kV(this)}_assign(e){this!==e&&(ae(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Gn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Gd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(An(this.auth.app))return Promise.reject(Wr(this.auth));const e=await this.getIdToken();return await hc(this,CV(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,o,a,l,u,h;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,m=(s=n.email)!==null&&s!==void 0?s:void 0,g=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,S=(o=n.photoURL)!==null&&o!==void 0?o:void 0,y=(a=n.tenantId)!==null&&a!==void 0?a:void 0,E=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,T=(u=n.createdAt)!==null&&u!==void 0?u:void 0,w=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:_,emailVerified:k,isAnonymous:D,providerData:M,stsTokenManager:b}=n;ae(_&&b,e,"internal-error");const I=Qo.fromJSON(this.name,b);ae(typeof _=="string",e,"internal-error"),fs(f,e.name),fs(m,e.name),ae(typeof k=="boolean",e,"internal-error"),ae(typeof D=="boolean",e,"internal-error"),fs(g,e.name),fs(S,e.name),fs(y,e.name),fs(E,e.name),fs(T,e.name),fs(w,e.name);const A=new Gn({uid:_,auth:e,email:m,emailVerified:k,displayName:f,isAnonymous:D,photoURL:S,phoneNumber:g,tenantId:y,stsTokenManager:I,createdAt:T,lastLoginAt:w});return M&&Array.isArray(M)&&(A.providerData=M.map(P=>Object.assign({},P))),E&&(A._redirectEventId=E),A}static async _fromIdTokenResponse(e,n,r=!1){const s=new Qo;s.updateFromServerResponse(n);const i=new Gn({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Gd(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];ae(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?Lb(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new Qo;a.updateFromIdToken(r);const l=new Gn({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new Ym(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A_=new Map;function zr(t){es(t instanceof Function,"Expected a class definition");let e=A_.get(t);return e?(es(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,A_.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Vb.type="NONE";const P_=Vb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ed(t,e,n){return`firebase:${t}:${e}:${n}`}class Yo{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=ed(this.userKey,s.apiKey,i),this.fullPersistenceKey=ed("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Kd(this.auth,{idToken:e}).catch(()=>{});return n?Gn._fromGetAccountInfoResponse(this.auth,n,e):null}return Gn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Yo(zr(P_),e,r);const s=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let i=s[0]||zr(P_);const o=ed(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const h=await u._get(o);if(h){let f;if(typeof h=="string"){const m=await Kd(e,{idToken:h}).catch(()=>{});if(!m)break;f=await Gn._fromGetAccountInfoResponse(e,m,h)}else f=Gn._fromJSON(e,h);u!==i&&(a=f),i=u;break}}catch{}const l=s.filter(u=>u._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new Yo(i,e,r):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==i)try{await u._remove(o)}catch{}})),new Yo(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R_(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Bb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Fb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Hb(e))return"Blackberry";if(Wb(e))return"Webos";if(Ub(e))return"Safari";if((e.includes("chrome/")||$b(e))&&!e.includes("edge/"))return"Chrome";if(zb(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Fb(t=zt()){return/firefox\//i.test(t)}function Ub(t=zt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function $b(t=zt()){return/crios\//i.test(t)}function Bb(t=zt()){return/iemobile/i.test(t)}function zb(t=zt()){return/android/i.test(t)}function Hb(t=zt()){return/blackberry/i.test(t)}function Wb(t=zt()){return/webos/i.test(t)}function Wv(t=zt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function jV(t=zt()){var e;return Wv(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function MV(){return KM()&&document.documentMode===10}function qb(t=zt()){return Wv(t)||zb(t)||Wb(t)||Hb(t)||/windows phone/i.test(t)||Bb(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kb(t,e=[]){let n;switch(t){case"Browser":n=R_(zt());break;case"Worker":n=`${R_(zt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${La}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LV{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const l=e(i);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VV(t,e={}){return ci(t,"GET","/v2/passwordPolicy",li(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FV=6;class UV{constructor(e){var n,r,s,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:FV,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(s=l.containsLowercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(i=l.containsUppercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $V{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new k_(this),this.idTokenSubscription=new k_(this),this.beforeStateQueue=new LV(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Nb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=zr(n)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await Yo.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Kd(this,{idToken:e}),r=await Gn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(An(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=s==null?void 0:s._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(s=l.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return ae(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Gd(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=wV()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(An(this.app))return Promise.reject(Wr(this));const n=e?mt(e):null;return n&&ae(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ae(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return An(this.app)?Promise.reject(Wr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return An(this.app)?Promise.reject(Wr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(zr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await VV(this),n=new UV(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ro("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await DV(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&zr(e)||this._popupRedirectResolver;ae(n,this,"argument-error"),this.redirectPersistenceManager=await Yo.create(this,[zr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ae(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,s);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Kb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;if(An(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&gV(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function io(t){return mt(t)}class k_{constructor(e){this.auth=e,this.observer=null,this.addObserver=eL(n=>this.observer=n)}get next(){return ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function BV(t){Kh=t}function Gb(t){return Kh.loadJS(t)}function zV(){return Kh.recaptchaEnterpriseScript}function HV(){return Kh.gapiScript}function WV(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class qV{constructor(){this.enterprise=new KV}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class KV{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const GV="recaptcha-enterprise",Qb="NO_RECAPTCHA";class QV{constructor(e){this.type=GV,this.auth=io(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{bV(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new IV(l);return i.tenantId==null?i._agentRecaptchaConfig=u:i._tenantRecaptchaConfigs[i.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function s(i,o,a){const l=window.grecaptcha;b_(l)?l.enterprise.ready(()=>{l.enterprise.execute(i,{action:e}).then(u=>{o(u)}).catch(()=>{o(Qb)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new qV().execute("siteKey",{action:"verify"}):new Promise((i,o)=>{r(this.auth).then(a=>{if(!n&&b_(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=zV();l.length!==0&&(l+=a),Gb(l).then(()=>{s(a,i,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})}}async function N_(t,e,n,r=!1,s=!1){const i=new QV(t);let o;if(s)o=Qb;else try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const a=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,u=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Xm(t,e,n,r,s){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await N_(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await N_(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YV(t,e){const n=so(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(Js(i,e??{}))return s;nr(s,"already-initialized")}return n.initialize({options:e})}function XV(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(zr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function JV(t,e,n){const r=io(t);ae(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=Yb(e),{host:o,port:a}=ZV(e),l=a===null?"":`:${a}`,u={url:`${i}//${o}${l}/`},h=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){ae(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ae(Js(u,r.config.emulator)&&Js(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,Rc(o)?(_b(`${i}//${o}${l}`),Eb("Auth",!0)):e4()}function Yb(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function ZV(t){const e=Yb(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:O_(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:O_(o)}}}function O_(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function e4(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qv{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Br("not implemented")}_getIdTokenResponse(e){return Br("not implemented")}_linkToIdToken(e,n){return Br("not implemented")}_getReauthenticationResolver(e){return Br("not implemented")}}async function t4(t,e){return ci(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n4(t,e){return Dc(t,"POST","/v1/accounts:signInWithPassword",li(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r4(t,e){return Dc(t,"POST","/v1/accounts:signInWithEmailLink",li(t,e))}async function s4(t,e){return Dc(t,"POST","/v1/accounts:signInWithEmailLink",li(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc extends qv{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new fc(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new fc(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Xm(e,n,"signInWithPassword",n4);case"emailLink":return r4(e,{email:this._email,oobCode:this._password});default:nr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Xm(e,r,"signUpPassword",t4);case"emailLink":return s4(e,{idToken:n,email:this._email,oobCode:this._password});default:nr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xo(t,e){return Dc(t,"POST","/v1/accounts:signInWithIdp",li(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i4="http://localhost";class Wi extends qv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Wi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):nr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=Nc(n,["providerId","signInMethod"]);if(!r||!s)return null;const o=new Wi(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Xo(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Xo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Xo(e,n)}buildRequest(){const e={requestUri:i4,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=kc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o4(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function a4(t){const e=vl(yl(t)).link,n=e?vl(yl(e)).deep_link_id:null,r=vl(yl(t)).deep_link_id;return(r?vl(yl(r)).link:null)||r||n||e||t}class Kv{constructor(e){var n,r,s,i,o,a;const l=vl(yl(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,h=(r=l.oobCode)!==null&&r!==void 0?r:null,f=o4((s=l.mode)!==null&&s!==void 0?s:null);ae(u&&h&&f,"argument-error"),this.apiKey=u,this.operation=f,this.code=h,this.continueUrl=(i=l.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(o=l.lang)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=a4(e);try{return new Kv(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va{constructor(){this.providerId=Va.PROVIDER_ID}static credential(e,n){return fc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Kv.parseLink(n);return ae(r,"argument-error"),fc._fromEmailAndCode(e,r.code,r.tenantId)}}Va.PROVIDER_ID="password";Va.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Va.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xb{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc extends Xb{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es extends jc{constructor(){super("facebook.com")}static credential(e){return Wi._fromParams({providerId:Es.PROVIDER_ID,signInMethod:Es.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Es.credentialFromTaggedObject(e)}static credentialFromError(e){return Es.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Es.credential(e.oauthAccessToken)}catch{return null}}}Es.FACEBOOK_SIGN_IN_METHOD="facebook.com";Es.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs extends jc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Wi._fromParams({providerId:xs.PROVIDER_ID,signInMethod:xs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return xs.credentialFromTaggedObject(e)}static credentialFromError(e){return xs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return xs.credential(n,r)}catch{return null}}}xs.GOOGLE_SIGN_IN_METHOD="google.com";xs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts extends jc{constructor(){super("github.com")}static credential(e){return Wi._fromParams({providerId:Ts.PROVIDER_ID,signInMethod:Ts.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ts.credentialFromTaggedObject(e)}static credentialFromError(e){return Ts.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ts.credential(e.oauthAccessToken)}catch{return null}}}Ts.GITHUB_SIGN_IN_METHOD="github.com";Ts.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss extends jc{constructor(){super("twitter.com")}static credential(e,n){return Wi._fromParams({providerId:Ss.PROVIDER_ID,signInMethod:Ss.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ss.credentialFromTaggedObject(e)}static credentialFromError(e){return Ss.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ss.credential(n,r)}catch{return null}}}Ss.TWITTER_SIGN_IN_METHOD="twitter.com";Ss.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l4(t,e){return Dc(t,"POST","/v1/accounts:signUp",li(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await Gn._fromIdTokenResponse(e,r,s),o=D_(r);return new qi({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=D_(r);return new qi({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function D_(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qd extends sr{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Qd.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Qd(e,n,r,s)}}function Jb(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Qd._fromErrorAndOperation(t,i,e,r):i})}async function c4(t,e,n=!1){const r=await hc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return qi._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u4(t,e,n=!1){const{auth:r}=t;if(An(r.app))return Promise.reject(Wr(r));const s="reauthenticate";try{const i=await hc(t,Jb(r,s,e,t),n);ae(i.idToken,r,"internal-error");const o=Hv(i.idToken);ae(o,r,"internal-error");const{sub:a}=o;return ae(t.uid===a,r,"user-mismatch"),qi._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&nr(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zb(t,e,n=!1){if(An(t.app))return Promise.reject(Wr(t));const r="signIn",s=await Jb(t,r,e),i=await qi._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function d4(t,e){return Zb(io(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e1(t){const e=io(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function h4(t,e,n){if(An(t.app))return Promise.reject(Wr(t));const r=io(t),o=await Xm(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",l4).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&e1(t),l}),a=await qi._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function f4(t,e,n){return An(t.app)?Promise.reject(Wr(t)):d4(mt(t),Va.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&e1(t),r})}function p4(t,e,n,r){return mt(t).onIdTokenChanged(e,n,r)}function m4(t,e,n){return mt(t).beforeAuthStateChanged(e,n)}function g4(t,e,n,r){return mt(t).onAuthStateChanged(e,n,r)}function v4(t){return mt(t).signOut()}const Yd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t1{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Yd,"1"),this.storage.removeItem(Yd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y4=1e3,w4=10;class n1 extends t1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=qb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);MV()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,w4):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},y4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}n1.type="LOCAL";const _4=n1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r1 extends t1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}r1.type="SESSION";const s1=r1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E4(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new Gh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async u=>u(n.origin,i)),l=await E4(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Gh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gv(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x4{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const u=Gv("",20);s.port1.start();const h=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(f){const m=f;if(m.data.eventId===u)switch(m.data.status){case"ack":clearTimeout(h),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(m.data.response);break;default:clearTimeout(h),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _r(){return window}function T4(t){_r().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i1(){return typeof _r().WorkerGlobalScope<"u"&&typeof _r().importScripts=="function"}async function S4(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function I4(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function b4(){return i1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o1="firebaseLocalStorageDb",C4=1,Xd="firebaseLocalStorage",a1="fbase_key";class Mc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Qh(t,e){return t.transaction([Xd],e?"readwrite":"readonly").objectStore(Xd)}function A4(){const t=indexedDB.deleteDatabase(o1);return new Mc(t).toPromise()}function Jm(){const t=indexedDB.open(o1,C4);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Xd,{keyPath:a1})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Xd)?e(r):(r.close(),await A4(),e(await Jm()))})})}async function j_(t,e,n){const r=Qh(t,!0).put({[a1]:e,value:n});return new Mc(r).toPromise()}async function P4(t,e){const n=Qh(t,!1).get(e),r=await new Mc(n).toPromise();return r===void 0?null:r.value}function M_(t,e){const n=Qh(t,!0).delete(e);return new Mc(n).toPromise()}const R4=800,k4=3;class l1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Jm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>k4)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return i1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Gh._getInstance(b4()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await S4(),!this.activeServiceWorker)return;this.sender=new x4(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||I4()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Jm();return await j_(e,Yd,"1"),await M_(e,Yd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>j_(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>P4(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>M_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=Qh(s,!1).getAll();return new Mc(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),R4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}l1.type="LOCAL";const N4=l1;new Oc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O4(t,e){return e?zr(e):(ae(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qv extends qv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Xo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Xo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Xo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function D4(t){return Zb(t.auth,new Qv(t),t.bypassAuthState)}function j4(t){const{auth:e,user:n}=t;return ae(n,e,"internal-error"),u4(n,new Qv(t),t.bypassAuthState)}async function M4(t){const{auth:e,user:n}=t;return ae(n,e,"internal-error"),c4(n,new Qv(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return D4;case"linkViaPopup":case"linkViaRedirect":return M4;case"reauthViaPopup":case"reauthViaRedirect":return j4;default:nr(this.auth,"internal-error")}}resolve(e){es(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){es(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L4=new Oc(2e3,1e4);class Uo extends c1{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,Uo.currentPopupAction&&Uo.currentPopupAction.cancel(),Uo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ae(e,this.auth,"internal-error"),e}async onExecution(){es(this.filter.length===1,"Popup operations only handle one event");const e=Gv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(wr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(wr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Uo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(wr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,L4.get())};e()}}Uo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V4="pendingRedirect",td=new Map;class F4 extends c1{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=td.get(this.auth._key());if(!e){try{const r=await U4(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}td.set(this.auth._key(),e)}return this.bypassAuthState||td.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function U4(t,e){const n=z4(e),r=B4(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function $4(t,e){td.set(t._key(),e)}function B4(t){return zr(t._redirectPersistence)}function z4(t){return ed(V4,t.config.apiKey,t.name)}async function H4(t,e,n=!1){if(An(t.app))return Promise.reject(Wr(t));const r=io(t),s=O4(r,e),o=await new F4(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W4=10*60*1e3;class q4{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!K4(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!u1(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(wr(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=W4&&this.cachedEventUids.clear(),this.cachedEventUids.has(L_(e))}saveEventToCache(e){this.cachedEventUids.add(L_(e)),this.lastProcessedEventTime=Date.now()}}function L_(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function u1({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function K4(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return u1(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G4(t,e={}){return ci(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q4=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Y4=/^https?/;async function X4(t){if(t.config.emulator)return;const{authorizedDomains:e}=await G4(t);for(const n of e)try{if(J4(n))return}catch{}nr(t,"unauthorized-domain")}function J4(t){const e=Qm(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!Y4.test(n))return!1;if(Q4.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z4=new Oc(3e4,6e4);function V_(){const t=_r().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function eF(t){return new Promise((e,n)=>{var r,s,i;function o(){V_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{V_(),n(wr(t,"network-request-failed"))},timeout:Z4.get()})}if(!((s=(r=_r().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=_r().gapi)===null||i===void 0)&&i.load)o();else{const a=WV("iframefcb");return _r()[a]=()=>{gapi.load?o():n(wr(t,"network-request-failed"))},Gb(`${HV()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw nd=null,e})}let nd=null;function tF(t){return nd=nd||eF(t),nd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nF=new Oc(5e3,15e3),rF="__/auth/iframe",sF="emulator/auth/iframe",iF={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},oF=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function aF(t){const e=t.config;ae(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?zv(e,sF):`https://${t.config.authDomain}/${rF}`,r={apiKey:e.apiKey,appName:t.name,v:La},s=oF.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${kc(r).slice(1)}`}async function lF(t){const e=await tF(t),n=_r().gapi;return ae(n,t,"internal-error"),e.open({where:document.body,url:aF(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:iF,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=wr(t,"network-request-failed"),a=_r().setTimeout(()=>{i(o)},nF.get());function l(){_r().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cF={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},uF=500,dF=600,hF="_blank",fF="http://localhost";class F_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function pF(t,e,n,r=uF,s=dF){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},cF),{width:r.toString(),height:s.toString(),top:i,left:o}),u=zt().toLowerCase();n&&(a=$b(u)?hF:n),Fb(u)&&(e=e||fF,l.scrollbars="yes");const h=Object.entries(l).reduce((m,[g,S])=>`${m}${g}=${S},`,"");if(jV(u)&&a!=="_self")return mF(e||"",a),new F_(null);const f=window.open(e||"",a,h);ae(f,t,"popup-blocked");try{f.focus()}catch{}return new F_(f)}function mF(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gF="__/auth/handler",vF="emulator/auth/handler",yF=encodeURIComponent("fac");async function U_(t,e,n,r,s,i){ae(t.config.authDomain,t,"auth-domain-config-required"),ae(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:La,eventId:s};if(e instanceof Xb){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",ZM(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,f]of Object.entries({}))o[h]=f}if(e instanceof jc){const h=e.getScopes().filter(f=>f!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const h of Object.keys(a))a[h]===void 0&&delete a[h];const l=await t._getAppCheckToken(),u=l?`#${yF}=${encodeURIComponent(l)}`:"";return`${wF(t)}?${kc(a).slice(1)}${u}`}function wF({config:t}){return t.emulator?zv(t,vF):`https://${t.authDomain}/${gF}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tp="webStorageSupport";class _F{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=s1,this._completeRedirectFn=H4,this._overrideRedirectResult=$4}async _openPopup(e,n,r,s){var i;es((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await U_(e,n,r,Qm(),s);return pF(e,o,Gv())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await U_(e,n,r,Qm(),s);return T4(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(es(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await lF(e),r=new q4(e);return n.register("authEvent",s=>(ae(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Tp,{type:Tp},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[Tp];o!==void 0&&n(!!o),nr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=X4(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return qb()||Ub()||Wv()}}const EF=_F;var $_="@firebase/auth",B_="1.10.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xF{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TF(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function SF(t){Sr(new tr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;ae(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Kb(t)},u=new $V(r,s,i,l);return XV(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Sr(new tr("auth-internal",e=>{const n=io(e.getProvider("auth").getImmediate());return(r=>new xF(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),kn($_,B_,TF(t)),kn($_,B_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IF=5*60,bF=wb("authIdTokenMaxAge")||IF;let z_=null;const CF=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>bF)return;const s=n==null?void 0:n.token;z_!==s&&(z_=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function rd(t=$v()){const e=so(t,"auth");if(e.isInitialized())return e.getImmediate();const n=YV(t,{popupRedirectResolver:EF,persistence:[N4,_4,s1]}),r=wb("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=CF(i.toString());m4(n,o,()=>o(n.currentUser)),p4(n,a=>o(a))}}const s=vb("auth");return s&&JV(n,`http://${s}`),n}function AF(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}BV({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=wr("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",AF().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});SF("Browser");var H_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ws,d1;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(b,I){function A(){}A.prototype=I.prototype,b.D=I.prototype,b.prototype=new A,b.prototype.constructor=b,b.C=function(P,N,O){for(var R=Array(arguments.length-2),j=2;j<arguments.length;j++)R[j-2]=arguments[j];return I.prototype[N].apply(P,R)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(b,I,A){A||(A=0);var P=Array(16);if(typeof I=="string")for(var N=0;16>N;++N)P[N]=I.charCodeAt(A++)|I.charCodeAt(A++)<<8|I.charCodeAt(A++)<<16|I.charCodeAt(A++)<<24;else for(N=0;16>N;++N)P[N]=I[A++]|I[A++]<<8|I[A++]<<16|I[A++]<<24;I=b.g[0],A=b.g[1],N=b.g[2];var O=b.g[3],R=I+(O^A&(N^O))+P[0]+3614090360&4294967295;I=A+(R<<7&4294967295|R>>>25),R=O+(N^I&(A^N))+P[1]+3905402710&4294967295,O=I+(R<<12&4294967295|R>>>20),R=N+(A^O&(I^A))+P[2]+606105819&4294967295,N=O+(R<<17&4294967295|R>>>15),R=A+(I^N&(O^I))+P[3]+3250441966&4294967295,A=N+(R<<22&4294967295|R>>>10),R=I+(O^A&(N^O))+P[4]+4118548399&4294967295,I=A+(R<<7&4294967295|R>>>25),R=O+(N^I&(A^N))+P[5]+1200080426&4294967295,O=I+(R<<12&4294967295|R>>>20),R=N+(A^O&(I^A))+P[6]+2821735955&4294967295,N=O+(R<<17&4294967295|R>>>15),R=A+(I^N&(O^I))+P[7]+4249261313&4294967295,A=N+(R<<22&4294967295|R>>>10),R=I+(O^A&(N^O))+P[8]+1770035416&4294967295,I=A+(R<<7&4294967295|R>>>25),R=O+(N^I&(A^N))+P[9]+2336552879&4294967295,O=I+(R<<12&4294967295|R>>>20),R=N+(A^O&(I^A))+P[10]+4294925233&4294967295,N=O+(R<<17&4294967295|R>>>15),R=A+(I^N&(O^I))+P[11]+2304563134&4294967295,A=N+(R<<22&4294967295|R>>>10),R=I+(O^A&(N^O))+P[12]+1804603682&4294967295,I=A+(R<<7&4294967295|R>>>25),R=O+(N^I&(A^N))+P[13]+4254626195&4294967295,O=I+(R<<12&4294967295|R>>>20),R=N+(A^O&(I^A))+P[14]+2792965006&4294967295,N=O+(R<<17&4294967295|R>>>15),R=A+(I^N&(O^I))+P[15]+1236535329&4294967295,A=N+(R<<22&4294967295|R>>>10),R=I+(N^O&(A^N))+P[1]+4129170786&4294967295,I=A+(R<<5&4294967295|R>>>27),R=O+(A^N&(I^A))+P[6]+3225465664&4294967295,O=I+(R<<9&4294967295|R>>>23),R=N+(I^A&(O^I))+P[11]+643717713&4294967295,N=O+(R<<14&4294967295|R>>>18),R=A+(O^I&(N^O))+P[0]+3921069994&4294967295,A=N+(R<<20&4294967295|R>>>12),R=I+(N^O&(A^N))+P[5]+3593408605&4294967295,I=A+(R<<5&4294967295|R>>>27),R=O+(A^N&(I^A))+P[10]+38016083&4294967295,O=I+(R<<9&4294967295|R>>>23),R=N+(I^A&(O^I))+P[15]+3634488961&4294967295,N=O+(R<<14&4294967295|R>>>18),R=A+(O^I&(N^O))+P[4]+3889429448&4294967295,A=N+(R<<20&4294967295|R>>>12),R=I+(N^O&(A^N))+P[9]+568446438&4294967295,I=A+(R<<5&4294967295|R>>>27),R=O+(A^N&(I^A))+P[14]+3275163606&4294967295,O=I+(R<<9&4294967295|R>>>23),R=N+(I^A&(O^I))+P[3]+4107603335&4294967295,N=O+(R<<14&4294967295|R>>>18),R=A+(O^I&(N^O))+P[8]+1163531501&4294967295,A=N+(R<<20&4294967295|R>>>12),R=I+(N^O&(A^N))+P[13]+2850285829&4294967295,I=A+(R<<5&4294967295|R>>>27),R=O+(A^N&(I^A))+P[2]+4243563512&4294967295,O=I+(R<<9&4294967295|R>>>23),R=N+(I^A&(O^I))+P[7]+1735328473&4294967295,N=O+(R<<14&4294967295|R>>>18),R=A+(O^I&(N^O))+P[12]+2368359562&4294967295,A=N+(R<<20&4294967295|R>>>12),R=I+(A^N^O)+P[5]+4294588738&4294967295,I=A+(R<<4&4294967295|R>>>28),R=O+(I^A^N)+P[8]+2272392833&4294967295,O=I+(R<<11&4294967295|R>>>21),R=N+(O^I^A)+P[11]+1839030562&4294967295,N=O+(R<<16&4294967295|R>>>16),R=A+(N^O^I)+P[14]+4259657740&4294967295,A=N+(R<<23&4294967295|R>>>9),R=I+(A^N^O)+P[1]+2763975236&4294967295,I=A+(R<<4&4294967295|R>>>28),R=O+(I^A^N)+P[4]+1272893353&4294967295,O=I+(R<<11&4294967295|R>>>21),R=N+(O^I^A)+P[7]+4139469664&4294967295,N=O+(R<<16&4294967295|R>>>16),R=A+(N^O^I)+P[10]+3200236656&4294967295,A=N+(R<<23&4294967295|R>>>9),R=I+(A^N^O)+P[13]+681279174&4294967295,I=A+(R<<4&4294967295|R>>>28),R=O+(I^A^N)+P[0]+3936430074&4294967295,O=I+(R<<11&4294967295|R>>>21),R=N+(O^I^A)+P[3]+3572445317&4294967295,N=O+(R<<16&4294967295|R>>>16),R=A+(N^O^I)+P[6]+76029189&4294967295,A=N+(R<<23&4294967295|R>>>9),R=I+(A^N^O)+P[9]+3654602809&4294967295,I=A+(R<<4&4294967295|R>>>28),R=O+(I^A^N)+P[12]+3873151461&4294967295,O=I+(R<<11&4294967295|R>>>21),R=N+(O^I^A)+P[15]+530742520&4294967295,N=O+(R<<16&4294967295|R>>>16),R=A+(N^O^I)+P[2]+3299628645&4294967295,A=N+(R<<23&4294967295|R>>>9),R=I+(N^(A|~O))+P[0]+4096336452&4294967295,I=A+(R<<6&4294967295|R>>>26),R=O+(A^(I|~N))+P[7]+1126891415&4294967295,O=I+(R<<10&4294967295|R>>>22),R=N+(I^(O|~A))+P[14]+2878612391&4294967295,N=O+(R<<15&4294967295|R>>>17),R=A+(O^(N|~I))+P[5]+4237533241&4294967295,A=N+(R<<21&4294967295|R>>>11),R=I+(N^(A|~O))+P[12]+1700485571&4294967295,I=A+(R<<6&4294967295|R>>>26),R=O+(A^(I|~N))+P[3]+2399980690&4294967295,O=I+(R<<10&4294967295|R>>>22),R=N+(I^(O|~A))+P[10]+4293915773&4294967295,N=O+(R<<15&4294967295|R>>>17),R=A+(O^(N|~I))+P[1]+2240044497&4294967295,A=N+(R<<21&4294967295|R>>>11),R=I+(N^(A|~O))+P[8]+1873313359&4294967295,I=A+(R<<6&4294967295|R>>>26),R=O+(A^(I|~N))+P[15]+4264355552&4294967295,O=I+(R<<10&4294967295|R>>>22),R=N+(I^(O|~A))+P[6]+2734768916&4294967295,N=O+(R<<15&4294967295|R>>>17),R=A+(O^(N|~I))+P[13]+1309151649&4294967295,A=N+(R<<21&4294967295|R>>>11),R=I+(N^(A|~O))+P[4]+4149444226&4294967295,I=A+(R<<6&4294967295|R>>>26),R=O+(A^(I|~N))+P[11]+3174756917&4294967295,O=I+(R<<10&4294967295|R>>>22),R=N+(I^(O|~A))+P[2]+718787259&4294967295,N=O+(R<<15&4294967295|R>>>17),R=A+(O^(N|~I))+P[9]+3951481745&4294967295,b.g[0]=b.g[0]+I&4294967295,b.g[1]=b.g[1]+(N+(R<<21&4294967295|R>>>11))&4294967295,b.g[2]=b.g[2]+N&4294967295,b.g[3]=b.g[3]+O&4294967295}r.prototype.u=function(b,I){I===void 0&&(I=b.length);for(var A=I-this.blockSize,P=this.B,N=this.h,O=0;O<I;){if(N==0)for(;O<=A;)s(this,b,O),O+=this.blockSize;if(typeof b=="string"){for(;O<I;)if(P[N++]=b.charCodeAt(O++),N==this.blockSize){s(this,P),N=0;break}}else for(;O<I;)if(P[N++]=b[O++],N==this.blockSize){s(this,P),N=0;break}}this.h=N,this.o+=I},r.prototype.v=function(){var b=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);b[0]=128;for(var I=1;I<b.length-8;++I)b[I]=0;var A=8*this.o;for(I=b.length-8;I<b.length;++I)b[I]=A&255,A/=256;for(this.u(b),b=Array(16),I=A=0;4>I;++I)for(var P=0;32>P;P+=8)b[A++]=this.g[I]>>>P&255;return b};function i(b,I){var A=a;return Object.prototype.hasOwnProperty.call(A,b)?A[b]:A[b]=I(b)}function o(b,I){this.h=I;for(var A=[],P=!0,N=b.length-1;0<=N;N--){var O=b[N]|0;P&&O==I||(A[N]=O,P=!1)}this.g=A}var a={};function l(b){return-128<=b&&128>b?i(b,function(I){return new o([I|0],0>I?-1:0)}):new o([b|0],0>b?-1:0)}function u(b){if(isNaN(b)||!isFinite(b))return f;if(0>b)return E(u(-b));for(var I=[],A=1,P=0;b>=A;P++)I[P]=b/A|0,A*=4294967296;return new o(I,0)}function h(b,I){if(b.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(b.charAt(0)=="-")return E(h(b.substring(1),I));if(0<=b.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=u(Math.pow(I,8)),P=f,N=0;N<b.length;N+=8){var O=Math.min(8,b.length-N),R=parseInt(b.substring(N,N+O),I);8>O?(O=u(Math.pow(I,O)),P=P.j(O).add(u(R))):(P=P.j(A),P=P.add(u(R)))}return P}var f=l(0),m=l(1),g=l(16777216);t=o.prototype,t.m=function(){if(y(this))return-E(this).m();for(var b=0,I=1,A=0;A<this.g.length;A++){var P=this.i(A);b+=(0<=P?P:4294967296+P)*I,I*=4294967296}return b},t.toString=function(b){if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(S(this))return"0";if(y(this))return"-"+E(this).toString(b);for(var I=u(Math.pow(b,6)),A=this,P="";;){var N=k(A,I).g;A=T(A,N.j(I));var O=((0<A.g.length?A.g[0]:A.h)>>>0).toString(b);if(A=N,S(A))return O+P;for(;6>O.length;)O="0"+O;P=O+P}},t.i=function(b){return 0>b?0:b<this.g.length?this.g[b]:this.h};function S(b){if(b.h!=0)return!1;for(var I=0;I<b.g.length;I++)if(b.g[I]!=0)return!1;return!0}function y(b){return b.h==-1}t.l=function(b){return b=T(this,b),y(b)?-1:S(b)?0:1};function E(b){for(var I=b.g.length,A=[],P=0;P<I;P++)A[P]=~b.g[P];return new o(A,~b.h).add(m)}t.abs=function(){return y(this)?E(this):this},t.add=function(b){for(var I=Math.max(this.g.length,b.g.length),A=[],P=0,N=0;N<=I;N++){var O=P+(this.i(N)&65535)+(b.i(N)&65535),R=(O>>>16)+(this.i(N)>>>16)+(b.i(N)>>>16);P=R>>>16,O&=65535,R&=65535,A[N]=R<<16|O}return new o(A,A[A.length-1]&-2147483648?-1:0)};function T(b,I){return b.add(E(I))}t.j=function(b){if(S(this)||S(b))return f;if(y(this))return y(b)?E(this).j(E(b)):E(E(this).j(b));if(y(b))return E(this.j(E(b)));if(0>this.l(g)&&0>b.l(g))return u(this.m()*b.m());for(var I=this.g.length+b.g.length,A=[],P=0;P<2*I;P++)A[P]=0;for(P=0;P<this.g.length;P++)for(var N=0;N<b.g.length;N++){var O=this.i(P)>>>16,R=this.i(P)&65535,j=b.i(N)>>>16,q=b.i(N)&65535;A[2*P+2*N]+=R*q,w(A,2*P+2*N),A[2*P+2*N+1]+=O*q,w(A,2*P+2*N+1),A[2*P+2*N+1]+=R*j,w(A,2*P+2*N+1),A[2*P+2*N+2]+=O*j,w(A,2*P+2*N+2)}for(P=0;P<I;P++)A[P]=A[2*P+1]<<16|A[2*P];for(P=I;P<2*I;P++)A[P]=0;return new o(A,0)};function w(b,I){for(;(b[I]&65535)!=b[I];)b[I+1]+=b[I]>>>16,b[I]&=65535,I++}function _(b,I){this.g=b,this.h=I}function k(b,I){if(S(I))throw Error("division by zero");if(S(b))return new _(f,f);if(y(b))return I=k(E(b),I),new _(E(I.g),E(I.h));if(y(I))return I=k(b,E(I)),new _(E(I.g),I.h);if(30<b.g.length){if(y(b)||y(I))throw Error("slowDivide_ only works with positive integers.");for(var A=m,P=I;0>=P.l(b);)A=D(A),P=D(P);var N=M(A,1),O=M(P,1);for(P=M(P,2),A=M(A,2);!S(P);){var R=O.add(P);0>=R.l(b)&&(N=N.add(A),O=R),P=M(P,1),A=M(A,1)}return I=T(b,N.j(I)),new _(N,I)}for(N=f;0<=b.l(I);){for(A=Math.max(1,Math.floor(b.m()/I.m())),P=Math.ceil(Math.log(A)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),O=u(A),R=O.j(I);y(R)||0<R.l(b);)A-=P,O=u(A),R=O.j(I);S(O)&&(O=m),N=N.add(O),b=T(b,R)}return new _(N,b)}t.A=function(b){return k(this,b).h},t.and=function(b){for(var I=Math.max(this.g.length,b.g.length),A=[],P=0;P<I;P++)A[P]=this.i(P)&b.i(P);return new o(A,this.h&b.h)},t.or=function(b){for(var I=Math.max(this.g.length,b.g.length),A=[],P=0;P<I;P++)A[P]=this.i(P)|b.i(P);return new o(A,this.h|b.h)},t.xor=function(b){for(var I=Math.max(this.g.length,b.g.length),A=[],P=0;P<I;P++)A[P]=this.i(P)^b.i(P);return new o(A,this.h^b.h)};function D(b){for(var I=b.g.length+1,A=[],P=0;P<I;P++)A[P]=b.i(P)<<1|b.i(P-1)>>>31;return new o(A,b.h)}function M(b,I){var A=I>>5;I%=32;for(var P=b.g.length-A,N=[],O=0;O<P;O++)N[O]=0<I?b.i(O+A)>>>I|b.i(O+A+1)<<32-I:b.i(O+A);return new o(N,b.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,d1=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=h,Ws=o}).apply(typeof H_<"u"?H_:typeof self<"u"?self:typeof window<"u"?window:{});var Au=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var h1,wl,f1,sd,Zm,p1,m1,g1;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,p,v){return c==Array.prototype||c==Object.prototype||(c[p]=v.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Au=="object"&&Au];for(var p=0;p<c.length;++p){var v=c[p];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=n(this);function s(c,p){if(p)e:{var v=r;c=c.split(".");for(var C=0;C<c.length-1;C++){var L=c[C];if(!(L in v))break e;v=v[L]}c=c[c.length-1],C=v[c],p=p(C),p!=C&&p!=null&&e(v,c,{configurable:!0,writable:!0,value:p})}}function i(c,p){c instanceof String&&(c+="");var v=0,C=!1,L={next:function(){if(!C&&v<c.length){var F=v++;return{value:p(F,c[F]),done:!1}}return C=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}s("Array.prototype.values",function(c){return c||function(){return i(this,function(p,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(c){var p=typeof c;return p=p!="object"?p:c?Array.isArray(c)?"array":p:"null",p=="array"||p=="object"&&typeof c.length=="number"}function u(c){var p=typeof c;return p=="object"&&c!=null||p=="function"}function h(c,p,v){return c.call.apply(c.bind,arguments)}function f(c,p,v){if(!c)throw Error();if(2<arguments.length){var C=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,C),c.apply(p,L)}}return function(){return c.apply(p,arguments)}}function m(c,p,v){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:f,m.apply(null,arguments)}function g(c,p){var v=Array.prototype.slice.call(arguments,1);return function(){var C=v.slice();return C.push.apply(C,arguments),c.apply(this,C)}}function S(c,p){function v(){}v.prototype=p.prototype,c.aa=p.prototype,c.prototype=new v,c.prototype.constructor=c,c.Qb=function(C,L,F){for(var Q=Array(arguments.length-2),Ve=2;Ve<arguments.length;Ve++)Q[Ve-2]=arguments[Ve];return p.prototype[L].apply(C,Q)}}function y(c){const p=c.length;if(0<p){const v=Array(p);for(let C=0;C<p;C++)v[C]=c[C];return v}return[]}function E(c,p){for(let v=1;v<arguments.length;v++){const C=arguments[v];if(l(C)){const L=c.length||0,F=C.length||0;c.length=L+F;for(let Q=0;Q<F;Q++)c[L+Q]=C[Q]}else c.push(C)}}class T{constructor(p,v){this.i=p,this.j=v,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function w(c){return/^[\s\xa0]*$/.test(c)}function _(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function k(c){return k[" "](c),c}k[" "]=function(){};var D=_().indexOf("Gecko")!=-1&&!(_().toLowerCase().indexOf("webkit")!=-1&&_().indexOf("Edge")==-1)&&!(_().indexOf("Trident")!=-1||_().indexOf("MSIE")!=-1)&&_().indexOf("Edge")==-1;function M(c,p,v){for(const C in c)p.call(v,c[C],C,c)}function b(c,p){for(const v in c)p.call(void 0,c[v],v,c)}function I(c){const p={};for(const v in c)p[v]=c[v];return p}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(c,p){let v,C;for(let L=1;L<arguments.length;L++){C=arguments[L];for(v in C)c[v]=C[v];for(let F=0;F<A.length;F++)v=A[F],Object.prototype.hasOwnProperty.call(C,v)&&(c[v]=C[v])}}function N(c){var p=1;c=c.split(":");const v=[];for(;0<p&&c.length;)v.push(c.shift()),p--;return c.length&&v.push(c.join(":")),v}function O(c){a.setTimeout(()=>{throw c},0)}function R(){var c=U;let p=null;return c.g&&(p=c.g,c.g=c.g.next,c.g||(c.h=null),p.next=null),p}class j{constructor(){this.h=this.g=null}add(p,v){const C=q.get();C.set(p,v),this.h?this.h.next=C:this.g=C,this.h=C}}var q=new T(()=>new G,c=>c.reset());class G{constructor(){this.next=this.g=this.h=null}set(p,v){this.h=p,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let X,V=!1,U=new j,W=()=>{const c=a.Promise.resolve(void 0);X=()=>{c.then(re)}};var re=()=>{for(var c;c=R();){try{c.h.call(c.g)}catch(v){O(v)}var p=q;p.j(c),100>p.h&&(p.h++,c.next=p.g,p.g=c)}V=!1};function J(){this.s=this.s,this.C=this.C}J.prototype.s=!1,J.prototype.ma=function(){this.s||(this.s=!0,this.N())},J.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Z(c,p){this.type=c,this.g=this.target=p,this.defaultPrevented=!1}Z.prototype.h=function(){this.defaultPrevented=!0};var se=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,p=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};a.addEventListener("test",v,p),a.removeEventListener("test",v,p)}catch{}return c}();function Ie(c,p){if(Z.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var v=this.type=c.type,C=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=p,p=c.relatedTarget){if(D){e:{try{k(p.nodeName);var L=!0;break e}catch{}L=!1}L||(p=null)}}else v=="mouseover"?p=c.fromElement:v=="mouseout"&&(p=c.toElement);this.relatedTarget=p,C?(this.clientX=C.clientX!==void 0?C.clientX:C.pageX,this.clientY=C.clientY!==void 0?C.clientY:C.pageY,this.screenX=C.screenX||0,this.screenY=C.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Me[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ie.aa.h.call(this)}}S(Ie,Z);var Me={2:"touch",3:"pen",4:"mouse"};Ie.prototype.h=function(){Ie.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Y="closure_listenable_"+(1e6*Math.random()|0),Re=0;function He(c,p,v,C,L){this.listener=c,this.proxy=null,this.src=p,this.type=v,this.capture=!!C,this.ha=L,this.key=++Re,this.da=this.fa=!1}function _e(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function pe(c){this.src=c,this.g={},this.h=0}pe.prototype.add=function(c,p,v,C,L){var F=c.toString();c=this.g[F],c||(c=this.g[F]=[],this.h++);var Q=it(c,p,C,L);return-1<Q?(p=c[Q],v||(p.fa=!1)):(p=new He(p,this.src,F,!!C,L),p.fa=v,c.push(p)),p};function Ee(c,p){var v=p.type;if(v in c.g){var C=c.g[v],L=Array.prototype.indexOf.call(C,p,void 0),F;(F=0<=L)&&Array.prototype.splice.call(C,L,1),F&&(_e(p),c.g[v].length==0&&(delete c.g[v],c.h--))}}function it(c,p,v,C){for(var L=0;L<c.length;++L){var F=c[L];if(!F.da&&F.listener==p&&F.capture==!!v&&F.ha==C)return L}return-1}var kt="closure_lm_"+(1e6*Math.random()|0),jn={};function Mn(c,p,v,C,L){if(Array.isArray(p)){for(var F=0;F<p.length;F++)Mn(c,p[F],v,C,L);return null}return v=Bc(v),c&&c[Y]?c.K(p,v,u(C)?!!C.capture:!1,L):Ar(c,p,v,!1,C,L)}function Ar(c,p,v,C,L,F){if(!p)throw Error("Invalid event type");var Q=u(L)?!!L.capture:!!L,Ve=Ln(c);if(Ve||(c[kt]=Ve=new pe(c)),v=Ve.add(p,v,C,Q,F),v.proxy)return v;if(C=mi(),v.proxy=C,C.src=c,C.listener=v,c.addEventListener)se||(L=Q),L===void 0&&(L=!1),c.addEventListener(p.toString(),C,L);else if(c.attachEvent)c.attachEvent(ss(p.toString()),C);else if(c.addListener&&c.removeListener)c.addListener(C);else throw Error("addEventListener and attachEvent are unavailable.");return v}function mi(){function c(v){return p.call(c.src,c.listener,v)}const p=$c;return c}function Pr(c,p,v,C,L){if(Array.isArray(p))for(var F=0;F<p.length;F++)Pr(c,p[F],v,C,L);else C=u(C)?!!C.capture:!!C,v=Bc(v),c&&c[Y]?(c=c.i,p=String(p).toString(),p in c.g&&(F=c.g[p],v=it(F,v,C,L),-1<v&&(_e(F[v]),Array.prototype.splice.call(F,v,1),F.length==0&&(delete c.g[p],c.h--)))):c&&(c=Ln(c))&&(p=c.g[p.toString()],c=-1,p&&(c=it(p,v,C,L)),(v=-1<c?p[c]:null)&&co(v))}function co(c){if(typeof c!="number"&&c&&!c.da){var p=c.src;if(p&&p[Y])Ee(p.i,c);else{var v=c.type,C=c.proxy;p.removeEventListener?p.removeEventListener(v,C,c.capture):p.detachEvent?p.detachEvent(ss(v),C):p.addListener&&p.removeListener&&p.removeListener(C),(v=Ln(p))?(Ee(v,c),v.h==0&&(v.src=null,p[kt]=null)):_e(c)}}}function ss(c){return c in jn?jn[c]:jn[c]="on"+c}function $c(c,p){if(c.da)c=!0;else{p=new Ie(p,this);var v=c.listener,C=c.ha||c.src;c.fa&&co(c),c=v.call(C,p)}return c}function Ln(c){return c=c[kt],c instanceof pe?c:null}var Ha="__closure_events_fn_"+(1e9*Math.random()>>>0);function Bc(c){return typeof c=="function"?c:(c[Ha]||(c[Ha]=function(p){return c.handleEvent(p)}),c[Ha])}function De(){J.call(this),this.i=new pe(this),this.M=this,this.F=null}S(De,J),De.prototype[Y]=!0,De.prototype.removeEventListener=function(c,p,v,C){Pr(this,c,p,v,C)};function Ze(c,p){var v,C=c.F;if(C)for(v=[];C;C=C.F)v.push(C);if(c=c.M,C=p.type||p,typeof p=="string")p=new Z(p,c);else if(p instanceof Z)p.target=p.target||c;else{var L=p;p=new Z(C,c),P(p,L)}if(L=!0,v)for(var F=v.length-1;0<=F;F--){var Q=p.g=v[F];L=uo(Q,C,!0,p)&&L}if(Q=p.g=c,L=uo(Q,C,!0,p)&&L,L=uo(Q,C,!1,p)&&L,v)for(F=0;F<v.length;F++)Q=p.g=v[F],L=uo(Q,C,!1,p)&&L}De.prototype.N=function(){if(De.aa.N.call(this),this.i){var c=this.i,p;for(p in c.g){for(var v=c.g[p],C=0;C<v.length;C++)_e(v[C]);delete c.g[p],c.h--}}this.F=null},De.prototype.K=function(c,p,v,C){return this.i.add(String(c),p,!1,v,C)},De.prototype.L=function(c,p,v,C){return this.i.add(String(c),p,!0,v,C)};function uo(c,p,v,C){if(p=c.i.g[String(p)],!p)return!0;p=p.concat();for(var L=!0,F=0;F<p.length;++F){var Q=p[F];if(Q&&!Q.da&&Q.capture==v){var Ve=Q.listener,Tt=Q.ha||Q.src;Q.fa&&Ee(c.i,Q),L=Ve.call(Tt,C)!==!1&&L}}return L&&!C.defaultPrevented}function zc(c,p,v){if(typeof c=="function")v&&(c=m(c,v));else if(c&&typeof c.handleEvent=="function")c=m(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:a.setTimeout(c,p||0)}function gi(c){c.g=zc(()=>{c.g=null,c.i&&(c.i=!1,gi(c))},c.l);const p=c.h;c.h=null,c.m.apply(null,p)}class xf extends J{constructor(p,v){super(),this.m=p,this.l=v,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:gi(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function is(c){J.call(this),this.h=c,this.g={}}S(is,J);var ho=[];function Rr(c){M(c.g,function(p,v){this.g.hasOwnProperty(v)&&co(p)},c),c.g={}}is.prototype.N=function(){is.aa.N.call(this),Rr(this)},is.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var fo=a.JSON.stringify,os=a.JSON.parse,Tf=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function Wa(){}Wa.prototype.h=null;function qa(c){return c.h||(c.h=c.i())}function Ka(){}var vi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function yi(){Z.call(this,"d")}S(yi,Z);function Sn(){Z.call(this,"c")}S(Sn,Z);var kr={},ce=null;function be(){return ce=ce||new De}kr.La="serverreachability";function Le(c){Z.call(this,kr.La,c)}S(Le,Z);function Et(c){const p=be();Ze(p,new Le(p))}kr.STAT_EVENT="statevent";function Yt(c,p){Z.call(this,kr.STAT_EVENT,c),this.stat=p}S(Yt,Z);function We(c){const p=be();Ze(p,new Yt(p,c))}kr.Ma="timingevent";function ir(c,p){Z.call(this,kr.Ma,c),this.size=p}S(ir,Z);function xt(c,p){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},p)}function Xt(){this.g=!0}Xt.prototype.xa=function(){this.g=!1};function _P(c,p,v,C,L,F){c.info(function(){if(c.g)if(F)for(var Q="",Ve=F.split("&"),Tt=0;Tt<Ve.length;Tt++){var Ae=Ve[Tt].split("=");if(1<Ae.length){var Nt=Ae[0];Ae=Ae[1];var Ot=Nt.split("_");Q=2<=Ot.length&&Ot[1]=="type"?Q+(Nt+"="+Ae+"&"):Q+(Nt+"=redacted&")}}else Q=null;else Q=F;return"XMLHTTP REQ ("+C+") [attempt "+L+"]: "+p+`
`+v+`
`+Q})}function EP(c,p,v,C,L,F,Q){c.info(function(){return"XMLHTTP RESP ("+C+") [ attempt "+L+"]: "+p+`
`+v+`
`+F+" "+Q})}function po(c,p,v,C){c.info(function(){return"XMLHTTP TEXT ("+p+"): "+TP(c,v)+(C?" "+C:"")})}function xP(c,p){c.info(function(){return"TIMEOUT: "+p})}Xt.prototype.info=function(){};function TP(c,p){if(!c.g)return p;if(!p)return null;try{var v=JSON.parse(p);if(v){for(c=0;c<v.length;c++)if(Array.isArray(v[c])){var C=v[c];if(!(2>C.length)){var L=C[1];if(Array.isArray(L)&&!(1>L.length)){var F=L[0];if(F!="noop"&&F!="stop"&&F!="close")for(var Q=1;Q<L.length;Q++)L[Q]=""}}}}return fo(v)}catch{return p}}var Hc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ly={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Sf;function Wc(){}S(Wc,Wa),Wc.prototype.g=function(){return new XMLHttpRequest},Wc.prototype.i=function(){return{}},Sf=new Wc;function as(c,p,v,C){this.j=c,this.i=p,this.l=v,this.R=C||1,this.U=new is(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Vy}function Vy(){this.i=null,this.g="",this.h=!1}var Fy={},If={};function bf(c,p,v){c.L=1,c.v=Qc(Nr(p)),c.m=v,c.P=!0,Uy(c,null)}function Uy(c,p){c.F=Date.now(),qc(c),c.A=Nr(c.v);var v=c.A,C=c.R;Array.isArray(C)||(C=[String(C)]),ew(v.i,"t",C),c.C=0,v=c.j.J,c.h=new Vy,c.g=yw(c.j,v?p:null,!c.m),0<c.O&&(c.M=new xf(m(c.Y,c,c.g),c.O)),p=c.U,v=c.g,C=c.ca;var L="readystatechange";Array.isArray(L)||(L&&(ho[0]=L.toString()),L=ho);for(var F=0;F<L.length;F++){var Q=Mn(v,L[F],C||p.handleEvent,!1,p.h||p);if(!Q)break;p.g[Q.key]=Q}p=c.H?I(c.H):{},c.m?(c.u||(c.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,p)):(c.u="GET",c.g.ea(c.A,c.u,null,p)),Et(),_P(c.i,c.u,c.A,c.l,c.R,c.m)}as.prototype.ca=function(c){c=c.target;const p=this.M;p&&Or(c)==3?p.j():this.Y(c)},as.prototype.Y=function(c){try{if(c==this.g)e:{const Ot=Or(this.g);var p=this.g.Ba();const vo=this.g.Z();if(!(3>Ot)&&(Ot!=3||this.g&&(this.h.h||this.g.oa()||aw(this.g)))){this.J||Ot!=4||p==7||(p==8||0>=vo?Et(3):Et(2)),Cf(this);var v=this.g.Z();this.X=v;t:if($y(this)){var C=aw(this.g);c="";var L=C.length,F=Or(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){wi(this),Ga(this);var Q="";break t}this.h.i=new a.TextDecoder}for(p=0;p<L;p++)this.h.h=!0,c+=this.h.i.decode(C[p],{stream:!(F&&p==L-1)});C.length=0,this.h.g+=c,this.C=0,Q=this.h.g}else Q=this.g.oa();if(this.o=v==200,EP(this.i,this.u,this.A,this.l,this.R,Ot,v),this.o){if(this.T&&!this.K){t:{if(this.g){var Ve,Tt=this.g;if((Ve=Tt.g?Tt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(Ve)){var Ae=Ve;break t}}Ae=null}if(v=Ae)po(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Af(this,v);else{this.o=!1,this.s=3,We(12),wi(this),Ga(this);break e}}if(this.P){v=!0;let Vn;for(;!this.J&&this.C<Q.length;)if(Vn=SP(this,Q),Vn==If){Ot==4&&(this.s=4,We(14),v=!1),po(this.i,this.l,null,"[Incomplete Response]");break}else if(Vn==Fy){this.s=4,We(15),po(this.i,this.l,Q,"[Invalid Chunk]"),v=!1;break}else po(this.i,this.l,Vn,null),Af(this,Vn);if($y(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ot!=4||Q.length!=0||this.h.h||(this.s=1,We(16),v=!1),this.o=this.o&&v,!v)po(this.i,this.l,Q,"[Invalid Chunked Response]"),wi(this),Ga(this);else if(0<Q.length&&!this.W){this.W=!0;var Nt=this.j;Nt.g==this&&Nt.ba&&!Nt.M&&(Nt.j.info("Great, no buffering proxy detected. Bytes received: "+Q.length),Df(Nt),Nt.M=!0,We(11))}}else po(this.i,this.l,Q,null),Af(this,Q);Ot==4&&wi(this),this.o&&!this.J&&(Ot==4?pw(this.j,this):(this.o=!1,qc(this)))}else $P(this.g),v==400&&0<Q.indexOf("Unknown SID")?(this.s=3,We(12)):(this.s=0,We(13)),wi(this),Ga(this)}}}catch{}finally{}};function $y(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function SP(c,p){var v=c.C,C=p.indexOf(`
`,v);return C==-1?If:(v=Number(p.substring(v,C)),isNaN(v)?Fy:(C+=1,C+v>p.length?If:(p=p.slice(C,C+v),c.C=C+v,p)))}as.prototype.cancel=function(){this.J=!0,wi(this)};function qc(c){c.S=Date.now()+c.I,By(c,c.I)}function By(c,p){if(c.B!=null)throw Error("WatchDog timer not null");c.B=xt(m(c.ba,c),p)}function Cf(c){c.B&&(a.clearTimeout(c.B),c.B=null)}as.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(xP(this.i,this.A),this.L!=2&&(Et(),We(17)),wi(this),this.s=2,Ga(this)):By(this,this.S-c)};function Ga(c){c.j.G==0||c.J||pw(c.j,c)}function wi(c){Cf(c);var p=c.M;p&&typeof p.ma=="function"&&p.ma(),c.M=null,Rr(c.U),c.g&&(p=c.g,c.g=null,p.abort(),p.ma())}function Af(c,p){try{var v=c.j;if(v.G!=0&&(v.g==c||Pf(v.h,c))){if(!c.K&&Pf(v.h,c)&&v.G==3){try{var C=v.Da.g.parse(p)}catch{C=null}if(Array.isArray(C)&&C.length==3){var L=C;if(L[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<c.F)tu(v),Zc(v);else break e;Of(v),We(18)}}else v.za=L[1],0<v.za-v.T&&37500>L[2]&&v.F&&v.v==0&&!v.C&&(v.C=xt(m(v.Za,v),6e3));if(1>=Wy(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else Ei(v,11)}else if((c.K||v.g==c)&&tu(v),!w(p))for(L=v.Da.g.parse(p),p=0;p<L.length;p++){let Ae=L[p];if(v.T=Ae[0],Ae=Ae[1],v.G==2)if(Ae[0]=="c"){v.K=Ae[1],v.ia=Ae[2];const Nt=Ae[3];Nt!=null&&(v.la=Nt,v.j.info("VER="+v.la));const Ot=Ae[4];Ot!=null&&(v.Aa=Ot,v.j.info("SVER="+v.Aa));const vo=Ae[5];vo!=null&&typeof vo=="number"&&0<vo&&(C=1.5*vo,v.L=C,v.j.info("backChannelRequestTimeoutMs_="+C)),C=v;const Vn=c.g;if(Vn){const ru=Vn.g?Vn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ru){var F=C.h;F.g||ru.indexOf("spdy")==-1&&ru.indexOf("quic")==-1&&ru.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(Rf(F,F.h),F.h=null))}if(C.D){const jf=Vn.g?Vn.g.getResponseHeader("X-HTTP-Session-Id"):null;jf&&(C.ya=jf,Ue(C.I,C.D,jf))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-c.F,v.j.info("Handshake RTT: "+v.R+"ms")),C=v;var Q=c;if(C.qa=vw(C,C.J?C.ia:null,C.W),Q.K){qy(C.h,Q);var Ve=Q,Tt=C.L;Tt&&(Ve.I=Tt),Ve.B&&(Cf(Ve),qc(Ve)),C.g=Q}else hw(C);0<v.i.length&&eu(v)}else Ae[0]!="stop"&&Ae[0]!="close"||Ei(v,7);else v.G==3&&(Ae[0]=="stop"||Ae[0]=="close"?Ae[0]=="stop"?Ei(v,7):Nf(v):Ae[0]!="noop"&&v.l&&v.l.ta(Ae),v.v=0)}}Et(4)}catch{}}var IP=class{constructor(c,p){this.g=c,this.map=p}};function zy(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Hy(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Wy(c){return c.h?1:c.g?c.g.size:0}function Pf(c,p){return c.h?c.h==p:c.g?c.g.has(p):!1}function Rf(c,p){c.g?c.g.add(p):c.h=p}function qy(c,p){c.h&&c.h==p?c.h=null:c.g&&c.g.has(p)&&c.g.delete(p)}zy.prototype.cancel=function(){if(this.i=Ky(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Ky(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let p=c.i;for(const v of c.g.values())p=p.concat(v.D);return p}return y(c.i)}function bP(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(l(c)){for(var p=[],v=c.length,C=0;C<v;C++)p.push(c[C]);return p}p=[],v=0;for(C in c)p[v++]=c[C];return p}function CP(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(l(c)||typeof c=="string"){var p=[];c=c.length;for(var v=0;v<c;v++)p.push(v);return p}p=[],v=0;for(const C in c)p[v++]=C;return p}}}function Gy(c,p){if(c.forEach&&typeof c.forEach=="function")c.forEach(p,void 0);else if(l(c)||typeof c=="string")Array.prototype.forEach.call(c,p,void 0);else for(var v=CP(c),C=bP(c),L=C.length,F=0;F<L;F++)p.call(void 0,C[F],v&&v[F],c)}var Qy=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function AP(c,p){if(c){c=c.split("&");for(var v=0;v<c.length;v++){var C=c[v].indexOf("="),L=null;if(0<=C){var F=c[v].substring(0,C);L=c[v].substring(C+1)}else F=c[v];p(F,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function _i(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof _i){this.h=c.h,Kc(this,c.j),this.o=c.o,this.g=c.g,Gc(this,c.s),this.l=c.l;var p=c.i,v=new Xa;v.i=p.i,p.g&&(v.g=new Map(p.g),v.h=p.h),Yy(this,v),this.m=c.m}else c&&(p=String(c).match(Qy))?(this.h=!1,Kc(this,p[1]||"",!0),this.o=Qa(p[2]||""),this.g=Qa(p[3]||"",!0),Gc(this,p[4]),this.l=Qa(p[5]||"",!0),Yy(this,p[6]||"",!0),this.m=Qa(p[7]||"")):(this.h=!1,this.i=new Xa(null,this.h))}_i.prototype.toString=function(){var c=[],p=this.j;p&&c.push(Ya(p,Xy,!0),":");var v=this.g;return(v||p=="file")&&(c.push("//"),(p=this.o)&&c.push(Ya(p,Xy,!0),"@"),c.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&c.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(Ya(v,v.charAt(0)=="/"?kP:RP,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",Ya(v,OP)),c.join("")};function Nr(c){return new _i(c)}function Kc(c,p,v){c.j=v?Qa(p,!0):p,c.j&&(c.j=c.j.replace(/:$/,""))}function Gc(c,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);c.s=p}else c.s=null}function Yy(c,p,v){p instanceof Xa?(c.i=p,DP(c.i,c.h)):(v||(p=Ya(p,NP)),c.i=new Xa(p,c.h))}function Ue(c,p,v){c.i.set(p,v)}function Qc(c){return Ue(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Qa(c,p){return c?p?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ya(c,p,v){return typeof c=="string"?(c=encodeURI(c).replace(p,PP),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function PP(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Xy=/[#\/\?@]/g,RP=/[#\?:]/g,kP=/[#\?]/g,NP=/[#\?@]/g,OP=/#/g;function Xa(c,p){this.h=this.g=null,this.i=c||null,this.j=!!p}function ls(c){c.g||(c.g=new Map,c.h=0,c.i&&AP(c.i,function(p,v){c.add(decodeURIComponent(p.replace(/\+/g," ")),v)}))}t=Xa.prototype,t.add=function(c,p){ls(this),this.i=null,c=mo(this,c);var v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(p),this.h+=1,this};function Jy(c,p){ls(c),p=mo(c,p),c.g.has(p)&&(c.i=null,c.h-=c.g.get(p).length,c.g.delete(p))}function Zy(c,p){return ls(c),p=mo(c,p),c.g.has(p)}t.forEach=function(c,p){ls(this),this.g.forEach(function(v,C){v.forEach(function(L){c.call(p,L,C,this)},this)},this)},t.na=function(){ls(this);const c=Array.from(this.g.values()),p=Array.from(this.g.keys()),v=[];for(let C=0;C<p.length;C++){const L=c[C];for(let F=0;F<L.length;F++)v.push(p[C])}return v},t.V=function(c){ls(this);let p=[];if(typeof c=="string")Zy(this,c)&&(p=p.concat(this.g.get(mo(this,c))));else{c=Array.from(this.g.values());for(let v=0;v<c.length;v++)p=p.concat(c[v])}return p},t.set=function(c,p){return ls(this),this.i=null,c=mo(this,c),Zy(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[p]),this.h+=1,this},t.get=function(c,p){return c?(c=this.V(c),0<c.length?String(c[0]):p):p};function ew(c,p,v){Jy(c,p),0<v.length&&(c.i=null,c.g.set(mo(c,p),y(v)),c.h+=v.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],p=Array.from(this.g.keys());for(var v=0;v<p.length;v++){var C=p[v];const F=encodeURIComponent(String(C)),Q=this.V(C);for(C=0;C<Q.length;C++){var L=F;Q[C]!==""&&(L+="="+encodeURIComponent(String(Q[C]))),c.push(L)}}return this.i=c.join("&")};function mo(c,p){return p=String(p),c.j&&(p=p.toLowerCase()),p}function DP(c,p){p&&!c.j&&(ls(c),c.i=null,c.g.forEach(function(v,C){var L=C.toLowerCase();C!=L&&(Jy(this,C),ew(this,L,v))},c)),c.j=p}function jP(c,p){const v=new Xt;if(a.Image){const C=new Image;C.onload=g(cs,v,"TestLoadImage: loaded",!0,p,C),C.onerror=g(cs,v,"TestLoadImage: error",!1,p,C),C.onabort=g(cs,v,"TestLoadImage: abort",!1,p,C),C.ontimeout=g(cs,v,"TestLoadImage: timeout",!1,p,C),a.setTimeout(function(){C.ontimeout&&C.ontimeout()},1e4),C.src=c}else p(!1)}function MP(c,p){const v=new Xt,C=new AbortController,L=setTimeout(()=>{C.abort(),cs(v,"TestPingServer: timeout",!1,p)},1e4);fetch(c,{signal:C.signal}).then(F=>{clearTimeout(L),F.ok?cs(v,"TestPingServer: ok",!0,p):cs(v,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(L),cs(v,"TestPingServer: error",!1,p)})}function cs(c,p,v,C,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),C(v)}catch{}}function LP(){this.g=new Tf}function VP(c,p,v){const C=v||"";try{Gy(c,function(L,F){let Q=L;u(L)&&(Q=fo(L)),p.push(C+F+"="+encodeURIComponent(Q))})}catch(L){throw p.push(C+"type="+encodeURIComponent("_badmap")),L}}function Yc(c){this.l=c.Ub||null,this.j=c.eb||!1}S(Yc,Wa),Yc.prototype.g=function(){return new Xc(this.l,this.j)},Yc.prototype.i=function(c){return function(){return c}}({});function Xc(c,p){De.call(this),this.D=c,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S(Xc,De),t=Xc.prototype,t.open=function(c,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=p,this.readyState=1,Za(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(p.body=c),(this.D||a).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ja(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Za(this)),this.g&&(this.readyState=3,Za(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;tw(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function tw(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var p=c.value?c.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!c.done}))&&(this.response=this.responseText+=p)}c.done?Ja(this):Za(this),this.readyState==3&&tw(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,Ja(this))},t.Qa=function(c){this.g&&(this.response=c,Ja(this))},t.ga=function(){this.g&&Ja(this)};function Ja(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Za(c)}t.setRequestHeader=function(c,p){this.u.append(c,p)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],p=this.h.entries();for(var v=p.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=p.next();return c.join(`\r
`)};function Za(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Xc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function nw(c){let p="";return M(c,function(v,C){p+=C,p+=":",p+=v,p+=`\r
`}),p}function kf(c,p,v){e:{for(C in v){var C=!1;break e}C=!0}C||(v=nw(v),typeof c=="string"?v!=null&&encodeURIComponent(String(v)):Ue(c,p,v))}function et(c){De.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S(et,De);var FP=/^https?$/i,UP=["POST","PUT"];t=et.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,p,v,C){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);p=p?p.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Sf.g(),this.v=this.o?qa(this.o):qa(Sf),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(p,String(c),!0),this.B=!1}catch(F){rw(this,F);return}if(c=v||"",v=new Map(this.headers),C)if(Object.getPrototypeOf(C)===Object.prototype)for(var L in C)v.set(L,C[L]);else if(typeof C.keys=="function"&&typeof C.get=="function")for(const F of C.keys())v.set(F,C.get(F));else throw Error("Unknown input type for opt_headers: "+String(C));C=Array.from(v.keys()).find(F=>F.toLowerCase()=="content-type"),L=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(UP,p,void 0))||C||L||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,Q]of v)this.g.setRequestHeader(F,Q);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ow(this),this.u=!0,this.g.send(c),this.u=!1}catch(F){rw(this,F)}};function rw(c,p){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=p,c.m=5,sw(c),Jc(c)}function sw(c){c.A||(c.A=!0,Ze(c,"complete"),Ze(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Ze(this,"complete"),Ze(this,"abort"),Jc(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Jc(this,!0)),et.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?iw(this):this.bb())},t.bb=function(){iw(this)};function iw(c){if(c.h&&typeof o<"u"&&(!c.v[1]||Or(c)!=4||c.Z()!=2)){if(c.u&&Or(c)==4)zc(c.Ea,0,c);else if(Ze(c,"readystatechange"),Or(c)==4){c.h=!1;try{const Q=c.Z();e:switch(Q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var v;if(!(v=p)){var C;if(C=Q===0){var L=String(c.D).match(Qy)[1]||null;!L&&a.self&&a.self.location&&(L=a.self.location.protocol.slice(0,-1)),C=!FP.test(L?L.toLowerCase():"")}v=C}if(v)Ze(c,"complete"),Ze(c,"success");else{c.m=6;try{var F=2<Or(c)?c.g.statusText:""}catch{F=""}c.l=F+" ["+c.Z()+"]",sw(c)}}finally{Jc(c)}}}}function Jc(c,p){if(c.g){ow(c);const v=c.g,C=c.v[0]?()=>{}:null;c.g=null,c.v=null,p||Ze(c,"ready");try{v.onreadystatechange=C}catch{}}}function ow(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function Or(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<Or(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var p=this.g.responseText;return c&&p.indexOf(c)==0&&(p=p.substring(c.length)),os(p)}};function aw(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function $P(c){const p={};c=(c.g&&2<=Or(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let C=0;C<c.length;C++){if(w(c[C]))continue;var v=N(c[C]);const L=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const F=p[L]||[];p[L]=F,F.push(v)}b(p,function(C){return C.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function el(c,p,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||p}function lw(c){this.Aa=0,this.i=[],this.j=new Xt,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=el("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=el("baseRetryDelayMs",5e3,c),this.cb=el("retryDelaySeedMs",1e4,c),this.Wa=el("forwardChannelMaxRetries",2,c),this.wa=el("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new zy(c&&c.concurrentRequestLimit),this.Da=new LP,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=lw.prototype,t.la=8,t.G=1,t.connect=function(c,p,v,C){We(0),this.W=c,this.H=p||{},v&&C!==void 0&&(this.H.OSID=v,this.H.OAID=C),this.F=this.X,this.I=vw(this,null,this.W),eu(this)};function Nf(c){if(cw(c),c.G==3){var p=c.U++,v=Nr(c.I);if(Ue(v,"SID",c.K),Ue(v,"RID",p),Ue(v,"TYPE","terminate"),tl(c,v),p=new as(c,c.j,p),p.L=2,p.v=Qc(Nr(v)),v=!1,a.navigator&&a.navigator.sendBeacon)try{v=a.navigator.sendBeacon(p.v.toString(),"")}catch{}!v&&a.Image&&(new Image().src=p.v,v=!0),v||(p.g=yw(p.j,null),p.g.ea(p.v)),p.F=Date.now(),qc(p)}gw(c)}function Zc(c){c.g&&(Df(c),c.g.cancel(),c.g=null)}function cw(c){Zc(c),c.u&&(a.clearTimeout(c.u),c.u=null),tu(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function eu(c){if(!Hy(c.h)&&!c.s){c.s=!0;var p=c.Ga;X||W(),V||(X(),V=!0),U.add(p,c),c.B=0}}function BP(c,p){return Wy(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=p.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=xt(m(c.Ga,c,p),mw(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const L=new as(this,this.j,c);let F=this.o;if(this.S&&(F?(F=I(F),P(F,this.S)):F=this.S),this.m!==null||this.O||(L.H=F,F=null),this.P)e:{for(var p=0,v=0;v<this.i.length;v++){t:{var C=this.i[v];if("__data__"in C.map&&(C=C.map.__data__,typeof C=="string")){C=C.length;break t}C=void 0}if(C===void 0)break;if(p+=C,4096<p){p=v;break e}if(p===4096||v===this.i.length-1){p=v+1;break e}}p=1e3}else p=1e3;p=dw(this,L,p),v=Nr(this.I),Ue(v,"RID",c),Ue(v,"CVER",22),this.D&&Ue(v,"X-HTTP-Session-Id",this.D),tl(this,v),F&&(this.O?p="headers="+encodeURIComponent(String(nw(F)))+"&"+p:this.m&&kf(v,this.m,F)),Rf(this.h,L),this.Ua&&Ue(v,"TYPE","init"),this.P?(Ue(v,"$req",p),Ue(v,"SID","null"),L.T=!0,bf(L,v,null)):bf(L,v,p),this.G=2}}else this.G==3&&(c?uw(this,c):this.i.length==0||Hy(this.h)||uw(this))};function uw(c,p){var v;p?v=p.l:v=c.U++;const C=Nr(c.I);Ue(C,"SID",c.K),Ue(C,"RID",v),Ue(C,"AID",c.T),tl(c,C),c.m&&c.o&&kf(C,c.m,c.o),v=new as(c,c.j,v,c.B+1),c.m===null&&(v.H=c.o),p&&(c.i=p.D.concat(c.i)),p=dw(c,v,1e3),v.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Rf(c.h,v),bf(v,C,p)}function tl(c,p){c.H&&M(c.H,function(v,C){Ue(p,C,v)}),c.l&&Gy({},function(v,C){Ue(p,C,v)})}function dw(c,p,v){v=Math.min(c.i.length,v);var C=c.l?m(c.l.Na,c.l,c):null;e:{var L=c.i;let F=-1;for(;;){const Q=["count="+v];F==-1?0<v?(F=L[0].g,Q.push("ofs="+F)):F=0:Q.push("ofs="+F);let Ve=!0;for(let Tt=0;Tt<v;Tt++){let Ae=L[Tt].g;const Nt=L[Tt].map;if(Ae-=F,0>Ae)F=Math.max(0,L[Tt].g-100),Ve=!1;else try{VP(Nt,Q,"req"+Ae+"_")}catch{C&&C(Nt)}}if(Ve){C=Q.join("&");break e}}}return c=c.i.splice(0,v),p.D=c,C}function hw(c){if(!c.g&&!c.u){c.Y=1;var p=c.Fa;X||W(),V||(X(),V=!0),U.add(p,c),c.v=0}}function Of(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=xt(m(c.Fa,c),mw(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,fw(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=xt(m(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,We(10),Zc(this),fw(this))};function Df(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function fw(c){c.g=new as(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var p=Nr(c.qa);Ue(p,"RID","rpc"),Ue(p,"SID",c.K),Ue(p,"AID",c.T),Ue(p,"CI",c.F?"0":"1"),!c.F&&c.ja&&Ue(p,"TO",c.ja),Ue(p,"TYPE","xmlhttp"),tl(c,p),c.m&&c.o&&kf(p,c.m,c.o),c.L&&(c.g.I=c.L);var v=c.g;c=c.ia,v.L=1,v.v=Qc(Nr(p)),v.m=null,v.P=!0,Uy(v,c)}t.Za=function(){this.C!=null&&(this.C=null,Zc(this),Of(this),We(19))};function tu(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function pw(c,p){var v=null;if(c.g==p){tu(c),Df(c),c.g=null;var C=2}else if(Pf(c.h,p))v=p.D,qy(c.h,p),C=1;else return;if(c.G!=0){if(p.o)if(C==1){v=p.m?p.m.length:0,p=Date.now()-p.F;var L=c.B;C=be(),Ze(C,new ir(C,v)),eu(c)}else hw(c);else if(L=p.s,L==3||L==0&&0<p.X||!(C==1&&BP(c,p)||C==2&&Of(c)))switch(v&&0<v.length&&(p=c.h,p.i=p.i.concat(v)),L){case 1:Ei(c,5);break;case 4:Ei(c,10);break;case 3:Ei(c,6);break;default:Ei(c,2)}}}function mw(c,p){let v=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(v*=2),v*p}function Ei(c,p){if(c.j.info("Error code "+p),p==2){var v=m(c.fb,c),C=c.Xa;const L=!C;C=new _i(C||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Kc(C,"https"),Qc(C),L?jP(C.toString(),v):MP(C.toString(),v)}else We(2);c.G=0,c.l&&c.l.sa(p),gw(c),cw(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),We(2)):(this.j.info("Failed to ping google.com"),We(1))};function gw(c){if(c.G=0,c.ka=[],c.l){const p=Ky(c.h);(p.length!=0||c.i.length!=0)&&(E(c.ka,p),E(c.ka,c.i),c.h.i.length=0,y(c.i),c.i.length=0),c.l.ra()}}function vw(c,p,v){var C=v instanceof _i?Nr(v):new _i(v);if(C.g!="")p&&(C.g=p+"."+C.g),Gc(C,C.s);else{var L=a.location;C=L.protocol,p=p?p+"."+L.hostname:L.hostname,L=+L.port;var F=new _i(null);C&&Kc(F,C),p&&(F.g=p),L&&Gc(F,L),v&&(F.l=v),C=F}return v=c.D,p=c.ya,v&&p&&Ue(C,v,p),Ue(C,"VER",c.la),tl(c,C),C}function yw(c,p,v){if(p&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=c.Ca&&!c.pa?new et(new Yc({eb:v})):new et(c.pa),p.Ha(c.J),p}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function ww(){}t=ww.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function nu(){}nu.prototype.g=function(c,p){return new hn(c,p)};function hn(c,p){De.call(this),this.g=new lw(p),this.l=c,this.h=p&&p.messageUrlParams||null,c=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(c?c["X-WebChannel-Content-Type"]=p.messageContentType:c={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(c?c["X-WebChannel-Client-Profile"]=p.va:c={"X-WebChannel-Client-Profile":p.va}),this.g.S=c,(c=p&&p.Sb)&&!w(c)&&(this.g.m=c),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!w(p)&&(this.g.D=p,c=this.h,c!==null&&p in c&&(c=this.h,p in c&&delete c[p])),this.j=new go(this)}S(hn,De),hn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},hn.prototype.close=function(){Nf(this.g)},hn.prototype.o=function(c){var p=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.u&&(v={},v.__data__=fo(c),c=v);p.i.push(new IP(p.Ya++,c)),p.G==3&&eu(p)},hn.prototype.N=function(){this.g.l=null,delete this.j,Nf(this.g),delete this.g,hn.aa.N.call(this)};function _w(c){yi.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var p=c.__sm__;if(p){e:{for(const v in p){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,p=p!==null&&c in p?p[c]:void 0),this.data=p}else this.data=c}S(_w,yi);function Ew(){Sn.call(this),this.status=1}S(Ew,Sn);function go(c){this.g=c}S(go,ww),go.prototype.ua=function(){Ze(this.g,"a")},go.prototype.ta=function(c){Ze(this.g,new _w(c))},go.prototype.sa=function(c){Ze(this.g,new Ew)},go.prototype.ra=function(){Ze(this.g,"b")},nu.prototype.createWebChannel=nu.prototype.g,hn.prototype.send=hn.prototype.o,hn.prototype.open=hn.prototype.m,hn.prototype.close=hn.prototype.close,g1=function(){return new nu},m1=function(){return be()},p1=kr,Zm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Hc.NO_ERROR=0,Hc.TIMEOUT=8,Hc.HTTP_ERROR=6,sd=Hc,Ly.COMPLETE="complete",f1=Ly,Ka.EventType=vi,vi.OPEN="a",vi.CLOSE="b",vi.ERROR="c",vi.MESSAGE="d",De.prototype.listen=De.prototype.K,wl=Ka,et.prototype.listenOnce=et.prototype.L,et.prototype.getLastError=et.prototype.Ka,et.prototype.getLastErrorCode=et.prototype.Ba,et.prototype.getStatus=et.prototype.Z,et.prototype.getResponseJson=et.prototype.Oa,et.prototype.getResponseText=et.prototype.oa,et.prototype.send=et.prototype.ea,et.prototype.setWithCredentials=et.prototype.Ha,h1=et}).apply(typeof Au<"u"?Au:typeof self<"u"?self:typeof window<"u"?window:{});const W_="@firebase/firestore",q_="4.7.16";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ft.UNAUTHENTICATED=new Ft(null),Ft.GOOGLE_CREDENTIALS=new Ft("google-credentials-uid"),Ft.FIRST_PARTY=new Ft("first-party-uid"),Ft.MOCK_USER=new Ft("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fa="11.8.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ki=new qh("@firebase/firestore");function So(){return Ki.logLevel}function ee(t,...e){if(Ki.logLevel<=xe.DEBUG){const n=e.map(Yv);Ki.debug(`Firestore (${Fa}): ${t}`,...n)}}function ts(t,...e){if(Ki.logLevel<=xe.ERROR){const n=e.map(Yv);Ki.error(`Firestore (${Fa}): ${t}`,...n)}}function _a(t,...e){if(Ki.logLevel<=xe.WARN){const n=e.map(Yv);Ki.warn(`Firestore (${Fa}): ${t}`,...n)}}function Yv(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function le(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,v1(t,r,n)}function v1(t,e,n){let r=`FIRESTORE (${Fa}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw ts(r),new Error(r)}function Ne(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||v1(e,s,r)}function de(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ne extends sr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y1{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class PF{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ft.UNAUTHENTICATED))}shutdown(){}}class RF{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class kF{constructor(e){this.t=e,this.currentUser=Ft.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ne(this.o===void 0,42304);let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new qr;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new qr,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{ee("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(ee("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new qr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ee("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ne(typeof r.accessToken=="string",31837,{l:r}),new y1(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ne(e===null||typeof e=="string",2055,{h:e}),new Ft(e)}}class NF{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Ft.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class OF{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new NF(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Ft.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class K_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class DF{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,An(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ne(this.o===void 0,3512);const r=i=>{i.error!=null&&ee("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,ee("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{ee("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):ee("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new K_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ne(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new K_(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jF(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w1(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _1{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=jF(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function me(t,e){return t<e?-1:t>e?1:0}function eg(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),s=e.codePointAt(n);if(r!==s){if(r<128&&s<128)return me(r,s);{const i=w1(),o=MF(i.encode(G_(t,n)),i.encode(G_(e,n)));return o!==0?o:me(r,s)}}n+=r>65535?2:1}return me(t.length,e.length)}function G_(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function MF(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return me(t[n],e[n]);return me(t.length,e.length)}function Ea(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q_=-62135596800,Y_=1e6;class ft{static now(){return ft.fromMillis(Date.now())}static fromDate(e){return ft.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*Y_);return new ft(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ne(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ne(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Q_)throw new ne(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ne(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Y_}_compareTo(e){return this.seconds===e.seconds?me(this.nanoseconds,e.nanoseconds):me(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Q_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{static fromTimestamp(e){return new ue(e)}static min(){return new ue(new ft(0,0))}static max(){return new ue(new ft(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X_="__name__";class cr{constructor(e,n,r){n===void 0?n=0:n>e.length&&le(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&le(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return cr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof cr?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=cr.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return me(e.length,n.length)}static compareSegments(e,n){const r=cr.isNumericId(e),s=cr.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?cr.extractNumericId(e).compare(cr.extractNumericId(n)):eg(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ws.fromString(e.substring(4,e.length-2))}}class Ke extends cr{construct(e,n,r){return new Ke(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ne(z.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Ke(n)}static emptyPath(){return new Ke([])}}const LF=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class bt extends cr{construct(e,n,r){return new bt(e,n,r)}static isValidIdentifier(e){return LF.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),bt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===X_}static keyField(){return new bt([X_])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new ne(z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new ne(z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new ne(z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new ne(z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new bt(n)}static emptyPath(){return new bt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e){this.path=e}static fromPath(e){return new ie(Ke.fromString(e))}static fromName(e){return new ie(Ke.fromString(e).popFirst(5))}static empty(){return new ie(Ke.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ke.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ke.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ie(new Ke(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pc=-1;function VF(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=ue.fromTimestamp(r===1e9?new ft(n+1,0):new ft(n,r));return new Zs(s,ie.empty(),e)}function FF(t){return new Zs(t.readTime,t.key,pc)}class Zs{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Zs(ue.min(),ie.empty(),pc)}static max(){return new Zs(ue.max(),ie.empty(),pc)}}function UF(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ie.comparator(t.documentKey,e.documentKey),n!==0?n:me(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $F="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class BF{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ua(t){if(t.code!==z.FAILED_PRECONDITION||t.message!==$F)throw t;ee("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&le(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new B((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof B?n:B.resolve(n)}catch(n){return B.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):B.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):B.reject(n)}static resolve(e){return new B((n,r)=>{n(e)})}static reject(e){return new B((n,r)=>{r(e)})}static waitFor(e){return new B((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},l=>r(l))}),o=!0,i===s&&n()})}static or(e){let n=B.resolve(!1);for(const r of e)n=n.next(s=>s?B.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new B((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const u=l;n(e[u]).next(h=>{o[u]=h,++a,a===i&&r(o)},h=>s(h))}})}static doWhile(e,n){return new B((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function zF(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function $a(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>n.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Yh.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xv=-1;function Xh(t){return t==null}function Jd(t){return t===0&&1/t==-1/0}function HF(t){return typeof t=="number"&&Number.isInteger(t)&&!Jd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E1="";function WF(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=J_(e)),e=qF(t.get(n),e);return J_(e)}function qF(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case E1:n+="";break;default:n+=i}}return n}function J_(t){return t+E1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z_(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ui(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function x1(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{constructor(e,n){this.comparator=e,this.root=n||It.EMPTY}insert(e,n){return new Je(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,It.BLACK,null,null))}remove(e){return new Je(this.comparator,this.root.remove(e,this.comparator).copy(null,null,It.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Pu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Pu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Pu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Pu(this.root,e,this.comparator,!0)}}class Pu{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class It{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??It.RED,this.left=s??It.EMPTY,this.right=i??It.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new It(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return It.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return It.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,It.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,It.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw le(43730,{key:this.key,value:this.value});if(this.right.isRed())throw le(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw le(27949);return e+(this.isRed()?0:1)}}It.EMPTY=null,It.RED=!0,It.BLACK=!1;It.EMPTY=new class{constructor(){this.size=0}get key(){throw le(57766)}get value(){throw le(16141)}get color(){throw le(16727)}get left(){throw le(29726)}get right(){throw le(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new It(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(e){this.comparator=e,this.data=new Je(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new eE(this.data.getIterator())}getIteratorFrom(e){return new eE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof pt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new pt(this.comparator);return n.data=e,n}}class eE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e){this.fields=e,e.sort(bt.comparator)}static empty(){return new gn([])}unionWith(e){let n=new pt(bt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new gn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ea(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new T1("Invalid base64 string: "+i):i}}(e);return new Rt(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new Rt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return me(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Rt.EMPTY_BYTE_STRING=new Rt("");const KF=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ei(t){if(Ne(!!t,39018),typeof t=="string"){let e=0;const n=KF.exec(t);if(Ne(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:rt(t.seconds),nanos:rt(t.nanos)}}function rt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ti(t){return typeof t=="string"?Rt.fromBase64String(t):Rt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S1="server_timestamp",I1="__type__",b1="__previous_value__",C1="__local_write_time__";function Jv(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[I1])===null||n===void 0?void 0:n.stringValue)===S1}function Jh(t){const e=t.mapValue.fields[b1];return Jv(e)?Jh(e):e}function mc(t){const e=ei(t.mapValue.fields[C1].timestampValue);return new ft(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GF{constructor(e,n,r,s,i,o,a,l,u,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u,this.isUsingEmulator=h}}const Zd="(default)";class gc{constructor(e,n){this.projectId=e,this.database=n||Zd}static empty(){return new gc("","")}get isDefaultDatabase(){return this.database===Zd}isEqual(e){return e instanceof gc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A1="__type__",QF="__max__",Ru={mapValue:{}},P1="__vector__",eh="value";function ni(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Jv(t)?4:XF(t)?9007199254740991:YF(t)?10:11:le(28295,{value:t})}function Ir(t,e){if(t===e)return!0;const n=ni(t);if(n!==ni(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return mc(t).isEqual(mc(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=ei(s.timestampValue),a=ei(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return ti(s.bytesValue).isEqual(ti(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return rt(s.geoPointValue.latitude)===rt(i.geoPointValue.latitude)&&rt(s.geoPointValue.longitude)===rt(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return rt(s.integerValue)===rt(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=rt(s.doubleValue),a=rt(i.doubleValue);return o===a?Jd(o)===Jd(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Ea(t.arrayValue.values||[],e.arrayValue.values||[],Ir);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(Z_(o)!==Z_(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Ir(o[l],a[l])))return!1;return!0}(t,e);default:return le(52216,{left:t})}}function vc(t,e){return(t.values||[]).find(n=>Ir(n,e))!==void 0}function xa(t,e){if(t===e)return 0;const n=ni(t),r=ni(e);if(n!==r)return me(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return me(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=rt(i.integerValue||i.doubleValue),l=rt(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return tE(t.timestampValue,e.timestampValue);case 4:return tE(mc(t),mc(e));case 5:return eg(t.stringValue,e.stringValue);case 6:return function(i,o){const a=ti(i),l=ti(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const h=me(a[u],l[u]);if(h!==0)return h}return me(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=me(rt(i.latitude),rt(o.latitude));return a!==0?a:me(rt(i.longitude),rt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return nE(t.arrayValue,e.arrayValue);case 10:return function(i,o){var a,l,u,h;const f=i.fields||{},m=o.fields||{},g=(a=f[eh])===null||a===void 0?void 0:a.arrayValue,S=(l=m[eh])===null||l===void 0?void 0:l.arrayValue,y=me(((u=g==null?void 0:g.values)===null||u===void 0?void 0:u.length)||0,((h=S==null?void 0:S.values)===null||h===void 0?void 0:h.length)||0);return y!==0?y:nE(g,S)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===Ru.mapValue&&o===Ru.mapValue)return 0;if(i===Ru.mapValue)return 1;if(o===Ru.mapValue)return-1;const a=i.fields||{},l=Object.keys(a),u=o.fields||{},h=Object.keys(u);l.sort(),h.sort();for(let f=0;f<l.length&&f<h.length;++f){const m=eg(l[f],h[f]);if(m!==0)return m;const g=xa(a[l[f]],u[h[f]]);if(g!==0)return g}return me(l.length,h.length)}(t.mapValue,e.mapValue);default:throw le(23264,{Pe:n})}}function tE(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return me(t,e);const n=ei(t),r=ei(e),s=me(n.seconds,r.seconds);return s!==0?s:me(n.nanos,r.nanos)}function nE(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=xa(n[s],r[s]);if(i)return i}return me(n.length,r.length)}function Ta(t){return tg(t)}function tg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=ei(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ti(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ie.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=tg(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${tg(n.fields[o])}`;return s+"}"}(t.mapValue):le(61005,{value:t})}function id(t){switch(ni(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Jh(t);return e?16+id(e):16;case 5:return 2*t.stringValue.length;case 6:return ti(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+id(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return ui(r.fields,(i,o)=>{s+=i.length+id(o)}),s}(t.mapValue);default:throw le(13486,{value:t})}}function ng(t){return!!t&&"integerValue"in t}function Zv(t){return!!t&&"arrayValue"in t}function rE(t){return!!t&&"nullValue"in t}function sE(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function od(t){return!!t&&"mapValue"in t}function YF(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[A1])===null||n===void 0?void 0:n.stringValue)===P1}function Ml(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ui(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ml(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ml(t.arrayValue.values[n]);return e}return Object.assign({},t)}function XF(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===QF}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e){this.value=e}static empty(){return new rn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!od(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ml(n)}setAll(e){let n=bt.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=Ml(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());od(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ir(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];od(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){ui(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new rn(Ml(this.value))}}function R1(t){const e=[];return ui(t.fields,(n,r)=>{const s=new bt([n]);if(od(r)){const i=R1(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new gn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new $t(e,0,ue.min(),ue.min(),ue.min(),rn.empty(),0)}static newFoundDocument(e,n,r,s){return new $t(e,1,n,ue.min(),r,s,0)}static newNoDocument(e,n){return new $t(e,2,n,ue.min(),ue.min(),rn.empty(),0)}static newUnknownDocument(e,n){return new $t(e,3,n,ue.min(),ue.min(),rn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ue.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=rn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=rn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ue.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof $t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new $t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th{constructor(e,n){this.position=e,this.inclusive=n}}function iE(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=ie.comparator(ie.fromName(o.referenceValue),n.key):r=xa(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function oE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ir(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh{constructor(e,n="asc"){this.field=e,this.dir=n}}function JF(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k1{}class ct extends k1{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new e6(e,n,r):n==="array-contains"?new r6(e,r):n==="in"?new s6(e,r):n==="not-in"?new i6(e,r):n==="array-contains-any"?new o6(e,r):new ct(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new t6(e,r):new n6(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(xa(n,this.value)):n!==null&&ni(this.value)===ni(n)&&this.matchesComparison(xa(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return le(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class br extends k1{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new br(e,n)}matches(e){return N1(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function N1(t){return t.op==="and"}function O1(t){return ZF(t)&&N1(t)}function ZF(t){for(const e of t.filters)if(e instanceof br)return!1;return!0}function rg(t){if(t instanceof ct)return t.field.canonicalString()+t.op.toString()+Ta(t.value);if(O1(t))return t.filters.map(e=>rg(e)).join(",");{const e=t.filters.map(n=>rg(n)).join(",");return`${t.op}(${e})`}}function D1(t,e){return t instanceof ct?function(r,s){return s instanceof ct&&r.op===s.op&&r.field.isEqual(s.field)&&Ir(r.value,s.value)}(t,e):t instanceof br?function(r,s){return s instanceof br&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&D1(o,s.filters[a]),!0):!1}(t,e):void le(19439)}function j1(t){return t instanceof ct?function(n){return`${n.field.canonicalString()} ${n.op} ${Ta(n.value)}`}(t):t instanceof br?function(n){return n.op.toString()+" {"+n.getFilters().map(j1).join(" ,")+"}"}(t):"Filter"}class e6 extends ct{constructor(e,n,r){super(e,n,r),this.key=ie.fromName(r.referenceValue)}matches(e){const n=ie.comparator(e.key,this.key);return this.matchesComparison(n)}}class t6 extends ct{constructor(e,n){super(e,"in",n),this.keys=M1("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class n6 extends ct{constructor(e,n){super(e,"not-in",n),this.keys=M1("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function M1(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ie.fromName(r.referenceValue))}class r6 extends ct{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Zv(n)&&vc(n.arrayValue,this.value)}}class s6 extends ct{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&vc(this.value.arrayValue,n)}}class i6 extends ct{constructor(e,n){super(e,"not-in",n)}matches(e){if(vc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!vc(this.value.arrayValue,n)}}class o6 extends ct{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Zv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>vc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a6{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.Ie=null}}function aE(t,e=null,n=[],r=[],s=null,i=null,o=null){return new a6(t,e,n,r,s,i,o)}function ey(t){const e=de(t);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>rg(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Xh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ta(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ta(r)).join(",")),e.Ie=n}return e.Ie}function ty(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!JF(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!D1(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!oE(t.startAt,e.startAt)&&oE(t.endAt,e.endAt)}function sg(t){return ie.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function l6(t,e,n,r,s,i,o,a){return new Zh(t,e,n,r,s,i,o,a)}function ny(t){return new Zh(t)}function lE(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function c6(t){return t.collectionGroup!==null}function Ll(t){const e=de(t);if(e.Ee===null){e.Ee=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ee.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new pt(bt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ee.push(new nh(i,r))}),n.has(bt.keyField().canonicalString())||e.Ee.push(new nh(bt.keyField(),r))}return e.Ee}function Er(t){const e=de(t);return e.de||(e.de=u6(e,Ll(t))),e.de}function u6(t,e){if(t.limitType==="F")return aE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new nh(s.field,i)});const n=t.endAt?new th(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new th(t.startAt.position,t.startAt.inclusive):null;return aE(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function ig(t,e,n){return new Zh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function ef(t,e){return ty(Er(t),Er(e))&&t.limitType===e.limitType}function L1(t){return`${ey(Er(t))}|lt:${t.limitType}`}function Io(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>j1(s)).join(", ")}]`),Xh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>Ta(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>Ta(s)).join(",")),`Target(${r})`}(Er(t))}; limitType=${t.limitType})`}function tf(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):ie.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of Ll(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,l){const u=iE(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,Ll(r),s)||r.endAt&&!function(o,a,l){const u=iE(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,Ll(r),s))}(t,e)}function d6(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function V1(t){return(e,n)=>{let r=!1;for(const s of Ll(t)){const i=h6(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function h6(t,e,n){const r=t.field.isKeyField()?ie.comparator(e.key,n.key):function(i,o,a){const l=o.data.field(i),u=a.data.field(i);return l!==null&&u!==null?xa(l,u):le(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return le(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){ui(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return x1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f6=new Je(ie.comparator);function ns(){return f6}const F1=new Je(ie.comparator);function _l(...t){let e=F1;for(const n of t)e=e.insert(n.key,n);return e}function U1(t){let e=F1;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Pi(){return Vl()}function $1(){return Vl()}function Vl(){return new oo(t=>t.toString(),(t,e)=>t.isEqual(e))}const p6=new Je(ie.comparator),m6=new pt(ie.comparator);function Te(...t){let e=m6;for(const n of t)e=e.add(n);return e}const g6=new pt(me);function v6(){return g6}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ry(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Jd(e)?"-0":e}}function B1(t){return{integerValue:""+t}}function y6(t,e){return HF(e)?B1(e):ry(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf{constructor(){this._=void 0}}function w6(t,e,n){return t instanceof rh?function(s,i){const o={fields:{[I1]:{stringValue:S1},[C1]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&Jv(i)&&(i=Jh(i)),i&&(o.fields[b1]=i),{mapValue:o}}(n,e):t instanceof yc?H1(t,e):t instanceof wc?W1(t,e):function(s,i){const o=z1(s,i),a=cE(o)+cE(s.Re);return ng(o)&&ng(s.Re)?B1(a):ry(s.serializer,a)}(t,e)}function _6(t,e,n){return t instanceof yc?H1(t,e):t instanceof wc?W1(t,e):n}function z1(t,e){return t instanceof sh?function(r){return ng(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class rh extends nf{}class yc extends nf{constructor(e){super(),this.elements=e}}function H1(t,e){const n=q1(e);for(const r of t.elements)n.some(s=>Ir(s,r))||n.push(r);return{arrayValue:{values:n}}}class wc extends nf{constructor(e){super(),this.elements=e}}function W1(t,e){let n=q1(e);for(const r of t.elements)n=n.filter(s=>!Ir(s,r));return{arrayValue:{values:n}}}class sh extends nf{constructor(e,n){super(),this.serializer=e,this.Re=n}}function cE(t){return rt(t.integerValue||t.doubleValue)}function q1(t){return Zv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function E6(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof yc&&s instanceof yc||r instanceof wc&&s instanceof wc?Ea(r.elements,s.elements,Ir):r instanceof sh&&s instanceof sh?Ir(r.Re,s.Re):r instanceof rh&&s instanceof rh}(t.transform,e.transform)}class x6{constructor(e,n){this.version=e,this.transformResults=n}}class Nn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Nn}static exists(e){return new Nn(void 0,e)}static updateTime(e){return new Nn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ad(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class rf{}function K1(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new sy(t.key,Nn.none()):new Lc(t.key,t.data,Nn.none());{const n=t.data,r=rn.empty();let s=new pt(bt.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new di(t.key,r,new gn(s.toArray()),Nn.none())}}function T6(t,e,n){t instanceof Lc?function(s,i,o){const a=s.value.clone(),l=dE(s.fieldTransforms,i,o.transformResults);a.setAll(l),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof di?function(s,i,o){if(!ad(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=dE(s.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(G1(s)),l.setAll(a),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Fl(t,e,n,r){return t instanceof Lc?function(i,o,a,l){if(!ad(i.precondition,o))return a;const u=i.value.clone(),h=hE(i.fieldTransforms,l,o);return u.setAll(h),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof di?function(i,o,a,l){if(!ad(i.precondition,o))return a;const u=hE(i.fieldTransforms,l,o),h=o.data;return h.setAll(G1(i)),h.setAll(u),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(i,o,a){return ad(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function S6(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=z1(r.transform,s||null);i!=null&&(n===null&&(n=rn.empty()),n.set(r.field,i))}return n||null}function uE(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Ea(r,s,(i,o)=>E6(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Lc extends rf{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class di extends rf{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function G1(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function dE(t,e,n){const r=new Map;Ne(t.length===n.length,32656,{Ve:n.length,me:t.length});for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,_6(o,a,n[s]))}return r}function hE(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,w6(i,o,e))}return r}class sy extends rf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class I6 extends rf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b6{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&T6(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Fl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Fl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=$1();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const l=K1(o,a);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(ue.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Te())}isEqual(e){return this.batchId===e.batchId&&Ea(this.mutations,e.mutations,(n,r)=>uE(n,r))&&Ea(this.baseMutations,e.baseMutations,(n,r)=>uE(n,r))}}class iy{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Ne(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let s=function(){return p6}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new iy(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C6{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A6{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ot,Se;function P6(t){switch(t){case z.OK:return le(64938);case z.CANCELLED:case z.UNKNOWN:case z.DEADLINE_EXCEEDED:case z.RESOURCE_EXHAUSTED:case z.INTERNAL:case z.UNAVAILABLE:case z.UNAUTHENTICATED:return!1;case z.INVALID_ARGUMENT:case z.NOT_FOUND:case z.ALREADY_EXISTS:case z.PERMISSION_DENIED:case z.FAILED_PRECONDITION:case z.ABORTED:case z.OUT_OF_RANGE:case z.UNIMPLEMENTED:case z.DATA_LOSS:return!0;default:return le(15467,{code:t})}}function Q1(t){if(t===void 0)return ts("GRPC error has no .code"),z.UNKNOWN;switch(t){case ot.OK:return z.OK;case ot.CANCELLED:return z.CANCELLED;case ot.UNKNOWN:return z.UNKNOWN;case ot.DEADLINE_EXCEEDED:return z.DEADLINE_EXCEEDED;case ot.RESOURCE_EXHAUSTED:return z.RESOURCE_EXHAUSTED;case ot.INTERNAL:return z.INTERNAL;case ot.UNAVAILABLE:return z.UNAVAILABLE;case ot.UNAUTHENTICATED:return z.UNAUTHENTICATED;case ot.INVALID_ARGUMENT:return z.INVALID_ARGUMENT;case ot.NOT_FOUND:return z.NOT_FOUND;case ot.ALREADY_EXISTS:return z.ALREADY_EXISTS;case ot.PERMISSION_DENIED:return z.PERMISSION_DENIED;case ot.FAILED_PRECONDITION:return z.FAILED_PRECONDITION;case ot.ABORTED:return z.ABORTED;case ot.OUT_OF_RANGE:return z.OUT_OF_RANGE;case ot.UNIMPLEMENTED:return z.UNIMPLEMENTED;case ot.DATA_LOSS:return z.DATA_LOSS;default:return le(39323,{code:t})}}(Se=ot||(ot={}))[Se.OK=0]="OK",Se[Se.CANCELLED=1]="CANCELLED",Se[Se.UNKNOWN=2]="UNKNOWN",Se[Se.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Se[Se.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Se[Se.NOT_FOUND=5]="NOT_FOUND",Se[Se.ALREADY_EXISTS=6]="ALREADY_EXISTS",Se[Se.PERMISSION_DENIED=7]="PERMISSION_DENIED",Se[Se.UNAUTHENTICATED=16]="UNAUTHENTICATED",Se[Se.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Se[Se.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Se[Se.ABORTED=10]="ABORTED",Se[Se.OUT_OF_RANGE=11]="OUT_OF_RANGE",Se[Se.UNIMPLEMENTED=12]="UNIMPLEMENTED",Se[Se.INTERNAL=13]="INTERNAL",Se[Se.UNAVAILABLE=14]="UNAVAILABLE",Se[Se.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R6=new Ws([4294967295,4294967295],0);function fE(t){const e=w1().encode(t),n=new d1;return n.update(e),new Uint8Array(n.digest())}function pE(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Ws([n,r],0),new Ws([s,i],0)]}class oy{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new El(`Invalid padding: ${n}`);if(r<0)throw new El(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new El(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new El(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=Ws.fromNumber(this.pe)}we(e,n,r){let s=e.add(n.multiply(Ws.fromNumber(r)));return s.compare(R6)===1&&(s=new Ws([s.getBits(0),s.getBits(1)],0)),s.modulo(this.ye).toNumber()}Se(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=fE(e),[r,s]=pE(n);for(let i=0;i<this.hashCount;i++){const o=this.we(r,s,i);if(!this.Se(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new oy(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.pe===0)return;const n=fE(e),[r,s]=pE(n);for(let i=0;i<this.hashCount;i++){const o=this.we(r,s,i);this.be(o)}}be(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class El extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Vc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new sf(ue.min(),s,new Je(me),ns(),Te())}}class Vc{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Vc(r,n,Te(),Te(),Te())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ld{constructor(e,n,r,s){this.De=e,this.removedTargetIds=n,this.key=r,this.ve=s}}class Y1{constructor(e,n){this.targetId=e,this.Ce=n}}class X1{constructor(e,n,r=Rt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class mE{constructor(){this.Fe=0,this.Me=gE(),this.xe=Rt.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Te(),n=Te(),r=Te();return this.Me.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:le(38017,{changeType:i})}}),new Vc(this.xe,this.Oe,e,n,r)}Qe(){this.Ne=!1,this.Me=gE()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Ne(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class k6{constructor(e){this.ze=e,this.je=new Map,this.He=ns(),this.Je=ku(),this.Ye=ku(),this.Ze=new Je(me)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const r=this.rt(n);switch(e.state){case 0:this.it(n)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(n);break;case 3:this.it(n)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),r.ke(e.resumeToken));break;default:le(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((r,s)=>{this.it(s)&&n(s)})}ot(e){const n=e.targetId,r=e.Ce.count,s=this._t(n);if(s){const i=s.target;if(sg(i))if(r===0){const o=new ie(i.path);this.tt(n,o,$t.newNoDocument(o,ue.min()))}else Ne(r===1,20013,{expectedCount:r});else{const o=this.ut(n);if(o!==r){const a=this.ct(e),l=a?this.lt(a,e,o):1;if(l!==0){this.st(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,u)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=ti(r).toUint8Array()}catch(l){if(l instanceof T1)return _a("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new oy(o,s,i)}catch(l){return _a(l instanceof El?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.pe===0?null:a}lt(e,n,r){return n.Ce.count===r-this.Tt(e,n.targetId)?0:2}Tt(e,n){const r=this.ze.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.ze.Pt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.tt(n,i,null),s++)}),s}It(e){const n=new Map;this.je.forEach((i,o)=>{const a=this._t(o);if(a){if(i.current&&sg(a.target)){const l=new ie(a.target.path);this.Et(l).has(o)||this.dt(o,l)||this.tt(o,l,$t.newNoDocument(l,e))}i.Le&&(n.set(o,i.qe()),i.Qe())}});let r=Te();this.Ye.forEach((i,o)=>{let a=!0;o.forEachWhile(l=>{const u=this._t(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.He.forEach((i,o)=>o.setReadTime(e));const s=new sf(e,n,this.Ze,this.He,r);return this.He=ns(),this.Je=ku(),this.Ye=ku(),this.Ze=new Je(me),s}et(e,n){if(!this.it(e))return;const r=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,r),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,r){if(!this.it(e))return;const s=this.rt(e);this.dt(e,n)?s.$e(n,1):s.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),r&&(this.He=this.He.insert(n,r))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new mE,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new pt(me),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new pt(me),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||ee("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new mE),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function ku(){return new Je(ie.comparator)}function gE(){return new Je(ie.comparator)}const N6={asc:"ASCENDING",desc:"DESCENDING"},O6={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},D6={and:"AND",or:"OR"};class j6{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function og(t,e){return t.useProto3Json||Xh(e)?e:{value:e}}function ih(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function J1(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function M6(t,e){return ih(t,e.toTimestamp())}function xr(t){return Ne(!!t,49232),ue.fromTimestamp(function(n){const r=ei(n);return new ft(r.seconds,r.nanos)}(t))}function ay(t,e){return ag(t,e).canonicalString()}function ag(t,e){const n=function(s){return new Ke(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function Z1(t){const e=Ke.fromString(t);return Ne(sC(e),10190,{key:e.toString()}),e}function lg(t,e){return ay(t.databaseId,e.path)}function Sp(t,e){const n=Z1(e);if(n.get(1)!==t.databaseId.projectId)throw new ne(z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ne(z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ie(tC(n))}function eC(t,e){return ay(t.databaseId,e)}function L6(t){const e=Z1(t);return e.length===4?Ke.emptyPath():tC(e)}function cg(t){return new Ke(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function tC(t){return Ne(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function vE(t,e,n){return{name:lg(t,e),fields:n.value.mapValue.fields}}function V6(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:le(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(u,h){return u.useProto3Json?(Ne(h===void 0||typeof h=="string",58123),Rt.fromBase64String(h||"")):(Ne(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),Rt.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const h=u.code===void 0?z.UNKNOWN:Q1(u.code);return new ne(h,u.message||"")}(o);n=new X1(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Sp(t,r.document.name),i=xr(r.document.updateTime),o=r.document.createTime?xr(r.document.createTime):ue.min(),a=new rn({mapValue:{fields:r.document.fields}}),l=$t.newFoundDocument(s,i,o,a),u=r.targetIds||[],h=r.removedTargetIds||[];n=new ld(u,h,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Sp(t,r.document),i=r.readTime?xr(r.readTime):ue.min(),o=$t.newNoDocument(s,i),a=r.removedTargetIds||[];n=new ld([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Sp(t,r.document),i=r.removedTargetIds||[];n=new ld([],i,s,null)}else{if(!("filter"in e))return le(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new A6(s,i),a=r.targetId;n=new Y1(a,o)}}return n}function F6(t,e){let n;if(e instanceof Lc)n={update:vE(t,e.key,e.value)};else if(e instanceof sy)n={delete:lg(t,e.key)};else if(e instanceof di)n={update:vE(t,e.key,e.data),updateMask:G6(e.fieldMask)};else{if(!(e instanceof I6))return le(16599,{ft:e.type});n={verify:lg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof rh)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof yc)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof wc)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof sh)return{fieldPath:o.field.canonicalString(),increment:a.Re};throw le(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:M6(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:le(27497)}(t,e.precondition)),n}function U6(t,e){return t&&t.length>0?(Ne(e!==void 0,14353),t.map(n=>function(s,i){let o=s.updateTime?xr(s.updateTime):xr(i);return o.isEqual(ue.min())&&(o=xr(i)),new x6(o,s.transformResults||[])}(n,e))):[]}function $6(t,e){return{documents:[eC(t,e.path)]}}function B6(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=eC(t,s);const i=function(u){if(u.length!==0)return rC(br.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(u){if(u.length!==0)return u.map(h=>function(m){return{field:bo(m.field),direction:W6(m.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=og(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{gt:n,parent:s}}function z6(t){let e=L6(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Ne(r===1,65062);const h=n.from[0];h.allDescendants?s=h.collectionId:e=e.child(h.collectionId)}let i=[];n.where&&(i=function(f){const m=nC(f);return m instanceof br&&O1(m)?m.getFilters():[m]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(m=>function(S){return new nh(Co(S.field),function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(m))}(n.orderBy));let a=null;n.limit&&(a=function(f){let m;return m=typeof f=="object"?f.value:f,Xh(m)?null:m}(n.limit));let l=null;n.startAt&&(l=function(f){const m=!!f.before,g=f.values||[];return new th(g,m)}(n.startAt));let u=null;return n.endAt&&(u=function(f){const m=!f.before,g=f.values||[];return new th(g,m)}(n.endAt)),l6(e,s,o,i,a,"F",l,u)}function H6(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return le(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function nC(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Co(n.unaryFilter.field);return ct.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Co(n.unaryFilter.field);return ct.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Co(n.unaryFilter.field);return ct.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Co(n.unaryFilter.field);return ct.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return le(61313);default:return le(60726)}}(t):t.fieldFilter!==void 0?function(n){return ct.create(Co(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return le(58110);default:return le(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return br.create(n.compositeFilter.filters.map(r=>nC(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return le(1026)}}(n.compositeFilter.op))}(t):le(30097,{filter:t})}function W6(t){return N6[t]}function q6(t){return O6[t]}function K6(t){return D6[t]}function bo(t){return{fieldPath:t.canonicalString()}}function Co(t){return bt.fromServerFormat(t.fieldPath)}function rC(t){return t instanceof ct?function(n){if(n.op==="=="){if(sE(n.value))return{unaryFilter:{field:bo(n.field),op:"IS_NAN"}};if(rE(n.value))return{unaryFilter:{field:bo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(sE(n.value))return{unaryFilter:{field:bo(n.field),op:"IS_NOT_NAN"}};if(rE(n.value))return{unaryFilter:{field:bo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:bo(n.field),op:q6(n.op),value:n.value}}}(t):t instanceof br?function(n){const r=n.getFilters().map(s=>rC(s));return r.length===1?r[0]:{compositeFilter:{op:K6(n.op),filters:r}}}(t):le(54877,{filter:t})}function G6(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function sC(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds{constructor(e,n,r,s,i=ue.min(),o=ue.min(),a=Rt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Ds(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ds(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ds(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ds(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q6{constructor(e){this.wt=e}}function Y6(t){const e=z6({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?ig(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X6{constructor(){this.Cn=new J6}addToCollectionParentIndex(e,n){return this.Cn.add(n),B.resolve()}getCollectionParents(e,n){return B.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return B.resolve()}deleteFieldIndex(e,n){return B.resolve()}deleteAllFieldIndexes(e){return B.resolve()}createTargetIndexes(e,n){return B.resolve()}getDocumentsMatchingTarget(e,n){return B.resolve(null)}getIndexType(e,n){return B.resolve(0)}getFieldIndexes(e,n){return B.resolve([])}getNextCollectionGroupToUpdate(e){return B.resolve(null)}getMinOffset(e,n){return B.resolve(Zs.min())}getMinOffsetFromCollectionGroup(e,n){return B.resolve(Zs.min())}updateCollectionGroup(e,n,r){return B.resolve()}updateIndexEntries(e,n){return B.resolve()}}class J6{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new pt(Ke.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new pt(Ke.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},iC=41943040;class tn{static withCacheSize(e){return new tn(e,tn.DEFAULT_COLLECTION_PERCENTILE,tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */tn.DEFAULT_COLLECTION_PERCENTILE=10,tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,tn.DEFAULT=new tn(iC,tn.DEFAULT_COLLECTION_PERCENTILE,tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),tn.DISABLED=new tn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new Sa(0)}static lr(){return new Sa(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wE="LruGarbageCollector",Z6=1048576;function _E([t,e],[n,r]){const s=me(t,n);return s===0?me(e,r):s}class e3{constructor(e){this.Er=e,this.buffer=new pt(_E),this.dr=0}Ar(){return++this.dr}Rr(e){const n=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();_E(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class t3{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){ee(wE,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){$a(n)?ee(wE,"Ignoring IndexedDB error during garbage collection: ",n):await Ua(n)}await this.mr(3e5)})}}class n3{constructor(e,n){this.gr=e,this.params=n}calculateTargetCount(e,n){return this.gr.pr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return B.resolve(Yh.le);const r=new e3(n);return this.gr.forEachTarget(e,s=>r.Rr(s.sequenceNumber)).next(()=>this.gr.yr(e,s=>r.Rr(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.gr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.gr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ee("LruGarbageCollector","Garbage collection skipped; disabled"),B.resolve(yE)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ee("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),yE):this.wr(e,n))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,n){let r,s,i,o,a,l,u;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(ee("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),s=this.params.maximumSequenceNumbersToCollect):s=f,o=Date.now(),this.nthSequenceNumber(e,s))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,n))).next(f=>(i=f,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(u=Date.now(),So()<=xe.DEBUG&&ee("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-h}ms
	Determined least recently used ${s} in `+(a-o)+`ms
	Removed ${i} targets in `+(l-a)+`ms
	Removed ${f} documents in `+(u-l)+`ms
Total Duration: ${u-h}ms`),B.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:f})))}}function r3(t,e){return new n3(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s3{constructor(){this.changes=new oo(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,$t.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?B.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i3{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o3{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Fl(r.mutation,s,gn.empty(),ft.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Te()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Te()){const s=Pi();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=_l();return i.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Pi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Te()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=ns();const o=Vl(),a=function(){return Vl()}();return n.forEach((l,u)=>{const h=r.get(u.key);s.has(u.key)&&(h===void 0||h.mutation instanceof di)?i=i.insert(u.key,u):h!==void 0?(o.set(u.key,h.mutation.getFieldMask()),Fl(h.mutation,u,h.mutation.getFieldMask(),ft.now())):o.set(u.key,gn.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((u,h)=>o.set(u,h)),n.forEach((u,h)=>{var f;return a.set(u,new i3(h,(f=o.get(u))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Vl();let s=new Je((o,a)=>o-a),i=Te();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let h=r.get(l)||gn.empty();h=a.applyToLocalView(u,h),r.set(l,h);const f=(s.get(a.batchId)||Te()).add(l);s=s.insert(a.batchId,f)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,h=l.value,f=$1();h.forEach(m=>{if(!i.has(m)){const g=K1(n.get(m),r.get(m));g!==null&&f.set(m,g),i=i.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,f))}return B.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return ie.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):c6(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):B.resolve(Pi());let a=pc,l=i;return o.next(u=>B.forEach(u,(h,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),i.get(h)?B.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{l=l.insert(h,m)}))).next(()=>this.populateOverlays(e,u,i)).next(()=>this.computeViews(e,l,u,Te())).next(h=>({batchId:a,changes:U1(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ie(n)).next(r=>{let s=_l();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=_l();return this.indexManager.getCollectionParents(e,i).next(a=>B.forEach(a,l=>{const u=function(f,m){return new Zh(m,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,u,r,s).next(h=>{h.forEach((f,m)=>{o=o.insert(f,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((l,u)=>{const h=u.getKey();o.get(h)===null&&(o=o.insert(h,$t.newInvalidDocument(h)))});let a=_l();return o.forEach((l,u)=>{const h=i.get(l);h!==void 0&&Fl(h.mutation,u,gn.empty(),ft.now()),tf(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a3{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,n){return B.resolve(this.kr.get(n))}saveBundleMetadata(e,n){return this.kr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:xr(s.createTime)}}(n)),B.resolve()}getNamedQuery(e,n){return B.resolve(this.qr.get(n))}saveNamedQuery(e,n){return this.qr.set(n.name,function(s){return{name:s.name,query:Y6(s.bundledQuery),readTime:xr(s.readTime)}}(n)),B.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l3{constructor(){this.overlays=new Je(ie.comparator),this.Qr=new Map}getOverlay(e,n){return B.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Pi();return B.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.bt(e,n,i)}),B.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Qr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Qr.delete(r)),B.resolve()}getOverlaysForCollection(e,n,r){const s=Pi(),i=n.length+1,o=new ie(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return B.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Je((u,h)=>u-h);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let h=i.get(u.largestBatchId);h===null&&(h=Pi(),i=i.insert(u.largestBatchId,h)),h.set(u.getKey(),u)}}const a=Pi(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,h)=>a.set(u,h)),!(a.size()>=s)););return B.resolve(a)}bt(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.Qr.get(s.largestBatchId).delete(r.key);this.Qr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new C6(n,r));let i=this.Qr.get(n);i===void 0&&(i=Te(),this.Qr.set(n,i)),this.Qr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c3{constructor(){this.sessionToken=Rt.EMPTY_BYTE_STRING}getSessionToken(e){return B.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,B.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ly{constructor(){this.$r=new pt(gt.Ur),this.Kr=new pt(gt.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,n){const r=new gt(e,n);this.$r=this.$r.add(r),this.Kr=this.Kr.add(r)}Gr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.zr(new gt(e,n))}jr(e,n){e.forEach(r=>this.removeReference(r,n))}Hr(e){const n=new ie(new Ke([])),r=new gt(n,e),s=new gt(n,e+1),i=[];return this.Kr.forEachInRange([r,s],o=>{this.zr(o),i.push(o.key)}),i}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const n=new ie(new Ke([])),r=new gt(n,e),s=new gt(n,e+1);let i=Te();return this.Kr.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new gt(e,0),r=this.$r.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class gt{constructor(e,n){this.key=e,this.Zr=n}static Ur(e,n){return ie.comparator(e.key,n.key)||me(e.Zr,n.Zr)}static Wr(e,n){return me(e.Zr,n.Zr)||ie.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u3{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new pt(gt.Ur)}checkEmpty(e){return B.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new b6(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.Xr=this.Xr.add(new gt(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return B.resolve(o)}lookupMutationBatch(e,n){return B.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ti(r),i=s<0?0:s;return B.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return B.resolve(this.mutationQueue.length===0?Xv:this.nr-1)}getAllMutationBatches(e){return B.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new gt(n,0),s=new gt(n,Number.POSITIVE_INFINITY),i=[];return this.Xr.forEachInRange([r,s],o=>{const a=this.ei(o.Zr);i.push(a)}),B.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new pt(me);return n.forEach(s=>{const i=new gt(s,0),o=new gt(s,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([i,o],a=>{r=r.add(a.Zr)})}),B.resolve(this.ni(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;ie.isDocumentKey(i)||(i=i.child(""));const o=new gt(new ie(i),0);let a=new pt(me);return this.Xr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===s&&(a=a.add(l.Zr)),!0)},o),B.resolve(this.ni(a))}ni(e){const n=[];return e.forEach(r=>{const s=this.ei(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Ne(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Xr;return B.forEach(n.mutations,s=>{const i=new gt(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Xr=r})}sr(e){}containsKey(e,n){const r=new gt(n,0),s=this.Xr.firstAfterOrEqual(r);return B.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,B.resolve()}ri(e,n){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const n=this.ti(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d3{constructor(e){this.ii=e,this.docs=function(){return new Je(ie.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.ii(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return B.resolve(r?r.document.mutableCopy():$t.newInvalidDocument(n))}getEntries(e,n){let r=ns();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():$t.newInvalidDocument(s))}),B.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=ns();const o=n.path,a=new ie(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:h}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||UF(FF(h),r)<=0||(s.has(h.key)||tf(n,h))&&(i=i.insert(h.key,h.mutableCopy()))}return B.resolve(i)}getAllFromCollectionGroup(e,n,r,s){le(9500)}si(e,n){return B.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new h3(this)}getSize(e){return B.resolve(this.size)}}class h3 extends s3{constructor(e){super(),this.Br=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Br.addEntry(e,s)):this.Br.removeEntry(r)}),B.waitFor(n)}getFromCache(e,n){return this.Br.getEntry(e,n)}getAllFromCache(e,n){return this.Br.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f3{constructor(e){this.persistence=e,this.oi=new oo(n=>ey(n),ty),this.lastRemoteSnapshotVersion=ue.min(),this.highestTargetId=0,this._i=0,this.ai=new ly,this.targetCount=0,this.ui=Sa.cr()}forEachTarget(e,n){return this.oi.forEach((r,s)=>n(s)),B.resolve()}getLastRemoteSnapshotVersion(e){return B.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return B.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),B.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this._i&&(this._i=n),B.resolve()}Tr(e){this.oi.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ui=new Sa(n),this.highestTargetId=n),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,n){return this.Tr(n),this.targetCount+=1,B.resolve()}updateTargetData(e,n){return this.Tr(n),B.resolve()}removeTargetData(e,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,B.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.oi.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.oi.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),B.waitFor(i).next(()=>s)}getTargetCount(e){return B.resolve(this.targetCount)}getTargetData(e,n){const r=this.oi.get(n)||null;return B.resolve(r)}addMatchingKeys(e,n,r){return this.ai.Gr(n,r),B.resolve()}removeMatchingKeys(e,n,r){this.ai.jr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),B.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.ai.Hr(n),B.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ai.Yr(n);return B.resolve(r)}containsKey(e,n){return B.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oC{constructor(e,n){this.ci={},this.overlays={},this.li=new Yh(0),this.hi=!1,this.hi=!0,this.Pi=new c3,this.referenceDelegate=e(this),this.Ti=new f3(this),this.indexManager=new X6,this.remoteDocumentCache=function(s){return new d3(s)}(r=>this.referenceDelegate.Ii(r)),this.serializer=new Q6(n),this.Ei=new a3(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new l3,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ci[e.toKey()];return r||(r=new u3(n,this.referenceDelegate),this.ci[e.toKey()]=r),r}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,n,r){ee("MemoryPersistence","Starting transaction:",e);const s=new p3(this.li.next());return this.referenceDelegate.di(),r(s).next(i=>this.referenceDelegate.Ai(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Ri(e,n){return B.or(Object.values(this.ci).map(r=>()=>r.containsKey(e,n)))}}class p3 extends BF{constructor(e){super(),this.currentSequenceNumber=e}}class cy{constructor(e){this.persistence=e,this.Vi=new ly,this.mi=null}static fi(e){return new cy(e)}get gi(){if(this.mi)return this.mi;throw le(60996)}addReference(e,n,r){return this.Vi.addReference(r,n),this.gi.delete(r.toString()),B.resolve()}removeReference(e,n,r){return this.Vi.removeReference(r,n),this.gi.add(r.toString()),B.resolve()}markPotentiallyOrphaned(e,n){return this.gi.add(n.toString()),B.resolve()}removeTarget(e,n){this.Vi.Hr(n.targetId).forEach(s=>this.gi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.gi.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}di(){this.mi=new Set}Ai(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return B.forEach(this.gi,r=>{const s=ie.fromPath(r);return this.pi(e,s).next(i=>{i||n.removeEntry(s,ue.min())})}).next(()=>(this.mi=null,n.apply(e)))}updateLimboDocument(e,n){return this.pi(e,n).next(r=>{r?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(e){return 0}pi(e,n){return B.or([()=>B.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ri(e,n)])}}class oh{constructor(e,n){this.persistence=e,this.yi=new oo(r=>WF(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=r3(this,n)}static fi(e,n){return new oh(e,n)}di(){}Ai(e){return B.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}pr(e){const n=this.Sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}Sr(e){let n=0;return this.yr(e,r=>{n++}).next(()=>n)}yr(e,n){return B.forEach(this.yi,(r,s)=>this.Dr(e,r,s).next(i=>i?B.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.si(e,o=>this.Dr(e,o,n).next(a=>{a||(r++,i.removeEntry(o,ue.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.yi.set(n,e.currentSequenceNumber),B.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),B.resolve()}removeReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),B.resolve()}updateLimboDocument(e,n){return this.yi.set(n,e.currentSequenceNumber),B.resolve()}Ii(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=id(e.data.value)),n}Dr(e,n,r){return B.or([()=>this.persistence.Ri(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.yi.get(n);return B.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uy{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.ds=r,this.As=s}static Rs(e,n){let r=Te(),s=Te();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new uy(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m3{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g3{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return GM()?8:zF(zt())>0?6:4}()}initialize(e,n){this.ys=e,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ws(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.Ss(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new m3;return this.bs(e,n,o).next(a=>{if(i.result=a,this.fs)return this.Ds(e,n,o,a.size)})}).next(()=>i.result)}Ds(e,n,r,s){return r.documentReadCount<this.gs?(So()<=xe.DEBUG&&ee("QueryEngine","SDK will not create cache indexes for query:",Io(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),B.resolve()):(So()<=xe.DEBUG&&ee("QueryEngine","Query:",Io(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.ps*s?(So()<=xe.DEBUG&&ee("QueryEngine","The SDK decides to create cache indexes for query:",Io(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Er(n))):B.resolve())}ws(e,n){if(lE(n))return B.resolve(null);let r=Er(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=ig(n,null,"F"),r=Er(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=Te(...i);return this.ys.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.vs(n,a);return this.Cs(n,u,o,l.readTime)?this.ws(e,ig(n,null,"F")):this.Fs(e,u,n,l)}))})))}Ss(e,n,r,s){return lE(n)||s.isEqual(ue.min())?B.resolve(null):this.ys.getDocuments(e,r).next(i=>{const o=this.vs(n,i);return this.Cs(n,o,r,s)?B.resolve(null):(So()<=xe.DEBUG&&ee("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Io(n)),this.Fs(e,o,n,VF(s,pc)).next(a=>a))})}vs(e,n){let r=new pt(V1(e));return n.forEach((s,i)=>{tf(e,i)&&(r=r.add(i))}),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}bs(e,n,r){return So()<=xe.DEBUG&&ee("QueryEngine","Using full collection scan to execute query:",Io(n)),this.ys.getDocumentsMatchingQuery(e,n,Zs.min(),r)}Fs(e,n,r,s){return this.ys.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dy="LocalStore",v3=3e8;class y3{constructor(e,n,r,s){this.persistence=e,this.Ms=n,this.serializer=s,this.xs=new Je(me),this.Os=new oo(i=>ey(i),ty),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(r)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new o3(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.xs))}}function w3(t,e,n,r){return new y3(t,e,n,r)}async function aC(t,e){const n=de(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.Ls(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let l=Te();for(const u of s){o.push(u.batchId);for(const h of u.mutations)l=l.add(h.key)}for(const u of i){a.push(u.batchId);for(const h of u.mutations)l=l.add(h.key)}return n.localDocuments.getDocuments(r,l).next(u=>({ks:u,removedBatchIds:o,addedBatchIds:a}))})})}function _3(t,e){const n=de(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.Bs.newChangeBuffer({trackRemovals:!0});return function(a,l,u,h){const f=u.batch,m=f.keys();let g=B.resolve();return m.forEach(S=>{g=g.next(()=>h.getEntry(l,S)).next(y=>{const E=u.docVersions.get(S);Ne(E!==null,48541),y.version.compareTo(E)<0&&(f.applyToRemoteDocument(y,u),y.isValidDocument()&&(y.setReadTime(u.commitVersion),h.addEntry(y)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Te();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function lC(t){const e=de(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ti.getLastRemoteSnapshotVersion(n))}function E3(t,e){const n=de(t),r=e.snapshotVersion;let s=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.Bs.newChangeBuffer({trackRemovals:!0});s=n.xs;const a=[];e.targetChanges.forEach((h,f)=>{const m=s.get(f);if(!m)return;a.push(n.Ti.removeMatchingKeys(i,h.removedDocuments,f).next(()=>n.Ti.addMatchingKeys(i,h.addedDocuments,f)));let g=m.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(f)!==null?g=g.withResumeToken(Rt.EMPTY_BYTE_STRING,ue.min()).withLastLimboFreeSnapshotVersion(ue.min()):h.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(h.resumeToken,r)),s=s.insert(f,g),function(y,E,T){return y.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=v3?!0:T.addedDocuments.size+T.modifiedDocuments.size+T.removedDocuments.size>0}(m,g,h)&&a.push(n.Ti.updateTargetData(i,g))});let l=ns(),u=Te();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,h))}),a.push(x3(i,o,e.documentUpdates).next(h=>{l=h.qs,u=h.Qs})),!r.isEqual(ue.min())){const h=n.Ti.getLastRemoteSnapshotVersion(i).next(f=>n.Ti.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(h)}return B.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,l,u)).next(()=>l)}).then(i=>(n.xs=s,i))}function x3(t,e,n){let r=Te(),s=Te();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=ns();return n.forEach((a,l)=>{const u=i.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(ue.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):ee(dy,"Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{qs:o,Qs:s}})}function T3(t,e){const n=de(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Xv),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function S3(t,e){const n=de(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Ti.getTargetData(r,e).next(i=>i?(s=i,B.resolve(s)):n.Ti.allocateTargetId(r).next(o=>(s=new Ds(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ti.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.xs.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.xs=n.xs.insert(r.targetId,r),n.Os.set(e,r.targetId)),r})}async function ug(t,e,n){const r=de(t),s=r.xs.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!$a(o))throw o;ee(dy,`Failed to update sequence numbers for target ${e}: ${o}`)}r.xs=r.xs.remove(e),r.Os.delete(s.target)}function EE(t,e,n){const r=de(t);let s=ue.min(),i=Te();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,h){const f=de(l),m=f.Os.get(h);return m!==void 0?B.resolve(f.xs.get(m)):f.Ti.getTargetData(u,h)}(r,o,Er(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(o,a.targetId).next(l=>{i=l})}).next(()=>r.Ms.getDocumentsMatchingQuery(o,e,n?s:ue.min(),n?i:Te())).next(a=>(I3(r,d6(e),a),{documents:a,$s:i})))}function I3(t,e,n){let r=t.Ns.get(e)||ue.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Ns.set(e,r)}class xE{constructor(){this.activeTargetIds=v6()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class b3{constructor(){this.xo=new xE,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,n,r){this.Oo[e]=n}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new xE,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C3{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TE="ConnectivityMonitor";class SE{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){ee(TE,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){ee(TE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nu=null;function dg(){return Nu===null?Nu=function(){return 268435456+Math.round(2147483648*Math.random())}():Nu++,"0x"+Nu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ip="RestConnection",A3={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class P3{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+e.host,this.Wo=`projects/${r}/databases/${s}`,this.Go=this.databaseId.database===Zd?`project_id=${r}`:`project_id=${r}&database_id=${s}`}zo(e,n,r,s,i){const o=dg(),a=this.jo(e,n.toUriEncodedString());ee(Ip,`Sending RPC '${e}' ${o}:`,a,r);const l={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(l,s,i);const{host:u}=new URL(a),h=Rc(u);return this.Jo(e,a,l,r,h).then(f=>(ee(Ip,`Received RPC '${e}' ${o}: `,f),f),f=>{throw _a(Ip,`RPC '${e}' ${o} failed with error: `,f,"url: ",a,"request:",r),f})}Yo(e,n,r,s,i,o){return this.zo(e,n,r,s,i)}Ho(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Fa}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}jo(e,n){const r=A3[e];return`${this.Ko}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R3{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lt="WebChannelConnection";class k3 extends P3{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,i){const o=dg();return new Promise((a,l)=>{const u=new h1;u.setWithCredentials(!0),u.listenOnce(f1.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case sd.NO_ERROR:const f=u.getResponseJson();ee(Lt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),a(f);break;case sd.TIMEOUT:ee(Lt,`RPC '${e}' ${o} timed out`),l(new ne(z.DEADLINE_EXCEEDED,"Request time out"));break;case sd.HTTP_ERROR:const m=u.getStatus();if(ee(Lt,`RPC '${e}' ${o} failed with status:`,m,"response text:",u.getResponseText()),m>0){let g=u.getResponseJson();Array.isArray(g)&&(g=g[0]);const S=g==null?void 0:g.error;if(S&&S.status&&S.message){const y=function(T){const w=T.toLowerCase().replace(/_/g,"-");return Object.values(z).indexOf(w)>=0?w:z.UNKNOWN}(S.status);l(new ne(y,S.message))}else l(new ne(z.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new ne(z.UNAVAILABLE,"Connection failed."));break;default:le(9055,{l_:e,streamId:o,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{ee(Lt,`RPC '${e}' ${o} completed.`)}});const h=JSON.stringify(s);ee(Lt,`RPC '${e}' ${o} sending request:`,s),u.send(n,"POST",h,r,15)})}T_(e,n,r){const s=dg(),i=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=g1(),a=m1(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Ho(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const h=i.join("");ee(Lt,`Creating RPC '${e}' stream ${s}: ${h}`,l);const f=o.createWebChannel(h,l);let m=!1,g=!1;const S=new R3({Zo:E=>{g?ee(Lt,`Not sending because RPC '${e}' stream ${s} is closed:`,E):(m||(ee(Lt,`Opening RPC '${e}' stream ${s} transport.`),f.open(),m=!0),ee(Lt,`RPC '${e}' stream ${s} sending:`,E),f.send(E))},Xo:()=>f.close()}),y=(E,T,w)=>{E.listen(T,_=>{try{w(_)}catch(k){setTimeout(()=>{throw k},0)}})};return y(f,wl.EventType.OPEN,()=>{g||(ee(Lt,`RPC '${e}' stream ${s} transport opened.`),S.__())}),y(f,wl.EventType.CLOSE,()=>{g||(g=!0,ee(Lt,`RPC '${e}' stream ${s} transport closed`),S.u_())}),y(f,wl.EventType.ERROR,E=>{g||(g=!0,_a(Lt,`RPC '${e}' stream ${s} transport errored. Name:`,E.name,"Message:",E.message),S.u_(new ne(z.UNAVAILABLE,"The operation could not be completed")))}),y(f,wl.EventType.MESSAGE,E=>{var T;if(!g){const w=E.data[0];Ne(!!w,16349);const _=w,k=(_==null?void 0:_.error)||((T=_[0])===null||T===void 0?void 0:T.error);if(k){ee(Lt,`RPC '${e}' stream ${s} received error:`,k);const D=k.status;let M=function(A){const P=ot[A];if(P!==void 0)return Q1(P)}(D),b=k.message;M===void 0&&(M=z.INTERNAL,b="Unknown error status: "+D+" with message "+k.message),g=!0,S.u_(new ne(M,b)),f.close()}else ee(Lt,`RPC '${e}' stream ${s} received:`,w),S.c_(w)}}),y(a,p1.STAT_EVENT,E=>{E.stat===Zm.PROXY?ee(Lt,`RPC '${e}' stream ${s} detected buffering proxy`):E.stat===Zm.NOPROXY&&ee(Lt,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{S.a_()},0),S}}function bp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function of(t){return new j6(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cC{constructor(e,n,r=1e3,s=1.5,i=6e4){this.xi=e,this.timerId=n,this.I_=r,this.E_=s,this.d_=i,this.A_=0,this.R_=null,this.V_=Date.now(),this.reset()}reset(){this.A_=0}m_(){this.A_=this.d_}f_(e){this.cancel();const n=Math.floor(this.A_+this.g_()),r=Math.max(0,Date.now()-this.V_),s=Math.max(0,n-r);s>0&&ee("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.A_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.R_=this.xi.enqueueAfterDelay(this.timerId,s,()=>(this.V_=Date.now(),e())),this.A_*=this.E_,this.A_<this.I_&&(this.A_=this.I_),this.A_>this.d_&&(this.A_=this.d_)}p_(){this.R_!==null&&(this.R_.skipDelay(),this.R_=null)}cancel(){this.R_!==null&&(this.R_.cancel(),this.R_=null)}g_(){return(Math.random()-.5)*this.A_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IE="PersistentStream";class uC{constructor(e,n,r,s,i,o,a,l){this.xi=e,this.y_=r,this.w_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.S_=0,this.b_=null,this.D_=null,this.stream=null,this.v_=0,this.C_=new cC(e,n)}F_(){return this.state===1||this.state===5||this.M_()}M_(){return this.state===2||this.state===3}start(){this.v_=0,this.state!==4?this.auth():this.x_()}async stop(){this.F_()&&await this.close(0)}O_(){this.state=0,this.C_.reset()}N_(){this.M_()&&this.b_===null&&(this.b_=this.xi.enqueueAfterDelay(this.y_,6e4,()=>this.B_()))}L_(e){this.k_(),this.stream.send(e)}async B_(){if(this.M_())return this.close(0)}k_(){this.b_&&(this.b_.cancel(),this.b_=null)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}async close(e,n){this.k_(),this.q_(),this.C_.cancel(),this.S_++,e!==4?this.C_.reset():n&&n.code===z.RESOURCE_EXHAUSTED?(ts(n.toString()),ts("Using maximum backoff delay to prevent overloading the backend."),this.C_.m_()):n&&n.code===z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Q_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(n)}Q_(){}auth(){this.state=1;const e=this.U_(this.S_),n=this.S_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.S_===n&&this.K_(r,s)},r=>{e(()=>{const s=new ne(z.UNKNOWN,"Fetching auth token failed: "+r.message);return this.W_(s)})})}K_(e,n){const r=this.U_(this.S_);this.stream=this.G_(e,n),this.stream.e_(()=>{r(()=>this.listener.e_())}),this.stream.n_(()=>{r(()=>(this.state=2,this.D_=this.xi.enqueueAfterDelay(this.w_,1e4,()=>(this.M_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(s=>{r(()=>this.W_(s))}),this.stream.onMessage(s=>{r(()=>++this.v_==1?this.z_(s):this.onNext(s))})}x_(){this.state=5,this.C_.f_(async()=>{this.state=0,this.start()})}W_(e){return ee(IE,`close with error: ${e}`),this.stream=null,this.close(4,e)}U_(e){return n=>{this.xi.enqueueAndForget(()=>this.S_===e?n():(ee(IE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class N3 extends uC{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}G_(e,n){return this.connection.T_("Listen",e,n)}z_(e){return this.onNext(e)}onNext(e){this.C_.reset();const n=V6(this.serializer,e),r=function(i){if(!("targetChange"in i))return ue.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?ue.min():o.readTime?xr(o.readTime):ue.min()}(e);return this.listener.j_(n,r)}H_(e){const n={};n.database=cg(this.serializer),n.addTarget=function(i,o){let a;const l=o.target;if(a=sg(l)?{documents:$6(i,l)}:{query:B6(i,l).gt},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=J1(i,o.resumeToken);const u=og(i,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(ue.min())>0){a.readTime=ih(i,o.snapshotVersion.toTimestamp());const u=og(i,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=H6(this.serializer,e);r&&(n.labels=r),this.L_(n)}J_(e){const n={};n.database=cg(this.serializer),n.removeTarget=e,this.L_(n)}}class O3 extends uC{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get Y_(){return this.v_>0}start(){this.lastStreamToken=void 0,super.start()}Q_(){this.Y_&&this.Z_([])}G_(e,n){return this.connection.T_("Write",e,n)}z_(e){return Ne(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ne(!e.writeResults||e.writeResults.length===0,55816),this.listener.X_()}onNext(e){Ne(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.C_.reset();const n=U6(e.writeResults,e.commitTime),r=xr(e.commitTime);return this.listener.ea(r,n)}ta(){const e={};e.database=cg(this.serializer),this.L_(e)}Z_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>F6(this.serializer,r))};this.L_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D3{}class j3 extends D3{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.na=!1}ra(){if(this.na)throw new ne(z.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,n,r,s){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.zo(e,ag(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new ne(z.UNKNOWN,i.toString())})}Yo(e,n,r,s,i){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Yo(e,ag(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ne(z.UNKNOWN,o.toString())})}terminate(){this.na=!0,this.connection.terminate()}}class M3{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.ia=0,this.sa=null,this.oa=!0}_a(){this.ia===0&&(this.aa("Unknown"),this.sa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.sa=null,this.ua("Backend didn't respond within 10 seconds."),this.aa("Offline"),Promise.resolve())))}ca(e){this.state==="Online"?this.aa("Unknown"):(this.ia++,this.ia>=1&&(this.la(),this.ua(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.aa("Offline")))}set(e){this.la(),this.ia=0,e==="Online"&&(this.oa=!1),this.aa(e)}aa(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ua(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.oa?(ts(n),this.oa=!1):ee("OnlineStateTracker",n)}la(){this.sa!==null&&(this.sa.cancel(),this.sa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gi="RemoteStore";class L3{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.ha=[],this.Pa=new Map,this.Ta=new Set,this.Ia=[],this.Ea=i,this.Ea.No(o=>{r.enqueueAndForget(async()=>{ao(this)&&(ee(Gi,"Restarting streams for network reachability change."),await async function(l){const u=de(l);u.Ta.add(4),await Fc(u),u.da.set("Unknown"),u.Ta.delete(4),await af(u)}(this))})}),this.da=new M3(r,s)}}async function af(t){if(ao(t))for(const e of t.Ia)await e(!0)}async function Fc(t){for(const e of t.Ia)await e(!1)}function dC(t,e){const n=de(t);n.Pa.has(e.targetId)||(n.Pa.set(e.targetId,e),my(n)?py(n):Ba(n).M_()&&fy(n,e))}function hy(t,e){const n=de(t),r=Ba(n);n.Pa.delete(e),r.M_()&&hC(n,e),n.Pa.size===0&&(r.M_()?r.N_():ao(n)&&n.da.set("Unknown"))}function fy(t,e){if(t.Aa.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ue.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ba(t).H_(e)}function hC(t,e){t.Aa.Ke(e),Ba(t).J_(e)}function py(t){t.Aa=new k6({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>t.Pa.get(e)||null,Pt:()=>t.datastore.serializer.databaseId}),Ba(t).start(),t.da._a()}function my(t){return ao(t)&&!Ba(t).F_()&&t.Pa.size>0}function ao(t){return de(t).Ta.size===0}function fC(t){t.Aa=void 0}async function V3(t){t.da.set("Online")}async function F3(t){t.Pa.forEach((e,n)=>{fy(t,e)})}async function U3(t,e){fC(t),my(t)?(t.da.ca(e),py(t)):t.da.set("Unknown")}async function $3(t,e,n){if(t.da.set("Online"),e instanceof X1&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.Pa.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.Pa.delete(a),s.Aa.removeTarget(a))}(t,e)}catch(r){ee(Gi,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await ah(t,r)}else if(e instanceof ld?t.Aa.Xe(e):e instanceof Y1?t.Aa.ot(e):t.Aa.nt(e),!n.isEqual(ue.min()))try{const r=await lC(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.Aa.It(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const h=i.Pa.get(u);h&&i.Pa.set(u,h.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const h=i.Pa.get(l);if(!h)return;i.Pa.set(l,h.withResumeToken(Rt.EMPTY_BYTE_STRING,h.snapshotVersion)),hC(i,l);const f=new Ds(h.target,l,u,h.sequenceNumber);fy(i,f)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){ee(Gi,"Failed to raise snapshot:",r),await ah(t,r)}}async function ah(t,e,n){if(!$a(e))throw e;t.Ta.add(1),await Fc(t),t.da.set("Offline"),n||(n=()=>lC(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ee(Gi,"Retrying IndexedDB access"),await n(),t.Ta.delete(1),await af(t)})}function pC(t,e){return e().catch(n=>ah(t,n,e))}async function lf(t){const e=de(t),n=ri(e);let r=e.ha.length>0?e.ha[e.ha.length-1].batchId:Xv;for(;B3(e);)try{const s=await T3(e.localStore,r);if(s===null){e.ha.length===0&&n.N_();break}r=s.batchId,z3(e,s)}catch(s){await ah(e,s)}mC(e)&&gC(e)}function B3(t){return ao(t)&&t.ha.length<10}function z3(t,e){t.ha.push(e);const n=ri(t);n.M_()&&n.Y_&&n.Z_(e.mutations)}function mC(t){return ao(t)&&!ri(t).F_()&&t.ha.length>0}function gC(t){ri(t).start()}async function H3(t){ri(t).ta()}async function W3(t){const e=ri(t);for(const n of t.ha)e.Z_(n.mutations)}async function q3(t,e,n){const r=t.ha.shift(),s=iy.from(r,e,n);await pC(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await lf(t)}async function K3(t,e){e&&ri(t).Y_&&await async function(r,s){if(function(o){return P6(o)&&o!==z.ABORTED}(s.code)){const i=r.ha.shift();ri(r).O_(),await pC(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await lf(r)}}(t,e),mC(t)&&gC(t)}async function bE(t,e){const n=de(t);n.asyncQueue.verifyOperationInProgress(),ee(Gi,"RemoteStore received new credentials");const r=ao(n);n.Ta.add(3),await Fc(n),r&&n.da.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ta.delete(3),await af(n)}async function G3(t,e){const n=de(t);e?(n.Ta.delete(2),await af(n)):e||(n.Ta.add(2),await Fc(n),n.da.set("Unknown"))}function Ba(t){return t.Ra||(t.Ra=function(n,r,s){const i=de(n);return i.ra(),new N3(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{e_:V3.bind(null,t),n_:F3.bind(null,t),i_:U3.bind(null,t),j_:$3.bind(null,t)}),t.Ia.push(async e=>{e?(t.Ra.O_(),my(t)?py(t):t.da.set("Unknown")):(await t.Ra.stop(),fC(t))})),t.Ra}function ri(t){return t.Va||(t.Va=function(n,r,s){const i=de(n);return i.ra(),new O3(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{e_:()=>Promise.resolve(),n_:H3.bind(null,t),i_:K3.bind(null,t),X_:W3.bind(null,t),ea:q3.bind(null,t)}),t.Ia.push(async e=>{e?(t.Va.O_(),await lf(t)):(await t.Va.stop(),t.ha.length>0&&(ee(Gi,`Stopping write stream with ${t.ha.length} pending writes`),t.ha=[]))})),t.Va}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gy{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new qr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new gy(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ne(z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function vy(t,e){if(ts("AsyncQueue",`${e}: ${t}`),$a(t))return new ne(z.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{static emptySet(e){return new Jo(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ie.comparator(n.key,r.key):(n,r)=>ie.comparator(n.key,r.key),this.keyedMap=_l(),this.sortedSet=new Je(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Jo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Jo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CE{constructor(){this.ma=new Je(ie.comparator)}track(e){const n=e.doc.key,r=this.ma.get(n);r?e.type!==0&&r.type===3?this.ma=this.ma.insert(n,e):e.type===3&&r.type!==1?this.ma=this.ma.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ma=this.ma.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ma=this.ma.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ma=this.ma.remove(n):e.type===1&&r.type===2?this.ma=this.ma.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ma=this.ma.insert(n,{type:2,doc:e.doc}):le(63341,{Vt:e,fa:r}):this.ma=this.ma.insert(n,e)}ga(){const e=[];return this.ma.inorderTraversal((n,r)=>{e.push(r)}),e}}class Ia{constructor(e,n,r,s,i,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Ia(e,n,Jo.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ef(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q3{constructor(){this.pa=void 0,this.ya=[]}wa(){return this.ya.some(e=>e.Sa())}}class Y3{constructor(){this.queries=AE(),this.onlineState="Unknown",this.ba=new Set}terminate(){(function(n,r){const s=de(n),i=s.queries;s.queries=AE(),i.forEach((o,a)=>{for(const l of a.ya)l.onError(r)})})(this,new ne(z.ABORTED,"Firestore shutting down"))}}function AE(){return new oo(t=>L1(t),ef)}async function vC(t,e){const n=de(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.wa()&&e.Sa()&&(r=2):(i=new Q3,r=e.Sa()?0:1);try{switch(r){case 0:i.pa=await n.onListen(s,!0);break;case 1:i.pa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=vy(o,`Initialization of query '${Io(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.ya.push(e),e.Da(n.onlineState),i.pa&&e.va(i.pa)&&yy(n)}async function yC(t,e){const n=de(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.ya.indexOf(e);o>=0&&(i.ya.splice(o,1),i.ya.length===0?s=e.Sa()?0:1:!i.wa()&&e.Sa()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function X3(t,e){const n=de(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.ya)a.va(s)&&(r=!0);o.pa=s}}r&&yy(n)}function J3(t,e,n){const r=de(t),s=r.queries.get(e);if(s)for(const i of s.ya)i.onError(n);r.queries.delete(e)}function yy(t){t.ba.forEach(e=>{e.next()})}var hg,PE;(PE=hg||(hg={})).Ca="default",PE.Cache="cache";class wC{constructor(e,n,r){this.query=e,this.Fa=n,this.Ma=!1,this.xa=null,this.onlineState="Unknown",this.options=r||{}}va(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Ia(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Ma?this.Oa(e)&&(this.Fa.next(e),n=!0):this.Na(e,this.onlineState)&&(this.Ba(e),n=!0),this.xa=e,n}onError(e){this.Fa.error(e)}Da(e){this.onlineState=e;let n=!1;return this.xa&&!this.Ma&&this.Na(this.xa,e)&&(this.Ba(this.xa),n=!0),n}Na(e,n){if(!e.fromCache||!this.Sa())return!0;const r=n!=="Offline";return(!this.options.La||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Oa(e){if(e.docChanges.length>0)return!0;const n=this.xa&&this.xa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Ba(e){e=Ia.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Ma=!0,this.Fa.next(e)}Sa(){return this.options.source!==hg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _C{constructor(e){this.key=e}}class EC{constructor(e){this.key=e}}class Z3{constructor(e,n){this.query=e,this.Ga=n,this.za=null,this.hasCachedResults=!1,this.current=!1,this.ja=Te(),this.mutatedKeys=Te(),this.Ha=V1(e),this.Ja=new Jo(this.Ha)}get Ya(){return this.Ga}Za(e,n){const r=n?n.Xa:new CE,s=n?n.Ja:this.Ja;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,u=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((h,f)=>{const m=s.get(h),g=tf(this.query,f)?f:null,S=!!m&&this.mutatedKeys.has(m.key),y=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let E=!1;m&&g?m.data.isEqual(g.data)?S!==y&&(r.track({type:3,doc:g}),E=!0):this.eu(m,g)||(r.track({type:2,doc:g}),E=!0,(l&&this.Ha(g,l)>0||u&&this.Ha(g,u)<0)&&(a=!0)):!m&&g?(r.track({type:0,doc:g}),E=!0):m&&!g&&(r.track({type:1,doc:m}),E=!0,(l||u)&&(a=!0)),E&&(g?(o=o.add(g),i=y?i.add(h):i.delete(h)):(o=o.delete(h),i=i.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),i=i.delete(h.key),r.track({type:1,doc:h})}return{Ja:o,Xa:r,Cs:a,mutatedKeys:i}}eu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.Ja;this.Ja=e.Ja,this.mutatedKeys=e.mutatedKeys;const o=e.Xa.ga();o.sort((h,f)=>function(g,S){const y=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return le(20277,{Vt:E})}};return y(g)-y(S)}(h.type,f.type)||this.Ha(h.doc,f.doc)),this.tu(r),s=s!=null&&s;const a=n&&!s?this.nu():[],l=this.ja.size===0&&this.current&&!s?1:0,u=l!==this.za;return this.za=l,o.length!==0||u?{snapshot:new Ia(this.query,e.Ja,i,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),ru:a}:{ru:a}}Da(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ja:this.Ja,Xa:new CE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ru:[]}}iu(e){return!this.Ga.has(e)&&!!this.Ja.has(e)&&!this.Ja.get(e).hasLocalMutations}tu(e){e&&(e.addedDocuments.forEach(n=>this.Ga=this.Ga.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ga=this.Ga.delete(n)),this.current=e.current)}nu(){if(!this.current)return[];const e=this.ja;this.ja=Te(),this.Ja.forEach(r=>{this.iu(r.key)&&(this.ja=this.ja.add(r.key))});const n=[];return e.forEach(r=>{this.ja.has(r)||n.push(new EC(r))}),this.ja.forEach(r=>{e.has(r)||n.push(new _C(r))}),n}su(e){this.Ga=e.$s,this.ja=Te();const n=this.Za(e.documents);return this.applyChanges(n,!0)}ou(){return Ia.fromInitialDocuments(this.query,this.Ja,this.mutatedKeys,this.za===0,this.hasCachedResults)}}const wy="SyncEngine";class e5{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class t5{constructor(e){this.key=e,this._u=!1}}class n5{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.au={},this.uu=new oo(a=>L1(a),ef),this.cu=new Map,this.lu=new Set,this.hu=new Je(ie.comparator),this.Pu=new Map,this.Tu=new ly,this.Iu={},this.Eu=new Map,this.du=Sa.lr(),this.onlineState="Unknown",this.Au=void 0}get isPrimaryClient(){return this.Au===!0}}async function r5(t,e,n=!0){const r=CC(t);let s;const i=r.uu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.ou()):s=await xC(r,e,n,!0),s}async function s5(t,e){const n=CC(t);await xC(n,e,!0,!1)}async function xC(t,e,n,r){const s=await S3(t.localStore,Er(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await i5(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&dC(t.remoteStore,s),a}async function i5(t,e,n,r,s){t.Ru=(f,m,g)=>async function(y,E,T,w){let _=E.view.Za(T);_.Cs&&(_=await EE(y.localStore,E.query,!1).then(({documents:b})=>E.view.Za(b,_)));const k=w&&w.targetChanges.get(E.targetId),D=w&&w.targetMismatches.get(E.targetId)!=null,M=E.view.applyChanges(_,y.isPrimaryClient,k,D);return kE(y,E.targetId,M.ru),M.snapshot}(t,f,m,g);const i=await EE(t.localStore,e,!0),o=new Z3(e,i.$s),a=o.Za(i.documents),l=Vc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),u=o.applyChanges(a,t.isPrimaryClient,l);kE(t,n,u.ru);const h=new e5(e,n,o);return t.uu.set(e,h),t.cu.has(n)?t.cu.get(n).push(e):t.cu.set(n,[e]),u.snapshot}async function o5(t,e,n){const r=de(t),s=r.uu.get(e),i=r.cu.get(s.targetId);if(i.length>1)return r.cu.set(s.targetId,i.filter(o=>!ef(o,e))),void r.uu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await ug(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&hy(r.remoteStore,s.targetId),fg(r,s.targetId)}).catch(Ua)):(fg(r,s.targetId),await ug(r.localStore,s.targetId,!0))}async function a5(t,e){const n=de(t),r=n.uu.get(e),s=n.cu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),hy(n.remoteStore,r.targetId))}async function l5(t,e,n){const r=m5(t);try{const s=await function(o,a){const l=de(o),u=ft.now(),h=a.reduce((g,S)=>g.add(S.key),Te());let f,m;return l.persistence.runTransaction("Locally write mutations","readwrite",g=>{let S=ns(),y=Te();return l.Bs.getEntries(g,h).next(E=>{S=E,S.forEach((T,w)=>{w.isValidDocument()||(y=y.add(T))})}).next(()=>l.localDocuments.getOverlayedDocuments(g,S)).next(E=>{f=E;const T=[];for(const w of a){const _=S6(w,f.get(w.key).overlayedDocument);_!=null&&T.push(new di(w.key,_,R1(_.value.mapValue),Nn.exists(!0)))}return l.mutationQueue.addMutationBatch(g,u,T,a)}).next(E=>{m=E;const T=E.applyToLocalDocumentSet(f,y);return l.documentOverlayCache.saveOverlays(g,E.batchId,T)})}).then(()=>({batchId:m.batchId,changes:U1(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,l){let u=o.Iu[o.currentUser.toKey()];u||(u=new Je(me)),u=u.insert(a,l),o.Iu[o.currentUser.toKey()]=u}(r,s.batchId,n),await Uc(r,s.changes),await lf(r.remoteStore)}catch(s){const i=vy(s,"Failed to persist write");n.reject(i)}}async function TC(t,e){const n=de(t);try{const r=await E3(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Pu.get(i);o&&(Ne(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o._u=!0:s.modifiedDocuments.size>0?Ne(o._u,14607):s.removedDocuments.size>0&&(Ne(o._u,42227),o._u=!1))}),await Uc(n,r,e)}catch(r){await Ua(r)}}function RE(t,e,n){const r=de(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.uu.forEach((i,o)=>{const a=o.view.Da(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const l=de(o);l.onlineState=a;let u=!1;l.queries.forEach((h,f)=>{for(const m of f.ya)m.Da(a)&&(u=!0)}),u&&yy(l)}(r.eventManager,e),s.length&&r.au.j_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function c5(t,e,n){const r=de(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Pu.get(e),i=s&&s.key;if(i){let o=new Je(ie.comparator);o=o.insert(i,$t.newNoDocument(i,ue.min()));const a=Te().add(i),l=new sf(ue.min(),new Map,new Je(me),o,a);await TC(r,l),r.hu=r.hu.remove(i),r.Pu.delete(e),_y(r)}else await ug(r.localStore,e,!1).then(()=>fg(r,e,n)).catch(Ua)}async function u5(t,e){const n=de(t),r=e.batch.batchId;try{const s=await _3(n.localStore,e);IC(n,r,null),SC(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Uc(n,s)}catch(s){await Ua(s)}}async function d5(t,e,n){const r=de(t);try{const s=await function(o,a){const l=de(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let h;return l.mutationQueue.lookupMutationBatch(u,a).next(f=>(Ne(f!==null,37113),h=f.keys(),l.mutationQueue.removeMutationBatch(u,f))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,h,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,h)).next(()=>l.localDocuments.getDocuments(u,h))})}(r.localStore,e);IC(r,e,n),SC(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Uc(r,s)}catch(s){await Ua(s)}}function SC(t,e){(t.Eu.get(e)||[]).forEach(n=>{n.resolve()}),t.Eu.delete(e)}function IC(t,e,n){const r=de(t);let s=r.Iu[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Iu[r.currentUser.toKey()]=s}}function fg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.cu.get(e))t.uu.delete(r),n&&t.au.Vu(r,n);t.cu.delete(e),t.isPrimaryClient&&t.Tu.Hr(e).forEach(r=>{t.Tu.containsKey(r)||bC(t,r)})}function bC(t,e){t.lu.delete(e.path.canonicalString());const n=t.hu.get(e);n!==null&&(hy(t.remoteStore,n),t.hu=t.hu.remove(e),t.Pu.delete(n),_y(t))}function kE(t,e,n){for(const r of n)r instanceof _C?(t.Tu.addReference(r.key,e),h5(t,r)):r instanceof EC?(ee(wy,"Document no longer in limbo: "+r.key),t.Tu.removeReference(r.key,e),t.Tu.containsKey(r.key)||bC(t,r.key)):le(19791,{mu:r})}function h5(t,e){const n=e.key,r=n.path.canonicalString();t.hu.get(n)||t.lu.has(r)||(ee(wy,"New document in limbo: "+n),t.lu.add(r),_y(t))}function _y(t){for(;t.lu.size>0&&t.hu.size<t.maxConcurrentLimboResolutions;){const e=t.lu.values().next().value;t.lu.delete(e);const n=new ie(Ke.fromString(e)),r=t.du.next();t.Pu.set(r,new t5(n)),t.hu=t.hu.insert(n,r),dC(t.remoteStore,new Ds(Er(ny(n.path)),r,"TargetPurposeLimboResolution",Yh.le))}}async function Uc(t,e,n){const r=de(t),s=[],i=[],o=[];r.uu.isEmpty()||(r.uu.forEach((a,l)=>{o.push(r.Ru(l,e,n).then(u=>{var h;if((u||n)&&r.isPrimaryClient){const f=u?!u.fromCache:(h=n==null?void 0:n.targetChanges.get(l.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(u){s.push(u);const f=uy.Rs(l.targetId,u);i.push(f)}}))}),await Promise.all(o),r.au.j_(s),await async function(l,u){const h=de(l);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>B.forEach(u,m=>B.forEach(m.ds,g=>h.persistence.referenceDelegate.addReference(f,m.targetId,g)).next(()=>B.forEach(m.As,g=>h.persistence.referenceDelegate.removeReference(f,m.targetId,g)))))}catch(f){if(!$a(f))throw f;ee(dy,"Failed to update sequence numbers: "+f)}for(const f of u){const m=f.targetId;if(!f.fromCache){const g=h.xs.get(m),S=g.snapshotVersion,y=g.withLastLimboFreeSnapshotVersion(S);h.xs=h.xs.insert(m,y)}}}(r.localStore,i))}async function f5(t,e){const n=de(t);if(!n.currentUser.isEqual(e)){ee(wy,"User change. New user:",e.toKey());const r=await aC(n.localStore,e);n.currentUser=e,function(i,o){i.Eu.forEach(a=>{a.forEach(l=>{l.reject(new ne(z.CANCELLED,o))})}),i.Eu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Uc(n,r.ks)}}function p5(t,e){const n=de(t),r=n.Pu.get(e);if(r&&r._u)return Te().add(r.key);{let s=Te();const i=n.cu.get(e);if(!i)return s;for(const o of i){const a=n.uu.get(o);s=s.unionWith(a.view.Ya)}return s}}function CC(t){const e=de(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=TC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=p5.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=c5.bind(null,e),e.au.j_=X3.bind(null,e.eventManager),e.au.Vu=J3.bind(null,e.eventManager),e}function m5(t){const e=de(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=u5.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=d5.bind(null,e),e}class lh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=of(e.databaseInfo.databaseId),this.sharedClientState=this.pu(e),this.persistence=this.yu(e),await this.persistence.start(),this.localStore=this.wu(e),this.gcScheduler=this.Su(e,this.localStore),this.indexBackfillerScheduler=this.bu(e,this.localStore)}Su(e,n){return null}bu(e,n){return null}wu(e){return w3(this.persistence,new g3,e.initialUser,this.serializer)}yu(e){return new oC(cy.fi,this.serializer)}pu(e){return new b3}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}lh.provider={build:()=>new lh};class g5 extends lh{constructor(e){super(),this.cacheSizeBytes=e}Su(e,n){Ne(this.persistence.referenceDelegate instanceof oh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new t3(r,e.asyncQueue,n)}yu(e){const n=this.cacheSizeBytes!==void 0?tn.withCacheSize(this.cacheSizeBytes):tn.DEFAULT;return new oC(r=>oh.fi(r,n),this.serializer)}}class pg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>RE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=f5.bind(null,this.syncEngine),await G3(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Y3}()}createDatastore(e){const n=of(e.databaseInfo.databaseId),r=function(i){return new k3(i)}(e.databaseInfo);return function(i,o,a,l){return new j3(i,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new L3(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>RE(this.syncEngine,n,0),function(){return SE.C()?new SE:new C3}())}createSyncEngine(e,n){return function(s,i,o,a,l,u,h){const f=new n5(s,i,o,a,l,u);return h&&(f.Au=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=de(s);ee(Gi,"RemoteStore shutting down."),i.Ta.add(5),await Fc(i),i.Ea.shutdown(),i.da.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}pg.provider={build:()=>new pg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AC{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.vu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.vu(this.observer.error,e):ts("Uncaught Error in snapshot listener:",e.toString()))}Cu(){this.muted=!0}vu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const si="FirestoreClient";class v5{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Ft.UNAUTHENTICATED,this.clientId=_1.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{ee(si,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(ee(si,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new qr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=vy(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Cp(t,e){t.asyncQueue.verifyOperationInProgress(),ee(si,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await aC(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function NE(t,e){t.asyncQueue.verifyOperationInProgress();const n=await y5(t);ee(si,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>bE(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>bE(e.remoteStore,s)),t._onlineComponents=e}async function y5(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ee(si,"Using user provided OfflineComponentProvider");try{await Cp(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===z.FAILED_PRECONDITION||s.code===z.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;_a("Error using user provided cache. Falling back to memory cache: "+n),await Cp(t,new lh)}}else ee(si,"Using default OfflineComponentProvider"),await Cp(t,new g5(void 0));return t._offlineComponents}async function PC(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ee(si,"Using user provided OnlineComponentProvider"),await NE(t,t._uninitializedComponentsProvider._online)):(ee(si,"Using default OnlineComponentProvider"),await NE(t,new pg))),t._onlineComponents}function w5(t){return PC(t).then(e=>e.syncEngine)}async function RC(t){const e=await PC(t),n=e.eventManager;return n.onListen=r5.bind(null,e.syncEngine),n.onUnlisten=o5.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=s5.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=a5.bind(null,e.syncEngine),n}function _5(t,e,n={}){const r=new qr;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,u){const h=new AC({next:m=>{h.Cu(),o.enqueueAndForget(()=>yC(i,f));const g=m.docs.has(a);!g&&m.fromCache?u.reject(new ne(z.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&m.fromCache&&l&&l.source==="server"?u.reject(new ne(z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(m)},error:m=>u.reject(m)}),f=new wC(ny(a.path),h,{includeMetadataChanges:!0,La:!0});return vC(i,f)}(await RC(t),t.asyncQueue,e,n,r)),r.promise}function E5(t,e,n={}){const r=new qr;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,u){const h=new AC({next:m=>{h.Cu(),o.enqueueAndForget(()=>yC(i,f)),m.fromCache&&l.source==="server"?u.reject(new ne(z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(m)},error:m=>u.reject(m)}),f=new wC(a,h,{includeMetadataChanges:!0,La:!0});return vC(i,f)}(await RC(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kC(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NC(t,e,n){if(!n)throw new ne(z.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function x5(t,e,n,r){if(e===!0&&r===!0)throw new ne(z.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function DE(t){if(!ie.isDocumentKey(t))throw new ne(z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function jE(t){if(ie.isDocumentKey(t))throw new ne(z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Ey(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":le(12329,{type:typeof t})}function rr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ne(z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Ey(t);throw new ne(z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OC="firestore.googleapis.com",ME=!0;class LE{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ne(z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=OC,this.ssl=ME}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:ME;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=iC;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Z6)throw new ne(z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}x5("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=kC((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new ne(z.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new ne(z.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new ne(z.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class cf{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new LE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ne(z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ne(z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new LE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new PF;switch(r.type){case"firstParty":return new OF(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ne(z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=OE.get(n);r&&(ee("ComponentProvider","Removing Datastore"),OE.delete(n),r.terminate())}(this),Promise.resolve()}}function T5(t,e,n,r={}){var s;t=rr(t,cf);const i=Rc(e),o=t._getSettings(),a=Object.assign(Object.assign({},o),{emulatorOptions:t._getEmulatorOptions()}),l=`${e}:${n}`;i&&(_b(`https://${l}`),Eb("Firestore",!0)),o.host!==OC&&o.host!==l&&_a("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u=Object.assign(Object.assign({},o),{host:l,ssl:i,emulatorOptions:r});if(!Js(u,a)&&(t._setSettings(u),r.mockUserToken)){let h,f;if(typeof r.mockUserToken=="string")h=r.mockUserToken,f=Ft.MOCK_USER;else{h=UM(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new ne(z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Ft(m)}t._authCredentials=new RF(new y1(h,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uf{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new uf(this.firestore,e,this._query)}}class cn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new qs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new cn(this.firestore,e,this._key)}}class qs extends uf{constructor(e,n,r){super(e,n,ny(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new cn(this.firestore,null,new ie(e))}withConverter(e){return new qs(this.firestore,e,this._path)}}function wo(t,e,...n){if(t=mt(t),NC("collection","path",e),t instanceof cf){const r=Ke.fromString(e,...n);return jE(r),new qs(t,null,r)}{if(!(t instanceof cn||t instanceof qs))throw new ne(z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ke.fromString(e,...n));return jE(r),new qs(t.firestore,null,r)}}function Vr(t,e,...n){if(t=mt(t),arguments.length===1&&(e=_1.newId()),NC("doc","path",e),t instanceof cf){const r=Ke.fromString(e,...n);return DE(r),new cn(t,null,new ie(r))}{if(!(t instanceof cn||t instanceof qs))throw new ne(z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ke.fromString(e,...n));return DE(r),new cn(t.firestore,t instanceof qs?t.converter:null,new ie(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VE="AsyncQueue";class FE{constructor(e=Promise.resolve()){this.zu=[],this.ju=!1,this.Hu=[],this.Ju=null,this.Yu=!1,this.Zu=!1,this.Xu=[],this.C_=new cC(this,"async_queue_retry"),this.ec=()=>{const r=bp();r&&ee(VE,"Visibility state changed to "+r.visibilityState),this.C_.p_()},this.tc=e;const n=bp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.ec)}get isShuttingDown(){return this.ju}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.nc(),this.rc(e)}enterRestrictedMode(e){if(!this.ju){this.ju=!0,this.Zu=e||!1;const n=bp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.ec)}}enqueue(e){if(this.nc(),this.ju)return new Promise(()=>{});const n=new qr;return this.rc(()=>this.ju&&this.Zu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.zu.push(e),this.sc()))}async sc(){if(this.zu.length!==0){try{await this.zu[0](),this.zu.shift(),this.C_.reset()}catch(e){if(!$a(e))throw e;ee(VE,"Operation failed with retryable error: "+e)}this.zu.length>0&&this.C_.f_(()=>this.sc())}}rc(e){const n=this.tc.then(()=>(this.Yu=!0,e().catch(r=>{throw this.Ju=r,this.Yu=!1,ts("INTERNAL UNHANDLED ERROR: ",UE(r)),r}).then(r=>(this.Yu=!1,r))));return this.tc=n,n}enqueueAfterDelay(e,n,r){this.nc(),this.Xu.indexOf(e)>-1&&(n=0);const s=gy.createAndSchedule(this,e,n,r,i=>this.oc(i));return this.Hu.push(s),s}nc(){this.Ju&&le(47125,{_c:UE(this.Ju)})}verifyOperationInProgress(){}async ac(){let e;do e=this.tc,await e;while(e!==this.tc)}uc(e){for(const n of this.Hu)if(n.timerId===e)return!0;return!1}cc(e){return this.ac().then(()=>{this.Hu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Hu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.ac()})}lc(e){this.Xu.push(e)}oc(e){const n=this.Hu.indexOf(e);this.Hu.splice(n,1)}}function UE(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class lo extends cf{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new FE,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new FE(e),this._firestoreClient=void 0,await e}}}function S5(t,e){const n=typeof t=="object"?t:$v(),r=typeof t=="string"?t:Zd,s=so(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=VM("firestore");i&&T5(s,...i)}return s}function xy(t){if(t._terminated)throw new ne(z.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||I5(t),t._firestoreClient}function I5(t){var e,n,r;const s=t._freezeSettings(),i=function(a,l,u,h){return new GF(a,l,u,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,kC(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new v5(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ba(Rt.fromBase64String(e))}catch(n){throw new ne(z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ba(Rt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class df{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ne(z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new bt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ty{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sy{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ne(z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ne(z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return me(this._lat,e._lat)||me(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iy{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b5=/^__.*__$/;class C5{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new di(e,this.data,this.fieldMask,n,this.fieldTransforms):new Lc(e,this.data,n,this.fieldTransforms)}}class DC{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new di(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function jC(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw le(40011,{hc:t})}}class by{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Pc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get hc(){return this.settings.hc}Tc(e){return new by(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ic(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Tc({path:r,Ec:!1});return s.dc(e),s}Ac(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Tc({path:r,Ec:!1});return s.Pc(),s}Rc(e){return this.Tc({path:void 0,Ec:!0})}Vc(e){return ch(e,this.settings.methodName,this.settings.mc||!1,this.path,this.settings.fc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Pc(){if(this.path)for(let e=0;e<this.path.length;e++)this.dc(this.path.get(e))}dc(e){if(e.length===0)throw this.Vc("Document fields must not be empty");if(jC(this.hc)&&b5.test(e))throw this.Vc('Document fields cannot begin and end with "__"')}}class A5{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||of(e)}gc(e,n,r,s=!1){return new by({hc:e,methodName:n,fc:r,path:bt.emptyPath(),Ec:!1,mc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Cy(t){const e=t._freezeSettings(),n=of(t._databaseId);return new A5(t._databaseId,!!e.ignoreUndefinedProperties,n)}function MC(t,e,n,r,s,i={}){const o=t.gc(i.merge||i.mergeFields?2:0,e,n,s);Ay("Data must be an object, but it was:",o,r);const a=LC(r,o);let l,u;if(i.merge)l=new gn(o.fieldMask),u=o.fieldTransforms;else if(i.mergeFields){const h=[];for(const f of i.mergeFields){const m=mg(e,f,n);if(!o.contains(m))throw new ne(z.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);FC(h,m)||h.push(m)}l=new gn(h),u=o.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,u=o.fieldTransforms;return new C5(new rn(a),l,u)}class hf extends Ty{_toFieldTransform(e){if(e.hc!==2)throw e.hc===1?e.Vc(`${this._methodName}() can only appear at the top level of your update data`):e.Vc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof hf}}function P5(t,e,n,r){const s=t.gc(1,e,n);Ay("Data must be an object, but it was:",s,r);const i=[],o=rn.empty();ui(r,(l,u)=>{const h=Py(e,l,n);u=mt(u);const f=s.Ac(h);if(u instanceof hf)i.push(h);else{const m=ff(u,f);m!=null&&(i.push(h),o.set(h,m))}});const a=new gn(i);return new DC(o,a,s.fieldTransforms)}function R5(t,e,n,r,s,i){const o=t.gc(1,e,n),a=[mg(e,r,n)],l=[s];if(i.length%2!=0)throw new ne(z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<i.length;m+=2)a.push(mg(e,i[m])),l.push(i[m+1]);const u=[],h=rn.empty();for(let m=a.length-1;m>=0;--m)if(!FC(u,a[m])){const g=a[m];let S=l[m];S=mt(S);const y=o.Ac(g);if(S instanceof hf)u.push(g);else{const E=ff(S,y);E!=null&&(u.push(g),h.set(g,E))}}const f=new gn(u);return new DC(h,f,o.fieldTransforms)}function ff(t,e){if(VC(t=mt(t)))return Ay("Unsupported field value:",e,t),LC(t,e);if(t instanceof Ty)return function(r,s){if(!jC(s.hc))throw s.Vc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Vc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Ec&&e.hc!==4)throw e.Vc("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let l=ff(a,s.Rc(o));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=mt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return y6(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=ft.fromDate(r);return{timestampValue:ih(s.serializer,i)}}if(r instanceof ft){const i=new ft(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ih(s.serializer,i)}}if(r instanceof Sy)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ba)return{bytesValue:J1(s.serializer,r._byteString)};if(r instanceof cn){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Vc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:ay(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Iy)return function(o,a){return{mapValue:{fields:{[A1]:{stringValue:P1},[eh]:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw a.Vc("VectorValues must only contain numeric values.");return ry(a.serializer,u)})}}}}}}(r,s);throw s.Vc(`Unsupported field value: ${Ey(r)}`)}(t,e)}function LC(t,e){const n={};return x1(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ui(t,(r,s)=>{const i=ff(s,e.Ic(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function VC(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ft||t instanceof Sy||t instanceof ba||t instanceof cn||t instanceof Ty||t instanceof Iy)}function Ay(t,e,n){if(!VC(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=Ey(n);throw r==="an object"?e.Vc(t+" a custom object"):e.Vc(t+" "+r)}}function mg(t,e,n){if((e=mt(e))instanceof df)return e._internalPath;if(typeof e=="string")return Py(t,e);throw ch("Field path arguments must be of type string or ",t,!1,void 0,n)}const k5=new RegExp("[~\\*/\\[\\]]");function Py(t,e,n){if(e.search(k5)>=0)throw ch(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new df(...e.split("."))._internalPath}catch{throw ch(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function ch(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new ne(z.INVALID_ARGUMENT,a+t+l)}function FC(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UC{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new cn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new N5(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field($C("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class N5 extends UC{data(){return super.data()}}function $C(t,e){return typeof e=="string"?Py(t,e):e instanceof df?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O5(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ne(z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class D5{convertValue(e,n="none"){switch(ni(e)){case 0:return null;case 1:return e.booleanValue;case 2:return rt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ti(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw le(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ui(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var n,r,s;const i=(s=(r=(n=e.fields)===null||n===void 0?void 0:n[eh].arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(o=>rt(o.doubleValue));return new Iy(i)}convertGeoPoint(e){return new Sy(rt(e.latitude),rt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Jh(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(mc(e));default:return null}}convertTimestamp(e){const n=ei(e);return new ft(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ke.fromString(e);Ne(sC(r),9688,{name:e});const s=new gc(r.get(1),r.get(3)),i=new ie(r.popFirst(5));return s.isEqual(n)||ts(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BC(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class zC extends UC{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new cd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field($C("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class cd extends zC{data(e={}){return super.data(e)}}class j5{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new xl(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new cd(this._firestore,this._userDataWriter,r.key,r,new xl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ne(z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const l=new cd(s._firestore,s._userDataWriter,a.doc.key,a.doc,new xl(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const l=new cd(s._firestore,s._userDataWriter,a.doc.key,a.doc,new xl(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let u=-1,h=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:M5(a.type),doc:l,oldIndex:u,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function M5(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return le(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ud(t){t=rr(t,cn);const e=rr(t.firestore,lo);return _5(xy(e),t._key).then(n=>U5(e,t,n))}class HC extends D5{constructor(e){super(),this.firestore=e}convertBytes(e){return new ba(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new cn(this.firestore,null,n)}}function hl(t){t=rr(t,uf);const e=rr(t.firestore,lo),n=xy(e),r=new HC(e);return O5(t._query),E5(n,t._query).then(s=>new j5(e,r,t,s))}function L5(t,e,n){t=rr(t,cn);const r=rr(t.firestore,lo),s=BC(t.converter,e);return pf(r,[MC(Cy(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,Nn.none())])}function $E(t,e,n,...r){t=rr(t,cn);const s=rr(t.firestore,lo),i=Cy(s);let o;return o=typeof(e=mt(e))=="string"||e instanceof df?R5(i,"updateDoc",t._key,e,n,r):P5(i,"updateDoc",t._key,e),pf(s,[o.toMutation(t._key,Nn.exists(!0))])}function V5(t){return pf(rr(t.firestore,lo),[new sy(t._key,Nn.none())])}function F5(t,e){const n=rr(t.firestore,lo),r=Vr(t),s=BC(t.converter,e);return pf(n,[MC(Cy(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,Nn.exists(!1))]).then(()=>r)}function pf(t,e){return function(r,s){const i=new qr;return r.asyncQueue.enqueueAndForget(async()=>l5(await w5(r),s,i)),i.promise}(xy(t),e)}function U5(t,e,n){const r=n.docs.get(e._key),s=new HC(t);return new zC(t,s,e._key,r,new xl(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(s){Fa=s})(La),Sr(new tr("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new lo(new kF(r.getProvider("auth-internal")),new DF(o,r.getProvider("app-check-internal")),function(u,h){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new ne(z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new gc(u.options.projectId,h)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),kn(W_,q_,e),kn(W_,q_,"esm2017")})();var $5="firebase",B5="11.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */kn($5,B5,"app");const WC="@firebase/installations",Ry="0.6.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qC=1e4,KC=`w:${Ry}`,GC="FIS_v2",z5="https://firebaseinstallations.googleapis.com/v1",H5=60*60*1e3,W5="installations",q5="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K5={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Qi=new ro(W5,q5,K5);function QC(t){return t instanceof sr&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YC({projectId:t}){return`${z5}/projects/${t}/installations`}function XC(t){return{token:t.token,requestStatus:2,expiresIn:Q5(t.expiresIn),creationTime:Date.now()}}async function JC(t,e){const r=(await e.json()).error;return Qi.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function ZC({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function G5(t,{refreshToken:e}){const n=ZC(t);return n.append("Authorization",Y5(e)),n}async function eA(t){const e=await t();return e.status>=500&&e.status<600?t():e}function Q5(t){return Number(t.replace("s","000"))}function Y5(t){return`${GC} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X5({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=YC(t),s=ZC(t),i=e.getImmediate({optional:!0});if(i){const u=await i.getHeartbeatsHeader();u&&s.append("x-firebase-client",u)}const o={fid:n,authVersion:GC,appId:t.appId,sdkVersion:KC},a={method:"POST",headers:s,body:JSON.stringify(o)},l=await eA(()=>fetch(r,a));if(l.ok){const u=await l.json();return{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:XC(u.authToken)}}else throw await JC("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tA(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J5(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z5=/^[cdef][\w-]{21}$/,gg="";function eU(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=tU(t);return Z5.test(n)?n:gg}catch{return gg}}function tU(t){return J5(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mf(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nA=new Map;function rA(t,e){const n=mf(t);sA(n,e),nU(n,e)}function sA(t,e){const n=nA.get(t);if(n)for(const r of n)r(e)}function nU(t,e){const n=rU();n&&n.postMessage({key:t,fid:e}),sU()}let Ri=null;function rU(){return!Ri&&"BroadcastChannel"in self&&(Ri=new BroadcastChannel("[Firebase] FID Change"),Ri.onmessage=t=>{sA(t.data.key,t.data.fid)}),Ri}function sU(){nA.size===0&&Ri&&(Ri.close(),Ri=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iU="firebase-installations-database",oU=1,Yi="firebase-installations-store";let Ap=null;function ky(){return Ap||(Ap=Cb(iU,oU,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Yi)}}})),Ap}async function uh(t,e){const n=mf(t),s=(await ky()).transaction(Yi,"readwrite"),i=s.objectStore(Yi),o=await i.get(n);return await i.put(e,n),await s.done,(!o||o.fid!==e.fid)&&rA(t,e.fid),e}async function iA(t){const e=mf(t),r=(await ky()).transaction(Yi,"readwrite");await r.objectStore(Yi).delete(e),await r.done}async function gf(t,e){const n=mf(t),s=(await ky()).transaction(Yi,"readwrite"),i=s.objectStore(Yi),o=await i.get(n),a=e(o);return a===void 0?await i.delete(n):await i.put(a,n),await s.done,a&&(!o||o.fid!==a.fid)&&rA(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ny(t){let e;const n=await gf(t.appConfig,r=>{const s=aU(r),i=lU(t,s);return e=i.registrationPromise,i.installationEntry});return n.fid===gg?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function aU(t){const e=t||{fid:eU(),registrationStatus:0};return oA(e)}function lU(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(Qi.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=cU(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:uU(t)}:{installationEntry:e}}async function cU(t,e){try{const n=await X5(t,e);return uh(t.appConfig,n)}catch(n){throw QC(n)&&n.customData.serverCode===409?await iA(t.appConfig):await uh(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function uU(t){let e=await BE(t.appConfig);for(;e.registrationStatus===1;)await tA(100),e=await BE(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await Ny(t);return r||n}return e}function BE(t){return gf(t,e=>{if(!e)throw Qi.create("installation-not-found");return oA(e)})}function oA(t){return dU(t)?{fid:t.fid,registrationStatus:0}:t}function dU(t){return t.registrationStatus===1&&t.registrationTime+qC<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hU({appConfig:t,heartbeatServiceProvider:e},n){const r=fU(t,n),s=G5(t,n),i=e.getImmediate({optional:!0});if(i){const u=await i.getHeartbeatsHeader();u&&s.append("x-firebase-client",u)}const o={installation:{sdkVersion:KC,appId:t.appId}},a={method:"POST",headers:s,body:JSON.stringify(o)},l=await eA(()=>fetch(r,a));if(l.ok){const u=await l.json();return XC(u)}else throw await JC("Generate Auth Token",l)}function fU(t,{fid:e}){return`${YC(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oy(t,e=!1){let n;const r=await gf(t.appConfig,i=>{if(!aA(i))throw Qi.create("not-registered");const o=i.authToken;if(!e&&gU(o))return i;if(o.requestStatus===1)return n=pU(t,e),i;{if(!navigator.onLine)throw Qi.create("app-offline");const a=yU(i);return n=mU(t,a),a}});return n?await n:r.authToken}async function pU(t,e){let n=await zE(t.appConfig);for(;n.authToken.requestStatus===1;)await tA(100),n=await zE(t.appConfig);const r=n.authToken;return r.requestStatus===0?Oy(t,e):r}function zE(t){return gf(t,e=>{if(!aA(e))throw Qi.create("not-registered");const n=e.authToken;return wU(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function mU(t,e){try{const n=await hU(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await uh(t.appConfig,r),n}catch(n){if(QC(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await iA(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await uh(t.appConfig,r)}throw n}}function aA(t){return t!==void 0&&t.registrationStatus===2}function gU(t){return t.requestStatus===2&&!vU(t)}function vU(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+H5}function yU(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function wU(t){return t.requestStatus===1&&t.requestTime+qC<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _U(t){const e=t,{installationEntry:n,registrationPromise:r}=await Ny(e);return r?r.catch(console.error):Oy(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EU(t,e=!1){const n=t;return await xU(n),(await Oy(n,e)).token}async function xU(t){const{registrationPromise:e}=await Ny(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TU(t){if(!t||!t.options)throw Pp("App Configuration");if(!t.name)throw Pp("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Pp(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Pp(t){return Qi.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lA="installations",SU="installations-internal",IU=t=>{const e=t.getProvider("app").getImmediate(),n=TU(e),r=so(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},bU=t=>{const e=t.getProvider("app").getImmediate(),n=so(e,lA).getImmediate();return{getId:()=>_U(n),getToken:s=>EU(n,s)}};function CU(){Sr(new tr(lA,IU,"PUBLIC")),Sr(new tr(SU,bU,"PRIVATE"))}CU();kn(WC,Ry);kn(WC,Ry,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dh="analytics",AU="firebase_id",PU="origin",RU=60*1e3,kU="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Dy="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const un=new qh("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NU={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},wn=new ro("analytics","Analytics",NU);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OU(t){if(!t.startsWith(Dy)){const e=wn.create("invalid-gtag-resource",{gtagURL:t});return un.warn(e.message),""}return t}function cA(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function DU(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function jU(t,e){const n=DU("firebase-js-sdk-policy",{createScriptURL:OU}),r=document.createElement("script"),s=`${Dy}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(s):s,r.async=!0,document.head.appendChild(r)}function MU(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function LU(t,e,n,r,s,i){const o=r[s];try{if(o)await e[o];else{const l=(await cA(n)).find(u=>u.measurementId===s);l&&await e[l.appId]}}catch(a){un.error(a)}t("config",s,i)}async function VU(t,e,n,r,s){try{let i=[];if(s&&s.send_to){let o=s.send_to;Array.isArray(o)||(o=[o]);const a=await cA(n);for(const l of o){const u=a.find(f=>f.measurementId===l),h=u&&e[u.appId];if(h)i.push(h);else{i=[];break}}}i.length===0&&(i=Object.values(e)),await Promise.all(i),t("event",r,s||{})}catch(i){un.error(i)}}function FU(t,e,n,r){async function s(i,...o){try{if(i==="event"){const[a,l]=o;await VU(t,e,n,a,l)}else if(i==="config"){const[a,l]=o;await LU(t,e,n,r,a,l)}else if(i==="consent"){const[a,l]=o;t("consent",a,l)}else if(i==="get"){const[a,l,u]=o;t("get",a,l,u)}else if(i==="set"){const[a]=o;t("set",a)}else t(i,...o)}catch(a){un.error(a)}}return s}function UU(t,e,n,r,s){let i=function(...o){window[r].push(arguments)};return window[s]&&typeof window[s]=="function"&&(i=window[s]),window[s]=FU(i,t,e,n),{gtagCore:i,wrappedGtag:window[s]}}function $U(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(Dy)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BU=30,zU=1e3;class HU{constructor(e={},n=zU){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const uA=new HU;function WU(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function qU(t){var e;const{appId:n,apiKey:r}=t,s={method:"GET",headers:WU(r)},i=kU.replace("{app-id}",n),o=await fetch(i,s);if(o.status!==200&&o.status!==304){let a="";try{const l=await o.json();!((e=l.error)===null||e===void 0)&&e.message&&(a=l.error.message)}catch{}throw wn.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}async function KU(t,e=uA,n){const{appId:r,apiKey:s,measurementId:i}=t.options;if(!r)throw wn.create("no-app-id");if(!s){if(i)return{measurementId:i,appId:r};throw wn.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new YU;return setTimeout(async()=>{a.abort()},RU),dA({appId:r,apiKey:s,measurementId:i},o,a,e)}async function dA(t,{throttleEndTimeMillis:e,backoffCount:n},r,s=uA){var i;const{appId:o,measurementId:a}=t;try{await GU(r,e)}catch(l){if(a)return un.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:o,measurementId:a};throw l}try{const l=await qU(t);return s.deleteThrottleMetadata(o),l}catch(l){const u=l;if(!QU(u)){if(s.deleteThrottleMetadata(o),a)return un.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:o,measurementId:a};throw l}const h=Number((i=u==null?void 0:u.customData)===null||i===void 0?void 0:i.httpStatus)===503?g_(n,s.intervalMillis,BU):g_(n,s.intervalMillis),f={throttleEndTimeMillis:Date.now()+h,backoffCount:n+1};return s.setThrottleMetadata(o,f),un.debug(`Calling attemptFetch again in ${h} millis`),dA(t,f,r,s)}}function GU(t,e){return new Promise((n,r)=>{const s=Math.max(e-Date.now(),0),i=setTimeout(n,s);t.addEventListener(()=>{clearTimeout(i),r(wn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function QU(t){if(!(t instanceof sr)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class YU{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function XU(t,e,n,r,s){if(s&&s.global){t("event",n,r);return}else{const i=await e,o=Object.assign(Object.assign({},r),{send_to:i});t("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JU(){if(Tb())try{await Sb()}catch(t){return un.warn(wn.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return un.warn(wn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function ZU(t,e,n,r,s,i,o){var a;const l=KU(t);l.then(g=>{n[g.measurementId]=g.appId,t.options.measurementId&&g.measurementId!==t.options.measurementId&&un.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${g.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(g=>un.error(g)),e.push(l);const u=JU().then(g=>{if(g)return r.getId()}),[h,f]=await Promise.all([l,u]);$U(i)||jU(i,h.measurementId),s("js",new Date);const m=(a=o==null?void 0:o.config)!==null&&a!==void 0?a:{};return m[PU]="firebase",m.update=!0,f!=null&&(m[AU]=f),s("config",h.measurementId,m),h.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e9{constructor(e){this.app=e}_delete(){return delete Ul[this.app.options.appId],Promise.resolve()}}let Ul={},HE=[];const WE={};let Rp="dataLayer",t9="gtag",qE,hA,KE=!1;function n9(){const t=[];if(xb()&&t.push("This is a browser extension environment."),QM()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,s)=>`(${s+1}) ${r}`).join(" "),n=wn.create("invalid-analytics-context",{errorInfo:e});un.warn(n.message)}}function r9(t,e,n){n9();const r=t.options.appId;if(!r)throw wn.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)un.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw wn.create("no-api-key");if(Ul[r]!=null)throw wn.create("already-exists",{id:r});if(!KE){MU(Rp);const{wrappedGtag:i,gtagCore:o}=UU(Ul,HE,WE,Rp,t9);hA=i,qE=o,KE=!0}return Ul[r]=ZU(t,HE,WE,e,qE,Rp,n),new e9(t)}function s9(t=$v()){t=mt(t);const e=so(t,dh);return e.isInitialized()?e.getImmediate():i9(t)}function i9(t,e={}){const n=so(t,dh);if(n.isInitialized()){const s=n.getImmediate();if(Js(e,n.getOptions()))return s;throw wn.create("already-initialized")}return n.initialize({options:e})}function o9(t,e,n,r){t=mt(t),XU(hA,Ul[t.app.options.appId],e,n,r).catch(s=>un.error(s))}const GE="@firebase/analytics",QE="0.10.16";function a9(){Sr(new tr(dh,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();return r9(r,s,n)},"PUBLIC")),Sr(new tr("analytics-internal",t,"PRIVATE")),kn(GE,QE),kn(GE,QE,"esm2017");function t(e){try{const n=e.getProvider(dh).getImmediate();return{logEvent:(r,s,i)=>o9(n,r,s,i)}}catch(n){throw wn.create("interop-component-reg-failed",{reason:n})}}}a9();const l9={apiKey:"AIzaSyAtReLSAagsbkdDWFK7WyY1TKV6xEhE1WE",authDomain:"proyectoai-2025.firebaseapp.com",projectId:"proyectoai-2025",storageBucket:"proyectoai-2025.firebasestorage.app",messagingSenderId:"679340258197",appId:"1:679340258197:web:91847aa12a4d2a995f7c9c",measurementId:"G-FW33K54Z49"},jy=Ab(l9),Ou=rd(jy),Zt=S5(jy);s9(jy);const fA=x.createContext({}),hi=()=>x.useContext(fA),c9=({children:t})=>{const[e,n]=x.useState(null),[r,s]=x.useState(null),[i,o]=x.useState(!0),a=async(m,g)=>{await f4(Ou,m,g)},l=async(m,g,S,y)=>{const{user:E}=await h4(Ou,m,g),T={uid:E.uid,email:E.email,rol:S,empresaId:S==="cliente"?y:void 0,createdAt:new Date};await L5(Vr(Zt,"usuarios",E.uid),T)},u=async()=>{await v4(Ou)},h=async m=>{var g;console.log("Fetching user profile for:",m.uid);try{const S=Vr(Zt,"usuarios",m.uid),y=await ud(S);if(y.exists()){const E=y.data();console.log("User profile found:",E),s({uid:E.uid,email:E.email,rol:E.rol,empresaId:E.empresaId,createdAt:((g=E.createdAt)==null?void 0:g.toDate())||new Date})}else console.log("No user profile found in usuarios collection"),s(null)}catch(S){console.error("Error fetching user profile:",S),s(null)}};x.useEffect(()=>g4(Ou,g=>{console.log("Auth state changed:",g),n(g),g?h(g):s(null),o(!1)}),[]);const f={currentUser:e,userProfile:r,login:a,register:l,logout:u,loading:i};return d.jsx(fA.Provider,{value:f,children:!i&&t})},u9=Sv("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),oe=x.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const o=r?xN:"button";return d.jsx(o,{className:Oe(u9({variant:e,size:n,className:t})),ref:i,...s})});oe.displayName="Button";const yt=x.forwardRef(({className:t,type:e,...n},r)=>d.jsx("input",{type:e,className:Oe("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));yt.displayName="Input";var d9="Label",pA=x.forwardRef((t,e)=>d.jsx(ke.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));pA.displayName=d9;var mA=pA;const h9=Sv("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Is=x.forwardRef(({className:t,...e},n)=>d.jsx(mA,{ref:n,className:Oe(h9(),t),...e}));Is.displayName=mA.displayName;const ve=x.forwardRef(({className:t,...e},n)=>d.jsx("div",{ref:n,className:Oe("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));ve.displayName="Card";const dt=x.forwardRef(({className:t,...e},n)=>d.jsx("div",{ref:n,className:Oe("flex flex-col space-y-1.5 p-6",t),...e}));dt.displayName="CardHeader";const wt=x.forwardRef(({className:t,...e},n)=>d.jsx("h3",{ref:n,className:Oe("text-2xl font-semibold leading-none tracking-tight",t),...e}));wt.displayName="CardTitle";const _n=x.forwardRef(({className:t,...e},n)=>d.jsx("p",{ref:n,className:Oe("text-sm text-muted-foreground",t),...e}));_n.displayName="CardDescription";const ye=x.forwardRef(({className:t,...e},n)=>d.jsx("div",{ref:n,className:Oe("p-6 pt-0",t),...e}));ye.displayName="CardContent";const f9=x.forwardRef(({className:t,...e},n)=>d.jsx("div",{ref:n,className:Oe("flex items-center p-6 pt-0",t),...e}));f9.displayName="CardFooter";const p9=({onToggleMode:t})=>{const e=no(),[n,r]=x.useState(""),[s,i]=x.useState(""),[o,a]=x.useState(!1),{login:l}=hi(),u=async h=>{if(h.preventDefault(),!n||!s){_s.error("Por favor completa todos los campos");return}try{a(!0),await l(n,s),_s.success("¡Bienvenido!"),e("/dashboard")}catch{_s.error("Error al iniciar sesión. Verifica tus credenciales.")}finally{a(!1)}};return d.jsxs(ve,{className:"w-full max-w-md mx-auto bg-white/90 backdrop-blur-sm",children:[d.jsx(dt,{children:d.jsx(wt,{className:"text-2xl text-center gradient-text",children:"Iniciar Sesión"})}),d.jsx(ye,{children:d.jsxs("form",{onSubmit:u,className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx(Is,{htmlFor:"email",children:"Email"}),d.jsx(yt,{id:"email",type:"email",value:n,onChange:h=>r(h.target.value),placeholder:"tu@email.com"})]}),d.jsxs("div",{children:[d.jsx(Is,{htmlFor:"password",children:"Contraseña"}),d.jsx(yt,{id:"password",type:"password",value:s,onChange:h=>i(h.target.value),placeholder:"••••••••"})]}),d.jsx(oe,{type:"submit",className:"w-full btn-primary",disabled:o,children:o?"Iniciando...":"Iniciar Sesión"}),d.jsx("div",{className:"text-center",children:d.jsx(oe,{type:"button",variant:"link",onClick:t,className:"text-sm",children:"¿No tienes cuenta? Regístrate"})})]})})]})};function YE(t,[e,n]){return Math.min(n,Math.max(e,t))}var m9=x.createContext(void 0);function g9(t){const e=x.useContext(m9);return t||e||"ltr"}var kp=0;function v9(){x.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??XE()),document.body.insertAdjacentElement("beforeend",t[1]??XE()),kp++,()=>{kp===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),kp--}},[])}function XE(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Np="focusScope.autoFocusOnMount",Op="focusScope.autoFocusOnUnmount",JE={bubbles:!1,cancelable:!0},y9="FocusScope",gA=x.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[a,l]=x.useState(null),u=Jn(s),h=Jn(i),f=x.useRef(null),m=Ge(e,y=>l(y)),g=x.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;x.useEffect(()=>{if(r){let y=function(_){if(g.paused||!a)return;const k=_.target;a.contains(k)?f.current=k:ms(f.current,{select:!0})},E=function(_){if(g.paused||!a)return;const k=_.relatedTarget;k!==null&&(a.contains(k)||ms(f.current,{select:!0}))},T=function(_){if(document.activeElement===document.body)for(const D of _)D.removedNodes.length>0&&ms(a)};document.addEventListener("focusin",y),document.addEventListener("focusout",E);const w=new MutationObserver(T);return a&&w.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",E),w.disconnect()}}},[r,a,g.paused]),x.useEffect(()=>{if(a){ex.add(g);const y=document.activeElement;if(!a.contains(y)){const T=new CustomEvent(Np,JE);a.addEventListener(Np,u),a.dispatchEvent(T),T.defaultPrevented||(w9(S9(vA(a)),{select:!0}),document.activeElement===y&&ms(a))}return()=>{a.removeEventListener(Np,u),setTimeout(()=>{const T=new CustomEvent(Op,JE);a.addEventListener(Op,h),a.dispatchEvent(T),T.defaultPrevented||ms(y??document.body,{select:!0}),a.removeEventListener(Op,h),ex.remove(g)},0)}}},[a,u,h,g]);const S=x.useCallback(y=>{if(!n&&!r||g.paused)return;const E=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,T=document.activeElement;if(E&&T){const w=y.currentTarget,[_,k]=_9(w);_&&k?!y.shiftKey&&T===k?(y.preventDefault(),n&&ms(_,{select:!0})):y.shiftKey&&T===_&&(y.preventDefault(),n&&ms(k,{select:!0})):T===w&&y.preventDefault()}},[n,r,g.paused]);return d.jsx(ke.div,{tabIndex:-1,...o,ref:m,onKeyDown:S})});gA.displayName=y9;function w9(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(ms(r,{select:e}),document.activeElement!==n)return}function _9(t){const e=vA(t),n=ZE(e,t),r=ZE(e.reverse(),t);return[n,r]}function vA(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function ZE(t,e){for(const n of t)if(!E9(n,{upTo:e}))return n}function E9(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function x9(t){return t instanceof HTMLInputElement&&"select"in t}function ms(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&x9(t)&&e&&t.select()}}var ex=T9();function T9(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=tx(t,e),t.unshift(e)},remove(e){var n;t=tx(t,e),(n=t[0])==null||n.resume()}}}function tx(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function S9(t){return t.filter(e=>e.tagName!=="A")}function yA(t){const e=x.useRef({value:t,previous:t});return x.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var I9=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},_o=new WeakMap,Du=new WeakMap,ju={},Dp=0,wA=function(t){return t&&(t.host||wA(t.parentNode))},b9=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=wA(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},C9=function(t,e,n,r){var s=b9(e,Array.isArray(t)?t:[t]);ju[n]||(ju[n]=new WeakMap);var i=ju[n],o=[],a=new Set,l=new Set(s),u=function(f){!f||a.has(f)||(a.add(f),u(f.parentNode))};s.forEach(u);var h=function(f){!f||l.has(f)||Array.prototype.forEach.call(f.children,function(m){if(a.has(m))h(m);else try{var g=m.getAttribute(r),S=g!==null&&g!=="false",y=(_o.get(m)||0)+1,E=(i.get(m)||0)+1;_o.set(m,y),i.set(m,E),o.push(m),y===1&&S&&Du.set(m,!0),E===1&&m.setAttribute(n,"true"),S||m.setAttribute(r,"true")}catch(T){console.error("aria-hidden: cannot operate on ",m,T)}})};return h(e),a.clear(),Dp++,function(){o.forEach(function(f){var m=_o.get(f)-1,g=i.get(f)-1;_o.set(f,m),i.set(f,g),m||(Du.has(f)||f.removeAttribute(r),Du.delete(f)),g||f.removeAttribute(n)}),Dp--,Dp||(_o=new WeakMap,_o=new WeakMap,Du=new WeakMap,ju={})}},A9=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=I9(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),C9(r,s,n,"aria-hidden")):function(){return null}},dd="right-scroll-bar-position",hd="width-before-scroll-bar",P9="with-scroll-bars-hidden",R9="--removed-body-scroll-bar-size";function jp(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function k9(t,e){var n=x.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var N9=typeof window<"u"?x.useLayoutEffect:x.useEffect,nx=new WeakMap;function O9(t,e){var n=k9(null,function(r){return t.forEach(function(s){return jp(s,r)})});return N9(function(){var r=nx.get(n);if(r){var s=new Set(r),i=new Set(t),o=n.current;s.forEach(function(a){i.has(a)||jp(a,null)}),i.forEach(function(a){s.has(a)||jp(a,o)})}nx.set(n,t)},[t]),n}function D9(t){return t}function j9(t,e){e===void 0&&(e=D9);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=e(i,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(i),o=n}var l=function(){var h=o;o=[],h.forEach(i)},u=function(){return Promise.resolve().then(l)};u(),n={push:function(h){o.push(h),u()},filter:function(h){return o=o.filter(h),n}}}};return s}function M9(t){t===void 0&&(t={});var e=j9(null);return e.options=pr({async:!0,ssr:!1},t),e}var _A=function(t){var e=t.sideCar,n=Nc(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return x.createElement(r,pr({},n))};_A.isSideCarExport=!0;function L9(t,e){return t.useMedium(e),_A}var EA=M9(),Mp=function(){},vf=x.forwardRef(function(t,e){var n=x.useRef(null),r=x.useState({onScrollCapture:Mp,onWheelCapture:Mp,onTouchMoveCapture:Mp}),s=r[0],i=r[1],o=t.forwardProps,a=t.children,l=t.className,u=t.removeScrollBar,h=t.enabled,f=t.shards,m=t.sideCar,g=t.noRelative,S=t.noIsolation,y=t.inert,E=t.allowPinchZoom,T=t.as,w=T===void 0?"div":T,_=t.gapMode,k=Nc(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),D=m,M=O9([n,e]),b=pr(pr({},k),s);return x.createElement(x.Fragment,null,h&&x.createElement(D,{sideCar:EA,removeScrollBar:u,shards:f,noRelative:g,noIsolation:S,inert:y,setCallbacks:i,allowPinchZoom:!!E,lockRef:n,gapMode:_}),o?x.cloneElement(x.Children.only(a),pr(pr({},b),{ref:M})):x.createElement(w,pr({},b,{className:l,ref:M}),a))});vf.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};vf.classNames={fullWidth:hd,zeroRight:dd};var V9=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function F9(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=V9();return e&&t.setAttribute("nonce",e),t}function U9(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function $9(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var B9=function(){var t=0,e=null;return{add:function(n){t==0&&(e=F9())&&(U9(e,n),$9(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},z9=function(){var t=B9();return function(e,n){x.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},xA=function(){var t=z9(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},H9={left:0,top:0,right:0,gap:0},Lp=function(t){return parseInt(t||"",10)||0},W9=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[Lp(n),Lp(r),Lp(s)]},q9=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return H9;var e=W9(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},K9=xA(),Zo="data-scroll-locked",G9=function(t,e,n,r){var s=t.left,i=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(P9,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(Zo,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(dd,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(hd,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(dd," .").concat(dd,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(hd," .").concat(hd,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Zo,`] {
    `).concat(R9,": ").concat(a,`px;
  }
`)},rx=function(){var t=parseInt(document.body.getAttribute(Zo)||"0",10);return isFinite(t)?t:0},Q9=function(){x.useEffect(function(){return document.body.setAttribute(Zo,(rx()+1).toString()),function(){var t=rx()-1;t<=0?document.body.removeAttribute(Zo):document.body.setAttribute(Zo,t.toString())}},[])},Y9=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;Q9();var i=x.useMemo(function(){return q9(s)},[s]);return x.createElement(K9,{styles:G9(i,!e,s,n?"":"!important")})},vg=!1;if(typeof window<"u")try{var Mu=Object.defineProperty({},"passive",{get:function(){return vg=!0,!0}});window.addEventListener("test",Mu,Mu),window.removeEventListener("test",Mu,Mu)}catch{vg=!1}var Eo=vg?{passive:!1}:!1,X9=function(t){return t.tagName==="TEXTAREA"},TA=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!X9(t)&&n[e]==="visible")},J9=function(t){return TA(t,"overflowY")},Z9=function(t){return TA(t,"overflowX")},sx=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=SA(t,r);if(s){var i=IA(t,r),o=i[1],a=i[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},e$=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},t$=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},SA=function(t,e){return t==="v"?J9(e):Z9(e)},IA=function(t,e){return t==="v"?e$(e):t$(e)},n$=function(t,e){return t==="h"&&e==="rtl"?-1:1},r$=function(t,e,n,r,s){var i=n$(t,window.getComputedStyle(e).direction),o=i*r,a=n.target,l=e.contains(a),u=!1,h=o>0,f=0,m=0;do{if(!a)break;var g=IA(t,a),S=g[0],y=g[1],E=g[2],T=y-E-i*S;(S||T)&&SA(t,a)&&(f+=T,m+=S);var w=a.parentNode;a=w&&w.nodeType===Node.DOCUMENT_FRAGMENT_NODE?w.host:w}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(h&&Math.abs(f)<1||!h&&Math.abs(m)<1)&&(u=!0),u},Lu=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},ix=function(t){return[t.deltaX,t.deltaY]},ox=function(t){return t&&"current"in t?t.current:t},s$=function(t,e){return t[0]===e[0]&&t[1]===e[1]},i$=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},o$=0,xo=[];function a$(t){var e=x.useRef([]),n=x.useRef([0,0]),r=x.useRef(),s=x.useState(o$++)[0],i=x.useState(xA)[0],o=x.useRef(t);x.useEffect(function(){o.current=t},[t]),x.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var y=pV([t.lockRef.current],(t.shards||[]).map(ox),!0).filter(Boolean);return y.forEach(function(E){return E.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),y.forEach(function(E){return E.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var a=x.useCallback(function(y,E){if("touches"in y&&y.touches.length===2||y.type==="wheel"&&y.ctrlKey)return!o.current.allowPinchZoom;var T=Lu(y),w=n.current,_="deltaX"in y?y.deltaX:w[0]-T[0],k="deltaY"in y?y.deltaY:w[1]-T[1],D,M=y.target,b=Math.abs(_)>Math.abs(k)?"h":"v";if("touches"in y&&b==="h"&&M.type==="range")return!1;var I=sx(b,M);if(!I)return!0;if(I?D=b:(D=b==="v"?"h":"v",I=sx(b,M)),!I)return!1;if(!r.current&&"changedTouches"in y&&(_||k)&&(r.current=D),!D)return!0;var A=r.current||D;return r$(A,E,y,A==="h"?_:k)},[]),l=x.useCallback(function(y){var E=y;if(!(!xo.length||xo[xo.length-1]!==i)){var T="deltaY"in E?ix(E):Lu(E),w=e.current.filter(function(D){return D.name===E.type&&(D.target===E.target||E.target===D.shadowParent)&&s$(D.delta,T)})[0];if(w&&w.should){E.cancelable&&E.preventDefault();return}if(!w){var _=(o.current.shards||[]).map(ox).filter(Boolean).filter(function(D){return D.contains(E.target)}),k=_.length>0?a(E,_[0]):!o.current.noIsolation;k&&E.cancelable&&E.preventDefault()}}},[]),u=x.useCallback(function(y,E,T,w){var _={name:y,delta:E,target:T,should:w,shadowParent:l$(T)};e.current.push(_),setTimeout(function(){e.current=e.current.filter(function(k){return k!==_})},1)},[]),h=x.useCallback(function(y){n.current=Lu(y),r.current=void 0},[]),f=x.useCallback(function(y){u(y.type,ix(y),y.target,a(y,t.lockRef.current))},[]),m=x.useCallback(function(y){u(y.type,Lu(y),y.target,a(y,t.lockRef.current))},[]);x.useEffect(function(){return xo.push(i),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:m}),document.addEventListener("wheel",l,Eo),document.addEventListener("touchmove",l,Eo),document.addEventListener("touchstart",h,Eo),function(){xo=xo.filter(function(y){return y!==i}),document.removeEventListener("wheel",l,Eo),document.removeEventListener("touchmove",l,Eo),document.removeEventListener("touchstart",h,Eo)}},[]);var g=t.removeScrollBar,S=t.inert;return x.createElement(x.Fragment,null,S?x.createElement(i,{styles:i$(s)}):null,g?x.createElement(Y9,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function l$(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const c$=L9(EA,a$);var bA=x.forwardRef(function(t,e){return x.createElement(vf,pr({},t,{ref:e,sideCar:c$}))});bA.classNames=vf.classNames;var u$=[" ","Enter","ArrowUp","ArrowDown"],d$=[" ","Enter"],Xi="Select",[yf,wf,h$]=NS(Xi),[za,pB]=ka(Xi,[h$,Mh]),_f=Mh(),[f$,fi]=za(Xi),[p$,m$]=za(Xi),CA=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:s,onOpenChange:i,value:o,defaultValue:a,onValueChange:l,dir:u,name:h,autoComplete:f,disabled:m,required:g,form:S}=t,y=_f(e),[E,T]=x.useState(null),[w,_]=x.useState(null),[k,D]=x.useState(!1),M=g9(u),[b,I]=Vd({prop:r,defaultProp:s??!1,onChange:i,caller:Xi}),[A,P]=Vd({prop:o,defaultProp:a,onChange:l,caller:Xi}),N=x.useRef(null),O=E?S||!!E.closest("form"):!0,[R,j]=x.useState(new Set),q=Array.from(R).map(G=>G.props.value).join(";");return d.jsx(HD,{...y,children:d.jsxs(f$,{required:g,scope:e,trigger:E,onTriggerChange:T,valueNode:w,onValueNodeChange:_,valueNodeHasChildren:k,onValueNodeHasChildrenChange:D,contentId:bv(),value:A,onValueChange:P,open:b,onOpenChange:I,dir:M,triggerPointerDownPosRef:N,disabled:m,children:[d.jsx(yf.Provider,{scope:e,children:d.jsx(p$,{scope:t.__scopeSelect,onNativeOptionAdd:x.useCallback(G=>{j(X=>new Set(X).add(G))},[]),onNativeOptionRemove:x.useCallback(G=>{j(X=>{const V=new Set(X);return V.delete(G),V})},[]),children:n})}),O?d.jsxs(XA,{"aria-hidden":!0,required:g,tabIndex:-1,name:h,autoComplete:f,value:A,onChange:G=>P(G.target.value),disabled:m,form:S,children:[A===void 0?d.jsx("option",{value:""}):null,Array.from(R)]},q):null]})})};CA.displayName=Xi;var AA="SelectTrigger",PA=x.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...s}=t,i=_f(n),o=fi(AA,n),a=o.disabled||r,l=Ge(e,o.onTriggerChange),u=wf(n),h=x.useRef("touch"),[f,m,g]=ZA(y=>{const E=u().filter(_=>!_.disabled),T=E.find(_=>_.value===o.value),w=eP(E,y,T);w!==void 0&&o.onValueChange(w.value)}),S=y=>{a||(o.onOpenChange(!0),g()),y&&(o.triggerPointerDownPosRef.current={x:Math.round(y.pageX),y:Math.round(y.pageY)})};return d.jsx(FI,{asChild:!0,...i,children:d.jsx(ke.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":JA(o.value)?"":void 0,...s,ref:l,onClick:ge(s.onClick,y=>{y.currentTarget.focus(),h.current!=="mouse"&&S(y)}),onPointerDown:ge(s.onPointerDown,y=>{h.current=y.pointerType;const E=y.target;E.hasPointerCapture(y.pointerId)&&E.releasePointerCapture(y.pointerId),y.button===0&&y.ctrlKey===!1&&y.pointerType==="mouse"&&(S(y),y.preventDefault())}),onKeyDown:ge(s.onKeyDown,y=>{const E=f.current!=="";!(y.ctrlKey||y.altKey||y.metaKey)&&y.key.length===1&&m(y.key),!(E&&y.key===" ")&&u$.includes(y.key)&&(S(),y.preventDefault())})})})});PA.displayName=AA;var RA="SelectValue",kA=x.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,children:i,placeholder:o="",...a}=t,l=fi(RA,n),{onValueNodeHasChildrenChange:u}=l,h=i!==void 0,f=Ge(e,l.onValueNodeChange);return Pt(()=>{u(h)},[u,h]),d.jsx(ke.span,{...a,ref:f,style:{pointerEvents:"none"},children:JA(l.value)?d.jsx(d.Fragment,{children:o}):i})});kA.displayName=RA;var g$="SelectIcon",NA=x.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...s}=t;return d.jsx(ke.span,{"aria-hidden":!0,...s,ref:e,children:r||"▼"})});NA.displayName=g$;var v$="SelectPortal",OA=t=>d.jsx(wv,{asChild:!0,...t});OA.displayName=v$;var Ji="SelectContent",DA=x.forwardRef((t,e)=>{const n=fi(Ji,t.__scopeSelect),[r,s]=x.useState();if(Pt(()=>{s(new DocumentFragment)},[]),!n.open){const i=r;return i?to.createPortal(d.jsx(jA,{scope:t.__scopeSelect,children:d.jsx(yf.Slot,{scope:t.__scopeSelect,children:d.jsx("div",{children:t.children})})}),i):null}return d.jsx(MA,{...t,ref:e})});DA.displayName=Ji;var $n=10,[jA,pi]=za(Ji),y$="SelectContentImpl",w$=sc("SelectContent.RemoveScroll"),MA=x.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:a,sideOffset:l,align:u,alignOffset:h,arrowPadding:f,collisionBoundary:m,collisionPadding:g,sticky:S,hideWhenDetached:y,avoidCollisions:E,...T}=t,w=fi(Ji,n),[_,k]=x.useState(null),[D,M]=x.useState(null),b=Ge(e,Y=>k(Y)),[I,A]=x.useState(null),[P,N]=x.useState(null),O=wf(n),[R,j]=x.useState(!1),q=x.useRef(!1);x.useEffect(()=>{if(_)return A9(_)},[_]),v9();const G=x.useCallback(Y=>{const[Re,...He]=O().map(Ee=>Ee.ref.current),[_e]=He.slice(-1),pe=document.activeElement;for(const Ee of Y)if(Ee===pe||(Ee==null||Ee.scrollIntoView({block:"nearest"}),Ee===Re&&D&&(D.scrollTop=0),Ee===_e&&D&&(D.scrollTop=D.scrollHeight),Ee==null||Ee.focus(),document.activeElement!==pe))return},[O,D]),X=x.useCallback(()=>G([I,_]),[G,I,_]);x.useEffect(()=>{R&&X()},[R,X]);const{onOpenChange:V,triggerPointerDownPosRef:U}=w;x.useEffect(()=>{if(_){let Y={x:0,y:0};const Re=_e=>{var pe,Ee;Y={x:Math.abs(Math.round(_e.pageX)-(((pe=U.current)==null?void 0:pe.x)??0)),y:Math.abs(Math.round(_e.pageY)-(((Ee=U.current)==null?void 0:Ee.y)??0))}},He=_e=>{Y.x<=10&&Y.y<=10?_e.preventDefault():_.contains(_e.target)||V(!1),document.removeEventListener("pointermove",Re),U.current=null};return U.current!==null&&(document.addEventListener("pointermove",Re),document.addEventListener("pointerup",He,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Re),document.removeEventListener("pointerup",He,{capture:!0})}}},[_,V,U]),x.useEffect(()=>{const Y=()=>V(!1);return window.addEventListener("blur",Y),window.addEventListener("resize",Y),()=>{window.removeEventListener("blur",Y),window.removeEventListener("resize",Y)}},[V]);const[W,re]=ZA(Y=>{const Re=O().filter(pe=>!pe.disabled),He=Re.find(pe=>pe.ref.current===document.activeElement),_e=eP(Re,Y,He);_e&&setTimeout(()=>_e.ref.current.focus())}),J=x.useCallback((Y,Re,He)=>{const _e=!q.current&&!He;(w.value!==void 0&&w.value===Re||_e)&&(A(Y),_e&&(q.current=!0))},[w.value]),Z=x.useCallback(()=>_==null?void 0:_.focus(),[_]),se=x.useCallback((Y,Re,He)=>{const _e=!q.current&&!He;(w.value!==void 0&&w.value===Re||_e)&&N(Y)},[w.value]),Ie=r==="popper"?yg:LA,Me=Ie===yg?{side:a,sideOffset:l,align:u,alignOffset:h,arrowPadding:f,collisionBoundary:m,collisionPadding:g,sticky:S,hideWhenDetached:y,avoidCollisions:E}:{};return d.jsx(jA,{scope:n,content:_,viewport:D,onViewportChange:M,itemRefCallback:J,selectedItem:I,onItemLeave:Z,itemTextRefCallback:se,focusSelectedItem:X,selectedItemText:P,position:r,isPositioned:R,searchRef:W,children:d.jsx(bA,{as:w$,allowPinchZoom:!0,children:d.jsx(gA,{asChild:!0,trapped:w.open,onMountAutoFocus:Y=>{Y.preventDefault()},onUnmountAutoFocus:ge(s,Y=>{var Re;(Re=w.trigger)==null||Re.focus({preventScroll:!0}),Y.preventDefault()}),children:d.jsx(Ph,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:Y=>Y.preventDefault(),onDismiss:()=>w.onOpenChange(!1),children:d.jsx(Ie,{role:"listbox",id:w.contentId,"data-state":w.open?"open":"closed",dir:w.dir,onContextMenu:Y=>Y.preventDefault(),...T,...Me,onPlaced:()=>j(!0),ref:b,style:{display:"flex",flexDirection:"column",outline:"none",...T.style},onKeyDown:ge(T.onKeyDown,Y=>{const Re=Y.ctrlKey||Y.altKey||Y.metaKey;if(Y.key==="Tab"&&Y.preventDefault(),!Re&&Y.key.length===1&&re(Y.key),["ArrowUp","ArrowDown","Home","End"].includes(Y.key)){let _e=O().filter(pe=>!pe.disabled).map(pe=>pe.ref.current);if(["ArrowUp","End"].includes(Y.key)&&(_e=_e.slice().reverse()),["ArrowUp","ArrowDown"].includes(Y.key)){const pe=Y.target,Ee=_e.indexOf(pe);_e=_e.slice(Ee+1)}setTimeout(()=>G(_e)),Y.preventDefault()}})})})})})})});MA.displayName=y$;var _$="SelectItemAlignedPosition",LA=x.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...s}=t,i=fi(Ji,n),o=pi(Ji,n),[a,l]=x.useState(null),[u,h]=x.useState(null),f=Ge(e,b=>h(b)),m=wf(n),g=x.useRef(!1),S=x.useRef(!0),{viewport:y,selectedItem:E,selectedItemText:T,focusSelectedItem:w}=o,_=x.useCallback(()=>{if(i.trigger&&i.valueNode&&a&&u&&y&&E&&T){const b=i.trigger.getBoundingClientRect(),I=u.getBoundingClientRect(),A=i.valueNode.getBoundingClientRect(),P=T.getBoundingClientRect();if(i.dir!=="rtl"){const pe=P.left-I.left,Ee=A.left-pe,it=b.left-Ee,kt=b.width+it,jn=Math.max(kt,I.width),Mn=window.innerWidth-$n,Ar=YE(Ee,[$n,Math.max($n,Mn-jn)]);a.style.minWidth=kt+"px",a.style.left=Ar+"px"}else{const pe=I.right-P.right,Ee=window.innerWidth-A.right-pe,it=window.innerWidth-b.right-Ee,kt=b.width+it,jn=Math.max(kt,I.width),Mn=window.innerWidth-$n,Ar=YE(Ee,[$n,Math.max($n,Mn-jn)]);a.style.minWidth=kt+"px",a.style.right=Ar+"px"}const N=m(),O=window.innerHeight-$n*2,R=y.scrollHeight,j=window.getComputedStyle(u),q=parseInt(j.borderTopWidth,10),G=parseInt(j.paddingTop,10),X=parseInt(j.borderBottomWidth,10),V=parseInt(j.paddingBottom,10),U=q+G+R+V+X,W=Math.min(E.offsetHeight*5,U),re=window.getComputedStyle(y),J=parseInt(re.paddingTop,10),Z=parseInt(re.paddingBottom,10),se=b.top+b.height/2-$n,Ie=O-se,Me=E.offsetHeight/2,Y=E.offsetTop+Me,Re=q+G+Y,He=U-Re;if(Re<=se){const pe=N.length>0&&E===N[N.length-1].ref.current;a.style.bottom="0px";const Ee=u.clientHeight-y.offsetTop-y.offsetHeight,it=Math.max(Ie,Me+(pe?Z:0)+Ee+X),kt=Re+it;a.style.height=kt+"px"}else{const pe=N.length>0&&E===N[0].ref.current;a.style.top="0px";const it=Math.max(se,q+y.offsetTop+(pe?J:0)+Me)+He;a.style.height=it+"px",y.scrollTop=Re-se+y.offsetTop}a.style.margin=`${$n}px 0`,a.style.minHeight=W+"px",a.style.maxHeight=O+"px",r==null||r(),requestAnimationFrame(()=>g.current=!0)}},[m,i.trigger,i.valueNode,a,u,y,E,T,i.dir,r]);Pt(()=>_(),[_]);const[k,D]=x.useState();Pt(()=>{u&&D(window.getComputedStyle(u).zIndex)},[u]);const M=x.useCallback(b=>{b&&S.current===!0&&(_(),w==null||w(),S.current=!1)},[_,w]);return d.jsx(x$,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:g,onScrollButtonChange:M,children:d.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:k},children:d.jsx(ke.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});LA.displayName=_$;var E$="SelectPopperPosition",yg=x.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=$n,...i}=t,o=_f(n);return d.jsx(UI,{...o,...i,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});yg.displayName=E$;var[x$,My]=za(Ji,{}),wg="SelectViewport",VA=x.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...s}=t,i=pi(wg,n),o=My(wg,n),a=Ge(e,i.onViewportChange),l=x.useRef(0);return d.jsxs(d.Fragment,{children:[d.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),d.jsx(yf.Slot,{scope:n,children:d.jsx(ke.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:ge(s.onScroll,u=>{const h=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:m}=o;if(m!=null&&m.current&&f){const g=Math.abs(l.current-h.scrollTop);if(g>0){const S=window.innerHeight-$n*2,y=parseFloat(f.style.minHeight),E=parseFloat(f.style.height),T=Math.max(y,E);if(T<S){const w=T+g,_=Math.min(S,w),k=w-_;f.style.height=_+"px",f.style.bottom==="0px"&&(h.scrollTop=k>0?k:0,f.style.justifyContent="flex-end")}}}l.current=h.scrollTop})})})]})});VA.displayName=wg;var FA="SelectGroup",[T$,S$]=za(FA),I$=x.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=bv();return d.jsx(T$,{scope:n,id:s,children:d.jsx(ke.div,{role:"group","aria-labelledby":s,...r,ref:e})})});I$.displayName=FA;var UA="SelectLabel",$A=x.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=S$(UA,n);return d.jsx(ke.div,{id:s.id,...r,ref:e})});$A.displayName=UA;var hh="SelectItem",[b$,BA]=za(hh),zA=x.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:i,...o}=t,a=fi(hh,n),l=pi(hh,n),u=a.value===r,[h,f]=x.useState(i??""),[m,g]=x.useState(!1),S=Ge(e,w=>{var _;return(_=l.itemRefCallback)==null?void 0:_.call(l,w,r,s)}),y=bv(),E=x.useRef("touch"),T=()=>{s||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return d.jsx(b$,{scope:n,value:r,disabled:s,textId:y,isSelected:u,onItemTextChange:x.useCallback(w=>{f(_=>_||((w==null?void 0:w.textContent)??"").trim())},[]),children:d.jsx(yf.ItemSlot,{scope:n,value:r,disabled:s,textValue:h,children:d.jsx(ke.div,{role:"option","aria-labelledby":y,"data-highlighted":m?"":void 0,"aria-selected":u&&m,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:S,onFocus:ge(o.onFocus,()=>g(!0)),onBlur:ge(o.onBlur,()=>g(!1)),onClick:ge(o.onClick,()=>{E.current!=="mouse"&&T()}),onPointerUp:ge(o.onPointerUp,()=>{E.current==="mouse"&&T()}),onPointerDown:ge(o.onPointerDown,w=>{E.current=w.pointerType}),onPointerMove:ge(o.onPointerMove,w=>{var _;E.current=w.pointerType,s?(_=l.onItemLeave)==null||_.call(l):E.current==="mouse"&&w.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ge(o.onPointerLeave,w=>{var _;w.currentTarget===document.activeElement&&((_=l.onItemLeave)==null||_.call(l))}),onKeyDown:ge(o.onKeyDown,w=>{var k;((k=l.searchRef)==null?void 0:k.current)!==""&&w.key===" "||(d$.includes(w.key)&&T(),w.key===" "&&w.preventDefault())})})})})});zA.displayName=hh;var Tl="SelectItemText",HA=x.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,...i}=t,o=fi(Tl,n),a=pi(Tl,n),l=BA(Tl,n),u=m$(Tl,n),[h,f]=x.useState(null),m=Ge(e,T=>f(T),l.onItemTextChange,T=>{var w;return(w=a.itemTextRefCallback)==null?void 0:w.call(a,T,l.value,l.disabled)}),g=h==null?void 0:h.textContent,S=x.useMemo(()=>d.jsx("option",{value:l.value,disabled:l.disabled,children:g},l.value),[l.disabled,l.value,g]),{onNativeOptionAdd:y,onNativeOptionRemove:E}=u;return Pt(()=>(y(S),()=>E(S)),[y,E,S]),d.jsxs(d.Fragment,{children:[d.jsx(ke.span,{id:l.textId,...i,ref:m}),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?to.createPortal(i.children,o.valueNode):null]})});HA.displayName=Tl;var WA="SelectItemIndicator",qA=x.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return BA(WA,n).isSelected?d.jsx(ke.span,{"aria-hidden":!0,...r,ref:e}):null});qA.displayName=WA;var _g="SelectScrollUpButton",KA=x.forwardRef((t,e)=>{const n=pi(_g,t.__scopeSelect),r=My(_g,t.__scopeSelect),[s,i]=x.useState(!1),o=Ge(e,r.onScrollButtonChange);return Pt(()=>{if(n.viewport&&n.isPositioned){let a=function(){const u=l.scrollTop>0;i(u)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?d.jsx(QA,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});KA.displayName=_g;var Eg="SelectScrollDownButton",GA=x.forwardRef((t,e)=>{const n=pi(Eg,t.__scopeSelect),r=My(Eg,t.__scopeSelect),[s,i]=x.useState(!1),o=Ge(e,r.onScrollButtonChange);return Pt(()=>{if(n.viewport&&n.isPositioned){let a=function(){const u=l.scrollHeight-l.clientHeight,h=Math.ceil(l.scrollTop)<u;i(h)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?d.jsx(QA,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});GA.displayName=Eg;var QA=x.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=t,i=pi("SelectScrollButton",n),o=x.useRef(null),a=wf(n),l=x.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return x.useEffect(()=>()=>l(),[l]),Pt(()=>{var h;const u=a().find(f=>f.ref.current===document.activeElement);(h=u==null?void 0:u.ref.current)==null||h.scrollIntoView({block:"nearest"})},[a]),d.jsx(ke.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:ge(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:ge(s.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:ge(s.onPointerLeave,()=>{l()})})}),C$="SelectSeparator",YA=x.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return d.jsx(ke.div,{"aria-hidden":!0,...r,ref:e})});YA.displayName=C$;var xg="SelectArrow",A$=x.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=_f(n),i=fi(xg,n),o=pi(xg,n);return i.open&&o.position==="popper"?d.jsx($I,{...s,...r,ref:e}):null});A$.displayName=xg;var P$="SelectBubbleInput",XA=x.forwardRef(({__scopeSelect:t,value:e,...n},r)=>{const s=x.useRef(null),i=Ge(r,s),o=yA(e);return x.useEffect(()=>{const a=s.current;if(!a)return;const l=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==e&&h){const f=new Event("change",{bubbles:!0});h.call(a,e),a.dispatchEvent(f)}},[o,e]),d.jsx(ke.select,{...n,style:{...LS,...n.style},ref:i,defaultValue:e})});XA.displayName=P$;function JA(t){return t===""||t===void 0}function ZA(t){const e=Jn(t),n=x.useRef(""),r=x.useRef(0),s=x.useCallback(o=>{const a=n.current+o;e(a),function l(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(a)},[e]),i=x.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return x.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,i]}function eP(t,e,n){const s=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=R$(t,Math.max(i,0));s.length===1&&(o=o.filter(u=>u!==n));const l=o.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return l!==n?l:void 0}function R$(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var k$=CA,tP=PA,N$=kA,O$=NA,D$=OA,nP=DA,j$=VA,rP=$A,sP=zA,M$=HA,L$=qA,iP=KA,oP=GA,aP=YA;const V$=k$,F$=N$,lP=x.forwardRef(({className:t,children:e,...n},r)=>d.jsxs(tP,{ref:r,className:Oe("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,d.jsx(O$,{asChild:!0,children:d.jsx(oI,{className:"h-4 w-4 opacity-50"})})]}));lP.displayName=tP.displayName;const cP=x.forwardRef(({className:t,...e},n)=>d.jsx(iP,{ref:n,className:Oe("flex cursor-default items-center justify-center py-1",t),...e,children:d.jsx(g2,{className:"h-4 w-4"})}));cP.displayName=iP.displayName;const uP=x.forwardRef(({className:t,...e},n)=>d.jsx(oP,{ref:n,className:Oe("flex cursor-default items-center justify-center py-1",t),...e,children:d.jsx(oI,{className:"h-4 w-4"})}));uP.displayName=oP.displayName;const dP=x.forwardRef(({className:t,children:e,position:n="popper",...r},s)=>d.jsx(D$,{children:d.jsxs(nP,{ref:s,className:Oe("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[d.jsx(cP,{}),d.jsx(j$,{className:Oe("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),d.jsx(uP,{})]})}));dP.displayName=nP.displayName;const U$=x.forwardRef(({className:t,...e},n)=>d.jsx(rP,{ref:n,className:Oe("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));U$.displayName=rP.displayName;const Tg=x.forwardRef(({className:t,children:e,...n},r)=>d.jsxs(sP,{ref:r,className:Oe("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[d.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:d.jsx(L$,{children:d.jsx(Ac,{className:"h-4 w-4"})})}),d.jsx(M$,{children:e})]}));Tg.displayName=sP.displayName;const $$=x.forwardRef(({className:t,...e},n)=>d.jsx(aP,{ref:n,className:Oe("-mx-1 my-1 h-px bg-muted",t),...e}));$$.displayName=aP.displayName;const B$=({onToggleMode:t})=>{const e=no(),[n,r]=x.useState(""),[s,i]=x.useState(""),[o,a]=x.useState(""),[l,u]=x.useState("cliente"),[h,f]=x.useState(""),[m,g]=x.useState(!1),{register:S}=hi(),y=async E=>{if(E.preventDefault(),!n||!s||!o){_s.error("Por favor completa todos los campos");return}if(s!==o){_s.error("Las contraseñas no coinciden");return}if(l==="cliente"&&!h){_s.error("Por favor ingresa el nombre de tu empresa");return}try{g(!0),await S(n,s,l,h),_s.success("¡Cuenta creada exitosamente!"),e("/dashboard")}catch(T){console.error("Registration error:",T),_s.error("Error al crear la cuenta. Intenta de nuevo.")}finally{g(!1)}};return d.jsxs(ve,{className:"w-full max-w-md mx-auto bg-white/90 backdrop-blur-sm",children:[d.jsx(dt,{children:d.jsx(wt,{className:"text-2xl text-center gradient-text",children:"Crear Cuenta"})}),d.jsx(ye,{children:d.jsxs("form",{onSubmit:y,className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx(Is,{htmlFor:"email",children:"Email"}),d.jsx(yt,{id:"email",type:"email",value:n,onChange:E=>r(E.target.value),placeholder:"tu@email.com"})]}),d.jsxs("div",{children:[d.jsx(Is,{htmlFor:"rol",children:"Tipo de Usuario"}),d.jsxs(V$,{value:l,onValueChange:E=>u(E),children:[d.jsx(lP,{children:d.jsx(F$,{placeholder:"Selecciona tu rol"})}),d.jsxs(dP,{children:[d.jsx(Tg,{value:"cliente",children:"Cliente (Tienda)"}),d.jsx(Tg,{value:"admin",children:"Administrador"})]})]})]}),l==="cliente"&&d.jsxs("div",{children:[d.jsx(Is,{htmlFor:"empresaId",children:"Nombre de la Empresa"}),d.jsx(yt,{id:"empresaId",value:h,onChange:E=>f(E.target.value),placeholder:"empresa123"})]}),d.jsxs("div",{children:[d.jsx(Is,{htmlFor:"password",children:"Contraseña"}),d.jsx(yt,{id:"password",type:"password",value:s,onChange:E=>i(E.target.value),placeholder:"••••••••"})]}),d.jsxs("div",{children:[d.jsx(Is,{htmlFor:"confirmPassword",children:"Confirmar Contraseña"}),d.jsx(yt,{id:"confirmPassword",type:"password",value:o,onChange:E=>a(E.target.value),placeholder:"••••••••"})]}),d.jsx(oe,{type:"submit",className:"w-full btn-primary",disabled:m,children:m?"Creando...":"Crear Cuenta"}),d.jsx("div",{className:"text-center",children:d.jsx(oe,{type:"button",variant:"link",onClick:t,className:"text-sm",children:"¿Ya tienes cuenta? Inicia sesión"})})]})})]})},hP=()=>{const[t,e]=x.useState(!0);return d.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100 flex items-center justify-center p-6",children:d.jsx("div",{className:"w-full max-w-md",children:t?d.jsx(p9,{onToggleMode:()=>e(!1)}):d.jsx(B$,{onToggleMode:()=>e(!0)})})})},To=({children:t,adminOnly:e=!1})=>{const{currentUser:n,userProfile:r}=hi();return!n||!r?d.jsx(hP,{}):e&&r.rol!=="admin"?d.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100 flex items-center justify-center",children:d.jsxs("div",{className:"text-center",children:[d.jsx("h1",{className:"text-2xl font-bold text-red-600 mb-4",children:"Acceso Denegado"}),d.jsx("p",{className:"text-gray-600",children:"No tienes permisos para acceder a esta sección."})]})}):d.jsx(d.Fragment,{children:t})},z$=()=>{const t=no(),{currentUser:e,userProfile:n}=hi(),r=[{icon:Qs,title:"Bots IA Conversacionales",description:"Automatiza ventas con IA en WhatsApp e Instagram DM"},{icon:va,title:"Gestión de Clientes",description:"Administra múltiples ecommerce desde una plataforma"},{icon:ga,title:"Atención 24/7",description:"Tus bots trabajan sin descanso para maximizar ventas"}],s=[{value:"500+",label:"Pedidos Procesados"},{value:"50+",label:"Clientes Activos"},{value:"95%",label:"Satisfacción"},{value:"24/7",label:"Disponibilidad"}];return d.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100",children:[d.jsx("nav",{className:"container mx-auto px-6 py-4",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("div",{className:"text-2xl font-bold gradient-text",children:"EcommerceBot AI"}),d.jsx("div",{className:"flex gap-4",children:e?d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[d.jsx("span",{children:n==null?void 0:n.email}),d.jsx("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded capitalize",children:n==null?void 0:n.rol})]}),d.jsx(oe,{className:"btn-primary",onClick:()=>t("/dashboard"),children:"Dashboard"})]}):d.jsxs(d.Fragment,{children:[d.jsx(oe,{variant:"ghost",onClick:()=>t("/auth"),className:"hover:bg-white/20",children:"Iniciar Sesión"}),d.jsx(oe,{className:"btn-primary",onClick:()=>t("/auth"),children:"Registrarse"})]})})]})}),d.jsx("section",{className:"container mx-auto px-6 py-20 text-center",children:d.jsxs("div",{className:"max-w-4xl mx-auto animate-fade-in",children:[d.jsxs("h1",{className:"text-5xl md:text-7xl font-bold mb-6 gradient-text",children:["Automatiza tu Ecommerce",d.jsx("br",{}),"con Bots IA"]}),d.jsx("p",{className:"text-xl md:text-2xl text-gray-600 mb-8 max-w-3xl mx-auto",children:"Plataforma SaaS que permite a tus clientes vender automáticamente por WhatsApp e Instagram usando inteligencia artificial conversacional."}),d.jsx("div",{className:"flex gap-4 justify-center",children:e?d.jsx(oe,{size:"lg",className:"btn-primary text-lg px-8 py-4",onClick:()=>t("/dashboard"),children:"Ir al Dashboard"}):d.jsxs(d.Fragment,{children:[d.jsx(oe,{size:"lg",className:"btn-primary text-lg px-8 py-4",onClick:()=>t("/auth"),children:"Comenzar Gratis"}),d.jsx(oe,{size:"lg",variant:"outline",className:"text-lg px-8 py-4 border-2 hover:bg-white/20",onClick:()=>t("/auth"),children:"Iniciar Sesión"})]})})]})}),d.jsx("section",{className:"container mx-auto px-6 py-16",children:d.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6 animate-slide-in",children:s.map((i,o)=>d.jsx(ve,{className:"stat-card text-center",children:d.jsxs(ye,{className:"pt-6",children:[d.jsx("div",{className:"text-3xl font-bold gradient-text mb-2",children:i.value}),d.jsx("div",{className:"text-gray-600 font-medium",children:i.label})]})},o))})}),d.jsxs("section",{className:"container mx-auto px-6 py-16",children:[d.jsxs("div",{className:"text-center mb-16 animate-fade-in",children:[d.jsx("h2",{className:"text-4xl font-bold mb-4 gradient-text",children:"Funcionalidades Principales"}),d.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Todo lo que necesitas para gestionar una plataforma de bots de ecommerce"})]}),d.jsx("div",{className:"grid md:grid-cols-3 gap-8 animate-slide-in",children:r.map((i,o)=>d.jsxs(ve,{className:"card-hover border-0 bg-white/80 backdrop-blur-sm",children:[d.jsxs(dt,{className:"text-center",children:[d.jsx("div",{className:"mx-auto mb-4 p-3 bg-gradient-primary rounded-full w-16 h-16 flex items-center justify-center",children:d.jsx(i.icon,{className:"h-8 w-8 text-white"})}),d.jsx(wt,{className:"text-xl",children:i.title})]}),d.jsx(ye,{children:d.jsx(_n,{className:"text-center text-gray-600",children:i.description})})]},o))})]}),d.jsx("section",{className:"container mx-auto px-6 py-20",children:d.jsx(ve,{className:"glassmorphism border-white/30 max-w-4xl mx-auto animate-fade-in",children:d.jsxs(ye,{className:"p-12 text-center",children:[d.jsx("h2",{className:"text-3xl font-bold mb-4 gradient-text",children:"¿Listo para empezar?"}),d.jsx("p",{className:"text-lg text-gray-600 mb-8 max-w-2xl mx-auto",children:"Explora el dashboard completo y descubre cómo tu plataforma SaaS puede transformar las ventas por mensajería de tus clientes."}),d.jsxs("div",{className:"flex gap-4 justify-center",children:[d.jsx(oe,{size:"lg",className:"btn-primary",onClick:()=>t("/dashboard"),children:"Explorar Dashboard"}),d.jsx(oe,{size:"lg",variant:"outline",className:"border-2",onClick:()=>t("/admin"),children:"Panel Administrativo"})]})]})})}),d.jsx("footer",{className:"container mx-auto px-6 py-8 border-t border-white/20",children:d.jsx("div",{className:"text-center text-gray-600",children:d.jsx("p",{children:"© 2024 EcommerceBot AI. Plataforma SaaS para automatización de ventas."})})})]})},H$=({className:t})=>{const e=no(),n=Hh(),[r,s]=x.useState(!1),{userProfile:i,logout:o}=hi(),a=[{path:"/dashboard",label:"Dashboard",icon:ga},{path:"/clients",label:"Clientes",icon:va},{path:"/products",label:"Productos",icon:Ac},{path:"/orders",label:"Pedidos",icon:Nh},{path:"/bot-config",label:"Config. Bot",icon:Qs},{path:"/analytics",label:"Analytics",icon:m2}];return(i==null?void 0:i.rol)==="admin"&&a.push({path:"/companies",label:"Empresas",icon:p2},{path:"/admins",label:"Administradores",icon:_2}),d.jsxs("div",{className:Oe("bg-white/90 backdrop-blur-sm border-r border-white/20 transition-all duration-300",r?"w-16":"w-64",t),children:[d.jsx("div",{className:"p-6",children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"w-8 h-8 bg-gradient-primary rounded-lg flex items-center justify-center",children:d.jsx(Qs,{className:"h-5 w-5 text-white"})}),!r&&d.jsx("span",{className:"font-bold text-lg gradient-text",children:"EcommerceBot"})]})}),d.jsx("nav",{className:"px-3",children:a.map(l=>{const u=n.pathname===l.path;return d.jsxs(oe,{variant:u?"default":"ghost",className:Oe("w-full justify-start mb-2",u&&"bg-gradient-primary text-white",r&&"px-2"),onClick:()=>e(l.path),children:[d.jsx(l.icon,{className:"h-5 w-5"}),!r&&d.jsx("span",{className:"ml-3",children:l.label})]},l.path)})}),d.jsx("div",{className:"absolute bottom-6 left-3 right-3",children:d.jsx(oe,{variant:"ghost",size:"sm",onClick:()=>s(!r),className:"w-full",children:r?"→":"←"})})]})},Ca=({children:t,title:e,subtitle:n})=>{const r=no(),{userProfile:s,logout:i}=hi(),o=async()=>{try{await i(),r("/")}catch(a){console.error("Error al cerrar sesión:",a)}};return d.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100",children:d.jsxs("div",{className:"flex",children:[d.jsx(H$,{className:"fixed left-0 top-0 h-screen z-10"}),d.jsxs("div",{className:"flex-1 ml-64",children:[d.jsx("header",{className:"bg-white/80 backdrop-blur-sm border-b border-white/20 px-6 py-4",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-2xl font-bold gradient-text",children:e}),n&&d.jsx("p",{className:"text-gray-600 mt-1",children:n})]}),d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsxs("div",{className:"text-right",children:[d.jsx("p",{className:"text-sm font-medium",children:s==null?void 0:s.email}),d.jsxs("p",{className:"text-xs text-gray-500 capitalize",children:[s==null?void 0:s.rol," ",(s==null?void 0:s.empresaId)&&`- ${s.empresaId}`]})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx(oe,{variant:"outline",onClick:()=>r("/"),className:"border-2",children:"Inicio"}),(s==null?void 0:s.rol)==="admin"&&d.jsx(oe,{className:"btn-primary",onClick:()=>r("/admin"),children:"Admin Panel"}),d.jsx(oe,{variant:"outline",onClick:o,className:"border-2",children:d.jsx(v2,{className:"h-4 w-4"})})]})]})]})}),d.jsx("main",{className:"p-6",children:t})]})]})})},W$=()=>{const t=no(),{userProfile:e,logout:n}=hi(),r=[{title:"Pedidos Hoy",value:"23",change:"+12%",icon:ga,gradient:"bg-gradient-to-r from-blue-500 to-cyan-500"},{title:"Clientes Activos",value:"156",change:"+5%",icon:va,gradient:"bg-gradient-to-r from-purple-500 to-pink-500"},{title:"Conversaciones Bot",value:"342",change:"+18%",icon:Qs,gradient:"bg-gradient-to-r from-green-500 to-emerald-500"},{title:"Conversión",value:"8.5%",change:"+2.1%",icon:Nh,gradient:"bg-gradient-to-r from-orange-500 to-red-500"}],s=[{id:"#1234",customer:"Ana García",product:"Zapatillas Nike",amount:"$120.00",status:"Pendiente"},{id:"#1235",customer:"Carlos Ruiz",product:"Camiseta Adidas",amount:"$45.00",status:"Procesando"},{id:"#1236",customer:"María López",product:"Mochila Escolar",amount:"$35.00",status:"Enviado"},{id:"#1237",customer:"Pedro Sánchez",product:"Reloj Casio",amount:"$89.00",status:"Entregado"}],i=o=>{switch(o){case"Pendiente":return"bg-yellow-100 text-yellow-800";case"Procesando":return"bg-blue-100 text-blue-800";case"Enviado":return"bg-purple-100 text-purple-800";case"Entregado":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}};return d.jsx(Ca,{title:"Dashboard Principal",subtitle:"Vista general de tu ecommerce con bots IA",children:d.jsxs("div",{className:"space-y-6 animate-fade-in",children:[d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:r.map((o,a)=>d.jsx(ve,{className:"stat-card",children:d.jsx(ye,{className:"p-6",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:o.title}),d.jsx("p",{className:"text-3xl font-bold gradient-text",children:o.value}),d.jsxs("p",{className:"text-sm text-green-600 font-medium",children:[o.change," vs ayer"]})]}),d.jsx("div",{className:`p-3 rounded-full ${o.gradient}`,children:d.jsx(o.icon,{className:"h-6 w-6 text-white"})})]})})},a))}),d.jsxs(ve,{className:"card-hover bg-white/80 backdrop-blur-sm",children:[d.jsxs(dt,{children:[d.jsx(wt,{children:"Acciones Rápidas"}),d.jsx(_n,{children:"Gestiona tu ecommerce con un click"})]}),d.jsx(ye,{children:d.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[d.jsxs(oe,{className:"btn-primary h-16 flex flex-col gap-2",onClick:()=>t("/products"),children:[d.jsx(Ac,{className:"h-5 w-5"}),"Nuevo Producto"]}),(e==null?void 0:e.rol)==="admin"&&d.jsx(oe,{variant:"outline",className:"h-16 flex flex-col gap-2 border-2",onClick:()=>t("/companies"),children:"Empresas"}),d.jsxs(oe,{variant:"outline",className:"h-16 flex flex-col gap-2 border-2",onClick:()=>t("/orders"),children:[d.jsx(ga,{className:"h-5 w-5"}),"Ver Pedidos"]}),d.jsxs(oe,{variant:"outline",className:"h-16 flex flex-col gap-2 border-2",onClick:()=>t("/bot-config"),children:[d.jsx(Qs,{className:"h-5 w-5"}),"Config. Bot"]}),d.jsxs(oe,{variant:"outline",className:"h-16 flex flex-col gap-2 border-2",onClick:()=>t("/analytics"),children:[d.jsx(va,{className:"h-5 w-5"}),"Analytics"]})]})})]}),d.jsxs(ve,{className:"card-hover bg-white/80 backdrop-blur-sm",children:[d.jsxs(dt,{children:[d.jsx(wt,{children:"Pedidos Recientes"}),d.jsx(_n,{children:"Últimos pedidos procesados por tus bots IA"})]}),d.jsx(ye,{children:d.jsx("div",{className:"space-y-4",children:s.map((o,a)=>d.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/60 rounded-lg border border-white/30 hover:bg-white/80 transition-colors",children:[d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("div",{className:"w-10 h-10 bg-gradient-primary rounded-full flex items-center justify-center",children:d.jsx("span",{className:"text-white font-bold text-sm",children:o.customer.charAt(0)})}),d.jsxs("div",{children:[d.jsx("p",{className:"font-medium",children:o.customer}),d.jsx("p",{className:"text-sm text-gray-600",children:o.product})]})]}),d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("span",{className:"font-bold",children:o.amount}),d.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${i(o.status)}`,children:o.status})]})]},a))})})]})]})})};function xi({className:t,...e}){return d.jsx("div",{className:Oe("animate-pulse rounded-md bg-muted",t),...e})}const Jt={ACTIVO:"Activo",SIN_STOCK:"Sin Stock",PAUSADO:"Pausado"},q$=()=>{const{userProfile:t}=hi(),[e,n]=x.useState(null),[r,s]=x.useState([]),[i,o]=x.useState([]),[a,l]=x.useState(""),[u,h]=x.useState(""),[f,m]=x.useState(!0),[g,S]=x.useState(!1),[y,E]=x.useState(!1),[T,w]=x.useState("todos"),[_,k]=x.useState({nombre:"",descripcion:"",precio:0,stock:0,status:Jt.ACTIVO,imagen:"",empresa:""}),D=j=>{k(j),E(!0),S(!0)},M=()=>{k({nombre:"",descripcion:"",precio:0,stock:0,status:Jt.ACTIVO,imagen:"",empresa:""}),E(!1),S(!0)},b=async()=>{if(!_.empresa||!_.id){alert("Faltan datos para actualizar el producto");return}try{const j=Vr(Zt,`empresas/${_.empresa}/productos/${_.id}`);await $E(j,{nombre:_.nombre,descripcion:_.descripcion,precio:_.precio,stock:_.stock,status:_.status,imagen:_.imagen}),S(!1),k({nombre:"",descripcion:"",precio:0,stock:0,status:Jt.ACTIVO,imagen:"",empresa:""}),E(!1),m(!0);const G=rd().currentUser;G&&await R(G)}catch(j){console.error("Error al actualizar producto:",j)}};x.useEffect(()=>{const j=async X=>{try{const V=Vr(Zt,"usuarios",X.uid),U=await ud(V);if(!U.exists())throw new Error("Usuario no encontrado");const W=U.data();W&&(n(W),W.rol!=="admin"&&k(Z=>({...Z,empresa:W.empresa||""})));let re=[];W.rol==="admin"&&(re=(await hl(wo(Zt,"empresas"))).docs.map(se=>({id:se.id,nombre:se.data().nombre})),o(re));let J=[];if(W.rol==="admin")for(const Z of re){const Ie=(await hl(wo(Zt,`empresas/${Z.id}/productos`))).docs.map(Me=>({id:Me.id,empresa:Z.id,...Me.data()}));J.push(...Ie)}else J=(await hl(wo(Zt,`empresas/${W.empresa}/productos`))).docs.map(se=>({id:se.id,empresa:W.empresa,...se.data()})),o([{id:W.empresa,nombre:"Mi Empresa"}]);s(J)}catch(V){console.error("Error al obtener productos de Firebase:",V)}finally{m(!1)}},G=rd().currentUser;G&&j(G)},[]);const I=r.filter(j=>{var V,U;const q=((V=j.nombre)==null?void 0:V.toLowerCase().includes(a.toLowerCase()))||((U=j.descripcion)==null?void 0:U.toLowerCase().includes(a.toLowerCase())),G=u===""||j.empresa===u,X=T==="todos"||T==="activo"&&j.status===Jt.ACTIVO||T==="sinStock"&&j.stock===0;return q&&G&&X}),A=j=>{switch(j){case Jt.ACTIVO:return"bg-green-100 text-green-800";case Jt.SIN_STOCK:return"bg-red-100 text-red-800";case Jt.PAUSADO:return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},P=async()=>{let j="";if(!_.empresa&&e.rol==="admin"){alert("Selecciona una empresa para el producto");return}e.rol,j=e.empresa;try{const q=wo(Zt,`empresas/${j}/productos`);await F5(q,{nombre:_.nombre,descripcion:_.descripcion,precio:_.precio,stock:_.stock,status:_.status,imagen:_.imagen}),S(!1),k({nombre:"",descripcion:"",precio:0,stock:0,status:Jt.ACTIVO,imagen:"",empresa:""}),m(!0);const X=rd().currentUser;if(X){const V=await ud(Vr(Zt,"usuarios",X.uid));V.exists()&&V.data()&&await R(X)}}catch(q){console.error("Error al agregar producto:",q)}},N=async j=>{if(!j.id||!j.empresa){console.error("Faltan datos del producto para actualizar el estado");return}const q=j.status===Jt.ACTIVO?Jt.PAUSADO:Jt.ACTIVO;try{const G=Vr(Zt,`empresas/${j.empresa}/productos/${j.id}`);await $E(G,{status:q}),s(X=>X.map(V=>V.id===j.id?{...V,status:q}:V))}catch(G){console.error("Error al cambiar el estado del producto:",G)}},O=async(j,q)=>{try{const G=Vr(Zt,"empresas",j,"productos",q);await V5(G),console.log("Producto eliminado con éxito."),s(X=>X.filter(V=>V.id!==q))}catch(G){console.error("Error al eliminar el producto:",G)}},R=async j=>{const q=Vr(Zt,"usuarios",j.uid),X=(await ud(q)).data(),V=X.rol==="admin"?(await hl(wo(Zt,"empresas"))).docs.map(W=>({id:W.id,nombre:W.data().nombre})):[{id:X.empresa,nombre:"Mi Empresa"}];o(V);let U=[];for(const W of V){const J=(await hl(wo(Zt,`empresas/${W.id}/productos`))).docs.map(Z=>({id:Z.id,empresa:W.id,...Z.data()}));U.push(...J)}s(U),m(!1)};return f?d.jsxs(Ca,{title:"Gestión de Productos",subtitle:"Administra tu catálogo de productos para los bots IA",children:[d.jsx("div",{className:"px-6 pb-0",children:d.jsx("h2",{className:"text-lg font-semibold text-gray-700 mb-4",children:"Cargando productos..."})}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 p-6 pt-0",children:Array.from({length:3}).map((j,q)=>d.jsxs(ve,{className:"bg-white/80 backdrop-blur-sm",children:[d.jsx("div",{className:"h-48 bg-gray-100 flex items-center justify-center",children:d.jsx(xi,{className:"h-24 w-24 rounded-md"})}),d.jsxs(dt,{children:[d.jsx(xi,{className:"h-4 w-3/4 mb-2"}),d.jsx(xi,{className:"h-3 w-1/2"})]}),d.jsxs(ye,{children:[d.jsx(xi,{className:"h-4 w-full mb-2"}),d.jsx(xi,{className:"h-4 w-1/2 mb-2"}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx(xi,{className:"h-8 w-full"}),d.jsx(xi,{className:"h-8 w-full"})]})]})]},q))})]}):d.jsx(Ca,{title:"Gestión de Productos",subtitle:"Administra tu catálogo de productos para los bots IA",children:d.jsxs("div",{className:"space-y-6 animate-fade-in",children:[d.jsx(ve,{className:"bg-white/80 backdrop-blur-sm",children:d.jsxs(ye,{className:"p-6",children:[d.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-center justify-between",children:[d.jsx(yt,{placeholder:"Buscar productos...",value:a,onChange:j=>l(j.target.value),className:"max-w-md"}),(t==null?void 0:t.rol)==="admin"&&d.jsxs("select",{value:u,onChange:j=>h(j.target.value),className:"border border-gray-300 rounded-md px-3 py-2 max-w-xs",children:[d.jsx("option",{value:"",children:"Todas las empresas"}),i.map(j=>d.jsx("option",{value:j.id,children:j.nombre},j.id))]}),d.jsxs(oe,{onClick:M,className:"btn-primary",children:[d.jsx(y2,{className:"h-4 w-4 mr-2"}),"Agregar Producto"]})]}),d.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:[I.length," resultados encontrados"]})]})}),g&&d.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:d.jsxs("div",{className:"bg-white p-6 rounded-md w-full max-w-lg space-y-4 relative",children:[d.jsx("button",{className:"absolute top-2 right-2",onClick:()=>S(!1),children:d.jsx(aI,{})}),d.jsx("h2",{className:"text-xl font-semibold",children:y?"Editar Producto":"Nuevo Producto"}),d.jsx(yt,{placeholder:"Nombre del producto",value:_.nombre,onChange:j=>k({..._,nombre:j.target.value})}),d.jsx(yt,{placeholder:"Descripción",value:_.descripcion,onChange:j=>k({..._,descripcion:j.target.value})}),d.jsx(yt,{placeholder:"Precio",type:"text",value:_.precio===0?"":_.precio.toString(),onChange:j=>{const q=j.target.value;/^\d*\.?\d*$/.test(q)&&k({..._,precio:q===""?0:Number(q)})}}),d.jsx(yt,{placeholder:"Stock",type:"text",value:_.stock===0?"":_.stock.toString(),onChange:j=>{const q=j.target.value;/^\d*$/.test(q)&&k({..._,stock:q===""?0:Number(q)})}}),d.jsx(yt,{placeholder:"URL de la imagen",value:_.imagen,onChange:j=>k({..._,imagen:j.target.value})}),d.jsx("select",{value:_.status,onChange:j=>k({..._,status:j.target.value}),className:"border border-gray-300 rounded-md px-3 py-2 w-full",children:d.jsx("option",{value:Jt.ACTIVO,children:"Activo"})}),(t==null?void 0:t.rol)==="admin"?d.jsxs("select",{value:_.empresa,onChange:j=>k({..._,empresa:j.target.value}),className:"border border-gray-300 rounded-md px-3 py-2 w-full",children:[d.jsx("option",{value:"",children:"Selecciona una empresa"}),i.map(j=>d.jsx("option",{value:j.id,children:j.nombre},j.id))]}):d.jsx("select",{value:e==null?void 0:e.empresa,disabled:!0,className:"border border-gray-300 rounded-md px-3 py-2 w-full bg-gray-100 text-gray-500",children:d.jsx("option",{value:e==null?void 0:e.empresa,children:(e==null?void 0:e.empresa)||"Empresa no definida"},e==null?void 0:e.empresa)}),d.jsxs(oe,{onClick:y?b:P,className:"btn-primary w-full",children:[d.jsx(Ac,{className:"w-4 h-4 mr-2"})," ",y?"Actualizar":"Agregar"]})]})}),I.length===0?d.jsx("p",{className:"text-gray-500 text-center col-span-full",children:"No se encontraron productos con ese nombre o descripción."}):d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:I.map(j=>{var q;return d.jsxs(ve,{className:"card-hover bg-white/80 backdrop-blur-sm overflow-hidden",children:[d.jsx("div",{className:"h-48 bg-gray-100 flex items-center justify-center",children:j.imagen?d.jsx("img",{src:j.imagen,alt:j.nombre,className:"h-full object-contain"}):d.jsx("div",{className:"text-6xl text-gray-400",children:"📦"})}),d.jsx(dt,{children:d.jsxs("div",{className:"flex items-start justify-between",children:[d.jsxs("div",{className:"flex-1",children:[d.jsx(wt,{className:"text-lg",children:j.nombre}),d.jsx(_n,{className:"mt-1",children:j.descripcion})]}),d.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${A(j.status)}`,children:j.status})]})}),d.jsx(ye,{children:d.jsxs("div",{className:"space-y-4",children:[e.rol==="admin"&&d.jsxs("div",{className:"text-sm text-gray-500 font-medium",children:["Empresa: ",((q=i.find(G=>G.id===j.empresa))==null?void 0:q.nombre)||"Desconocida"]}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("span",{className:"text-2xl font-bold gradient-text",children:["$",j.precio]}),d.jsxs("span",{className:"text-sm text-gray-600",children:["Stock: ",j.stock," unidades"]})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx(oe,{size:"sm",variant:"outline",onClick:()=>D(j),children:"Editar"}),d.jsx(oe,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>N(j),children:j.status===Jt.ACTIVO?"Pausar":"Activar"}),d.jsx(oe,{variant:"destructive",size:"sm",onClick:()=>{confirm("¿Estás seguro que querés eliminar este producto?")&&O(j.empresa,j.id)},children:d.jsx(w2,{})})]})]})})]},j.id)})}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[d.jsx(ve,{className:`stat-card cursor-pointer ${T==="todos"?"border-blue-500 ring-2 ring-blue-200":""}`,onClick:()=>w("todos"),children:d.jsxs(ye,{className:"p-6 text-center",children:[d.jsx("div",{className:"text-3xl font-bold gradient-text mb-2",children:r.length}),d.jsx("div",{className:"text-gray-600 font-medium",children:"Total Productos"})]})}),d.jsx(ve,{className:`stat-card cursor-pointer ${T==="activo"?"border-blue-500 ring-2 ring-blue-200":""}`,onClick:()=>w("activo"),children:d.jsxs(ye,{className:"p-6 text-center",children:[d.jsx("div",{className:"text-3xl font-bold gradient-text mb-2",children:r.filter(j=>j.status===Jt.ACTIVO).length}),d.jsx("div",{className:"text-gray-600 font-medium",children:"Activos"})]})}),d.jsx(ve,{className:`stat-card cursor-pointer ${T==="sinStock"?"border-blue-500 ring-2 ring-blue-200":""}`,onClick:()=>w("sinStock"),children:d.jsxs(ye,{className:"p-6 text-center",children:[d.jsx("div",{className:"text-3xl font-bold gradient-text mb-2",children:r.filter(j=>j.stock===0).length}),d.jsx("div",{className:"text-gray-600 font-medium",children:"Sin Stock"})]})}),((e==null?void 0:e.rol)==="cliente"||(e==null?void 0:e.rol)==="admin"&&u)&&d.jsx(ve,{className:"stat-card",children:d.jsxs(ye,{className:"p-6 text-center",children:[d.jsxs("div",{className:"text-3xl font-bold gradient-text mb-2",children:["$",r.reduce((j,q)=>j+q.precio*q.stock,0).toLocaleString()]}),d.jsx("div",{className:"text-gray-600 font-medium",children:"Valor Inventario"})]})})]})]})})},K$=()=>{const[t,e]=x.useState(""),[n,r]=x.useState("Todos"),s=[{id:"#1234",customer:"Ana García",product:"Zapatillas Nike Air Max",quantity:1,amount:120,status:"Pendiente",date:"2024-06-04 10:30",channel:"WhatsApp"},{id:"#1235",customer:"Carlos Ruiz",product:"Camiseta Adidas Original",quantity:2,amount:90,status:"Procesando",date:"2024-06-04 09:15",channel:"Instagram"},{id:"#1236",customer:"María López",product:"Mochila Escolar",quantity:1,amount:35,status:"Enviado",date:"2024-06-03 16:45",channel:"WhatsApp"},{id:"#1237",customer:"Pedro Sánchez",product:"Reloj Casio Digital",quantity:1,amount:89,status:"Entregado",date:"2024-06-03 14:20",channel:"Instagram"},{id:"#1238",customer:"Laura Fernández",product:"Zapatillas Nike Air Max",quantity:1,amount:120,status:"Cancelado",date:"2024-06-03 11:30",channel:"WhatsApp"}],i=["Todos","Pendiente","Procesando","Enviado","Entregado","Cancelado"],o=s.filter(h=>{const f=h.customer.toLowerCase().includes(t.toLowerCase())||h.product.toLowerCase().includes(t.toLowerCase())||h.id.toLowerCase().includes(t.toLowerCase()),m=n==="Todos"||h.status===n;return f&&m}),a=h=>{switch(h){case"Pendiente":return"bg-yellow-100 text-yellow-800";case"Procesando":return"bg-blue-100 text-blue-800";case"Enviado":return"bg-purple-100 text-purple-800";case"Entregado":return"bg-green-100 text-green-800";case"Cancelado":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},l=h=>h==="WhatsApp"?"💬":"📷",u=i.slice(1).map(h=>({status:h,count:s.filter(f=>f.status===h).length,total:s.filter(f=>f.status===h).reduce((f,m)=>f+m.amount,0)}));return d.jsx(Ca,{title:"Gestión de Pedidos",subtitle:"Administra todos los pedidos procesados por tus bots IA",children:d.jsxs("div",{className:"space-y-6 animate-fade-in",children:[d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:u.map((h,f)=>d.jsx(ve,{className:"stat-card",children:d.jsxs(ye,{className:"p-4 text-center",children:[d.jsx("div",{className:"text-2xl font-bold gradient-text mb-1",children:h.count}),d.jsx("div",{className:"text-sm text-gray-600 font-medium mb-1",children:h.status}),d.jsxs("div",{className:"text-xs text-gray-500",children:["$",h.total.toFixed(2)]})]})},f))}),d.jsx(ve,{className:"bg-white/80 backdrop-blur-sm",children:d.jsx(ye,{className:"p-6",children:d.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-center",children:[d.jsx(yt,{placeholder:"Buscar por cliente, producto o ID...",value:t,onChange:h=>e(h.target.value),className:"max-w-md"}),d.jsx("div",{className:"flex gap-2 flex-wrap",children:i.map(h=>d.jsx(oe,{variant:n===h?"default":"outline",size:"sm",onClick:()=>r(h),className:n===h?"bg-gradient-primary":"",children:h},h))})]})})}),d.jsxs(ve,{className:"bg-white/80 backdrop-blur-sm",children:[d.jsxs(dt,{children:[d.jsx(wt,{children:"Lista de Pedidos"}),d.jsxs(_n,{children:["Total: ",o.length," pedidos encontrados"]})]}),d.jsx(ye,{children:d.jsx("div",{className:"space-y-4",children:o.map((h,f)=>d.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/60 rounded-lg border border-white/30 hover:bg-white/80 transition-colors",children:[d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("div",{className:"w-12 h-12 bg-gradient-primary rounded-full flex items-center justify-center",children:d.jsx("span",{className:"text-white font-bold",children:h.customer.charAt(0)})}),d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("p",{className:"font-medium",children:h.id}),d.jsx("span",{className:"text-lg",children:l(h.channel)})]}),d.jsx("p",{className:"text-sm text-gray-600",children:h.customer}),d.jsxs("p",{className:"text-sm text-gray-500",children:[h.product," (x",h.quantity,")"]})]})]}),d.jsxs("div",{className:"text-center",children:[d.jsxs("p",{className:"font-bold text-lg",children:["$",h.amount.toFixed(2)]}),d.jsx("p",{className:"text-xs text-gray-500",children:h.date})]}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${a(h.status)}`,children:h.status}),d.jsx(oe,{variant:"outline",size:"sm",children:"Ver Detalles"})]})]},f))})})]})]})})},fP=x.forwardRef(({className:t,...e},n)=>d.jsx("textarea",{className:Oe("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));fP.displayName="Textarea";var Ef="Switch",[G$,mB]=ka(Ef),[Q$,Y$]=G$(Ef),pP=x.forwardRef((t,e)=>{const{__scopeSwitch:n,name:r,checked:s,defaultChecked:i,required:o,disabled:a,value:l="on",onCheckedChange:u,form:h,...f}=t,[m,g]=x.useState(null),S=Ge(e,_=>g(_)),y=x.useRef(!1),E=m?h||!!m.closest("form"):!0,[T,w]=Vd({prop:s,defaultProp:i??!1,onChange:u,caller:Ef});return d.jsxs(Q$,{scope:n,checked:T,disabled:a,children:[d.jsx(ke.button,{type:"button",role:"switch","aria-checked":T,"aria-required":o,"data-state":yP(T),"data-disabled":a?"":void 0,disabled:a,value:l,...f,ref:S,onClick:ge(t.onClick,_=>{w(k=>!k),E&&(y.current=_.isPropagationStopped(),y.current||_.stopPropagation())})}),E&&d.jsx(vP,{control:m,bubbles:!y.current,name:r,value:l,checked:T,required:o,disabled:a,form:h,style:{transform:"translateX(-100%)"}})]})});pP.displayName=Ef;var mP="SwitchThumb",gP=x.forwardRef((t,e)=>{const{__scopeSwitch:n,...r}=t,s=Y$(mP,n);return d.jsx(ke.span,{"data-state":yP(s.checked),"data-disabled":s.disabled?"":void 0,...r,ref:e})});gP.displayName=mP;var X$="SwitchBubbleInput",vP=x.forwardRef(({__scopeSwitch:t,control:e,checked:n,bubbles:r=!0,...s},i)=>{const o=x.useRef(null),a=Ge(o,i),l=yA(n),u=PI(e);return x.useEffect(()=>{const h=o.current;if(!h)return;const f=window.HTMLInputElement.prototype,g=Object.getOwnPropertyDescriptor(f,"checked").set;if(l!==n&&g){const S=new Event("click",{bubbles:r});g.call(h,n),h.dispatchEvent(S)}},[l,n,r]),d.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:a,style:{...s.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});vP.displayName=X$;function yP(t){return t?"checked":"unchecked"}var wP=pP,J$=gP;const fd=x.forwardRef(({className:t,...e},n)=>d.jsx(wP,{className:Oe("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...e,ref:n,children:d.jsx(J$,{className:Oe("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));fd.displayName=wP.displayName;const Z$=()=>{const[t,e]=x.useState("AsistenteBot"),[n,r]=x.useState("¡Hola! Soy tu asistente virtual. ¿En qué puedo ayudarte hoy?"),[s,i]=x.useState(!0),[o,a]=x.useState(!0),[l,u]=x.useState(!0),h=[{trigger:"horarios",response:"Nuestros horarios de atención son de Lunes a Viernes de 9:00 AM a 6:00 PM"},{trigger:"envios",response:"Realizamos envíos a toda la ciudad. El costo varía según la zona."},{trigger:"pago",response:"Aceptamos efectivo, transferencia bancaria y tarjetas de crédito/débito."}],f=[{label:"Conversaciones Hoy",value:"127",change:"+23%"},{label:"Respuestas Automatizadas",value:"89%",change:"+5%"},{label:"Satisfacción Cliente",value:"4.8/5",change:"+0.2"},{label:"Tiempo Respuesta",value:"1.2s",change:"-0.3s"}];return d.jsx(Ca,{title:"Configuración de Bots IA",subtitle:"Personaliza el comportamiento de tus asistentes virtuales",children:d.jsxs("div",{className:"space-y-6 animate-fade-in",children:[d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:f.map((m,g)=>d.jsx(ve,{className:"stat-card",children:d.jsxs(ye,{className:"p-6 text-center",children:[d.jsx("div",{className:"text-2xl font-bold gradient-text mb-2",children:m.value}),d.jsx("div",{className:"text-gray-600 font-medium mb-1",children:m.label}),d.jsx("div",{className:"text-sm text-green-600 font-medium",children:m.change})]})},g))}),d.jsxs(ve,{className:"card-hover bg-white/80 backdrop-blur-sm",children:[d.jsxs(dt,{children:[d.jsxs(wt,{className:"flex items-center gap-2",children:[d.jsx(Qs,{className:"h-5 w-5"}),"Configuración Básica del Bot"]}),d.jsx(_n,{children:"Personaliza la identidad y comportamiento principal de tu bot"})]}),d.jsxs(ye,{className:"space-y-6",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Nombre del Bot"}),d.jsx(yt,{value:t,onChange:m=>e(m.target.value),placeholder:"Nombre de tu asistente virtual"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Personalidad"}),d.jsxs("select",{className:"w-full p-2 border border-gray-300 rounded-md",children:[d.jsx("option",{children:"Amigable y profesional"}),d.jsx("option",{children:"Formal y corporativo"}),d.jsx("option",{children:"Casual y divertido"}),d.jsx("option",{children:"Directo y eficiente"})]})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Mensaje de Bienvenida"}),d.jsx(fP,{value:n,onChange:m=>r(m.target.value),placeholder:"Mensaje que verán los clientes al iniciar una conversación",className:"min-h-[100px]"})]})]})]}),d.jsxs(ve,{className:"card-hover bg-white/80 backdrop-blur-sm",children:[d.jsxs(dt,{children:[d.jsx(wt,{children:"Integración de Canales"}),d.jsx(_n,{children:"Activa o desactiva los canales de mensajería"})]}),d.jsxs(ye,{className:"space-y-6",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs("div",{className:"flex items-center justify-between p-4 bg-green-50 rounded-lg border border-green-200",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"text-2xl",children:"💬"}),d.jsxs("div",{children:[d.jsx("h3",{className:"font-medium",children:"WhatsApp Business"}),d.jsx("p",{className:"text-sm text-gray-600",children:"API oficial conectada"})]})]}),d.jsx(fd,{checked:s,onCheckedChange:i})]}),d.jsxs("div",{className:"flex items-center justify-between p-4 bg-purple-50 rounded-lg border border-purple-200",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"text-2xl",children:"📷"}),d.jsxs("div",{children:[d.jsx("h3",{className:"font-medium",children:"Instagram DM"}),d.jsx("p",{className:"text-sm text-gray-600",children:"Graph API conectada"})]})]}),d.jsx(fd,{checked:o,onCheckedChange:a})]})]}),d.jsxs("div",{className:"flex items-center justify-between p-4 bg-blue-50 rounded-lg border border-blue-200",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"font-medium",children:"Respuesta Automática"}),d.jsx("p",{className:"text-sm text-gray-600",children:"El bot responde automáticamente sin intervención manual"})]}),d.jsx(fd,{checked:l,onCheckedChange:u})]})]})]}),d.jsxs(ve,{className:"card-hover bg-white/80 backdrop-blur-sm",children:[d.jsxs(dt,{children:[d.jsx(wt,{children:"Respuestas Predefinidas"}),d.jsx(_n,{children:"Configura respuestas automáticas para consultas frecuentes"})]}),d.jsx(ye,{children:d.jsxs("div",{className:"space-y-4",children:[h.map((m,g)=>d.jsx("div",{className:"p-4 bg-white/60 rounded-lg border border-white/30",children:d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 items-center",children:[d.jsxs("div",{children:[d.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Palabra clave:"}),d.jsx(yt,{value:m.trigger,className:"mt-1"})]}),d.jsxs("div",{className:"md:col-span-2",children:[d.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Respuesta:"}),d.jsx(yt,{value:m.response,className:"mt-1"})]})]})},g)),d.jsx(oe,{variant:"outline",className:"w-full border-dashed border-2",children:"+ Agregar Nueva Respuesta"})]})})]}),d.jsxs("div",{className:"flex gap-4 justify-end",children:[d.jsx(oe,{variant:"outline",children:"Vista Previa"}),d.jsx(oe,{className:"btn-primary",children:"Guardar Configuración"})]})]})})},eB=()=>{const t=no(),[e,n]=x.useState(""),r=[{id:1,name:"TechStore SA",email:"admin@techstore.com",plan:"Premium",status:"Activo",products:45,orders:123,revenue:15420,joinDate:"2024-01-15"},{id:2,name:"ModaStyle Boutique",email:"info@modastyle.com",plan:"Standard",status:"Activo",products:78,orders:89,revenue:8950,joinDate:"2024-02-20"},{id:3,name:"SportZone",email:"ventas@sportzone.com",plan:"Premium",status:"Suspendido",products:23,orders:45,revenue:3200,joinDate:"2024-03-10"},{id:4,name:"HomeDecor Plus",email:"contacto@homedecor.com",plan:"Basic",status:"Activo",products:34,orders:67,revenue:5670,joinDate:"2024-04-05"}],s=[{title:"Clientes Totales",value:r.length.toString(),change:"+8 este mes",icon:va,gradient:"bg-gradient-to-r from-blue-500 to-cyan-500"},{title:"Ingresos Totales",value:`$${r.reduce((l,u)=>l+u.revenue,0).toLocaleString()}`,change:"+22% vs mes anterior",icon:Nh,gradient:"bg-gradient-to-r from-green-500 to-emerald-500"},{title:"Pedidos Procesados",value:r.reduce((l,u)=>l+u.orders,0).toString(),change:"+156 esta semana",icon:ga,gradient:"bg-gradient-to-r from-purple-500 to-pink-500"},{title:"Bots Activos",value:r.filter(l=>l.status==="Activo").length.toString(),change:"98% uptime",icon:Qs,gradient:"bg-gradient-to-r from-orange-500 to-red-500"}],i=r.filter(l=>l.name.toLowerCase().includes(e.toLowerCase())||l.email.toLowerCase().includes(e.toLowerCase())),o=l=>{switch(l){case"Activo":return"bg-green-100 text-green-800";case"Suspendido":return"bg-red-100 text-red-800";case"Pendiente":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},a=l=>{switch(l){case"Premium":return"bg-purple-100 text-purple-800";case"Standard":return"bg-blue-100 text-blue-800";case"Basic":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}};return d.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100",children:[d.jsx("header",{className:"bg-white/80 backdrop-blur-sm border-b border-white/20 px-6 py-4",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold gradient-text",children:"Panel de Administración"}),d.jsx("p",{className:"text-gray-600 mt-1",children:"Gestiona todos los clientes y bots de la plataforma"})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx(oe,{variant:"outline",onClick:()=>t("/"),className:"border-2",children:"Ir al Inicio"}),d.jsx(oe,{className:"btn-primary",onClick:()=>t("/dashboard"),children:"Ver Dashboard Cliente"})]})]})}),d.jsxs("main",{className:"p-6 space-y-6 animate-fade-in",children:[d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:s.map((l,u)=>d.jsx(ve,{className:"stat-card",children:d.jsx(ye,{className:"p-6",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:l.title}),d.jsx("p",{className:"text-3xl font-bold gradient-text",children:l.value}),d.jsx("p",{className:"text-sm text-green-600 font-medium",children:l.change})]}),d.jsx("div",{className:`p-3 rounded-full ${l.gradient}`,children:d.jsx(l.icon,{className:"h-6 w-6 text-white"})})]})})},u))}),d.jsx(ve,{className:"bg-white/80 backdrop-blur-sm",children:d.jsx(ye,{className:"p-6",children:d.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-center justify-between",children:[d.jsx("div",{className:"flex gap-4 flex-1",children:d.jsx(yt,{placeholder:"Buscar clientes por nombre o email...",value:e,onChange:l=>n(l.target.value),className:"max-w-md"})}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx(oe,{variant:"outline",children:"Exportar Datos"}),d.jsxs(oe,{className:"btn-primary",children:[d.jsx(Ac,{className:"h-4 w-4 mr-2"}),"Nuevo Cliente"]})]})]})})}),d.jsxs(ve,{className:"card-hover bg-white/80 backdrop-blur-sm",children:[d.jsxs(dt,{children:[d.jsx(wt,{children:"Gestión de Clientes"}),d.jsx(_n,{children:"Lista completa de clientes y sus estadísticas"})]}),d.jsx(ye,{children:d.jsx("div",{className:"space-y-4",children:i.map(l=>d.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/60 rounded-lg border border-white/30 hover:bg-white/80 transition-colors",children:[d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("div",{className:"w-12 h-12 bg-gradient-primary rounded-full flex items-center justify-center",children:d.jsx("span",{className:"text-white font-bold text-lg",children:l.name.charAt(0)})}),d.jsxs("div",{children:[d.jsx("h3",{className:"font-medium text-lg",children:l.name}),d.jsx("p",{className:"text-sm text-gray-600",children:l.email}),d.jsxs("p",{className:"text-xs text-gray-500",children:["Cliente desde: ",l.joinDate]})]})]}),d.jsxs("div",{className:"grid grid-cols-3 gap-8 text-center",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-600",children:"Productos"}),d.jsx("p",{className:"font-bold text-lg",children:l.products})]}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-600",children:"Pedidos"}),d.jsx("p",{className:"font-bold text-lg",children:l.orders})]}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-600",children:"Ingresos"}),d.jsxs("p",{className:"font-bold text-lg",children:["$",l.revenue.toLocaleString()]})]})]}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${a(l.plan)}`,children:l.plan}),d.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${o(l.status)}`,children:l.status}),d.jsx(oe,{variant:"outline",size:"sm",children:"Gestionar"})]})]},l.id))})})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[d.jsxs(ve,{className:"card-hover bg-white/80 backdrop-blur-sm",children:[d.jsx(dt,{children:d.jsx(wt,{className:"text-lg",children:"Configuración Global"})}),d.jsx(ye,{children:d.jsxs("div",{className:"space-y-3",children:[d.jsx(oe,{variant:"outline",className:"w-full justify-start",children:"Configurar APIs"}),d.jsx(oe,{variant:"outline",className:"w-full justify-start",children:"Plantillas de Bots"}),d.jsx(oe,{variant:"outline",className:"w-full justify-start",children:"Reportes Globales"})]})})]}),d.jsxs(ve,{className:"card-hover bg-white/80 backdrop-blur-sm",children:[d.jsx(dt,{children:d.jsx(wt,{className:"text-lg",children:"Monitoreo"})}),d.jsx(ye,{children:d.jsxs("div",{className:"space-y-3",children:[d.jsx(oe,{variant:"outline",className:"w-full justify-start",children:"Estado de Bots"}),d.jsx(oe,{variant:"outline",className:"w-full justify-start",children:"Logs del Sistema"}),d.jsx(oe,{variant:"outline",className:"w-full justify-start",children:"Alertas y Notificaciones"})]})})]}),d.jsxs(ve,{className:"card-hover bg-white/80 backdrop-blur-sm",children:[d.jsx(dt,{children:d.jsx(wt,{className:"text-lg",children:"Soporte"})}),d.jsx(ye,{children:d.jsxs("div",{className:"space-y-3",children:[d.jsx(oe,{variant:"outline",className:"w-full justify-start",children:"Tickets de Soporte"}),d.jsx(oe,{variant:"outline",className:"w-full justify-start",children:"Base de Conocimiento"}),d.jsx(oe,{variant:"outline",className:"w-full justify-start",children:"Documentación API"})]})})]})]})]})]})},tB=()=>{const t=[{month:"Ene",sales:4500,orders:45},{month:"Feb",sales:5200,orders:52},{month:"Mar",sales:4800,orders:48},{month:"Abr",sales:6100,orders:61},{month:"May",sales:7300,orders:73},{month:"Jun",sales:8900,orders:89}],e=[{name:"Zapatillas Nike Air Max",sales:45,revenue:5400},{name:"Camiseta Adidas Original",sales:38,revenue:1710},{name:"Reloj Casio Digital",sales:25,revenue:2225},{name:"Mochila Escolar",sales:22,revenue:770}],n=[{channel:"WhatsApp",conversations:245,conversions:23,rate:"9.4%"},{channel:"Instagram",conversations:189,conversions:15,rate:"7.9%"}],r=t.reduce((i,o)=>i+o.sales,0),s=t.reduce((i,o)=>i+o.orders,0);return d.jsx(Ca,{title:"Analytics y Reportes",subtitle:"Métricas detalladas del rendimiento de tus bots y ventas",children:d.jsxs("div",{className:"space-y-6 animate-fade-in",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[d.jsx(ve,{className:"stat-card",children:d.jsx(ye,{className:"p-6",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:"Ingresos Totales"}),d.jsxs("p",{className:"text-3xl font-bold gradient-text",children:["$",r.toLocaleString()]}),d.jsx("p",{className:"text-sm text-green-600 font-medium",children:"+18.5% vs mes anterior"})]}),d.jsx("div",{className:"p-3 rounded-full bg-gradient-to-r from-green-500 to-emerald-500",children:d.jsx(Nh,{className:"h-6 w-6 text-white"})})]})})}),d.jsx(ve,{className:"stat-card",children:d.jsx(ye,{className:"p-6",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:"Pedidos Totales"}),d.jsx("p",{className:"text-3xl font-bold gradient-text",children:s}),d.jsx("p",{className:"text-sm text-green-600 font-medium",children:"+12.3% vs mes anterior"})]}),d.jsx("div",{className:"p-3 rounded-full bg-gradient-to-r from-blue-500 to-cyan-500",children:d.jsx(ga,{className:"h-6 w-6 text-white"})})]})})}),d.jsx(ve,{className:"stat-card",children:d.jsx(ye,{className:"p-6",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:"Conversaciones"}),d.jsx("p",{className:"text-3xl font-bold gradient-text",children:"434"}),d.jsx("p",{className:"text-sm text-green-600 font-medium",children:"+25.1% vs mes anterior"})]}),d.jsx("div",{className:"p-3 rounded-full bg-gradient-to-r from-purple-500 to-pink-500",children:d.jsx(Qs,{className:"h-6 w-6 text-white"})})]})})}),d.jsx(ve,{className:"stat-card",children:d.jsx(ye,{className:"p-6",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:"Tasa Conversión"}),d.jsx("p",{className:"text-3xl font-bold gradient-text",children:"8.7%"}),d.jsx("p",{className:"text-sm text-green-600 font-medium",children:"+2.1% vs mes anterior"})]}),d.jsx("div",{className:"p-3 rounded-full bg-gradient-to-r from-orange-500 to-red-500",children:d.jsx(va,{className:"h-6 w-6 text-white"})})]})})})]}),d.jsxs(ve,{className:"card-hover bg-white/80 backdrop-blur-sm",children:[d.jsxs(dt,{children:[d.jsx(wt,{children:"Tendencia de Ventas"}),d.jsx(_n,{children:"Evolución mensual de ingresos y pedidos"})]}),d.jsx(ye,{children:d.jsx("div",{className:"h-64 flex items-end justify-between gap-4 p-4",children:t.map((i,o)=>d.jsxs("div",{className:"flex flex-col items-center gap-2 flex-1",children:[d.jsx("div",{className:"bg-gradient-primary rounded-t-lg w-full transition-all duration-500 hover:opacity-80",style:{height:`${i.sales/Math.max(...t.map(a=>a.sales))*200}px`}}),d.jsx("div",{className:"text-sm font-medium",children:i.month}),d.jsxs("div",{className:"text-xs text-gray-600",children:["$",i.sales]})]},o))})})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[d.jsxs(ve,{className:"card-hover bg-white/80 backdrop-blur-sm",children:[d.jsxs(dt,{children:[d.jsx(wt,{children:"Productos Más Vendidos"}),d.jsx(_n,{children:"Ranking de productos por cantidad de ventas"})]}),d.jsx(ye,{children:d.jsx("div",{className:"space-y-4",children:e.map((i,o)=>d.jsxs("div",{className:"flex items-center justify-between p-3 bg-white/60 rounded-lg",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"w-8 h-8 bg-gradient-primary rounded-full flex items-center justify-center text-white font-bold text-sm",children:o+1}),d.jsxs("div",{children:[d.jsx("p",{className:"font-medium",children:i.name}),d.jsxs("p",{className:"text-sm text-gray-600",children:[i.sales," unidades vendidas"]})]})]}),d.jsx("div",{className:"text-right",children:d.jsxs("p",{className:"font-bold",children:["$",i.revenue]})})]},o))})})]}),d.jsxs(ve,{className:"card-hover bg-white/80 backdrop-blur-sm",children:[d.jsxs(dt,{children:[d.jsx(wt,{children:"Rendimiento por Canal"}),d.jsx(_n,{children:"Comparativa entre WhatsApp e Instagram"})]}),d.jsx(ye,{children:d.jsx("div",{className:"space-y-6",children:n.map((i,o)=>d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"text-xl",children:i.channel==="WhatsApp"?"💬":"📷"}),d.jsx("span",{className:"font-medium",children:i.channel})]}),d.jsxs("span",{className:"text-sm font-bold text-green-600",children:[i.rate," conversión"]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[d.jsxs("div",{className:"bg-white/60 p-3 rounded text-center",children:[d.jsx("div",{className:"font-bold text-lg",children:i.conversations}),d.jsx("div",{className:"text-gray-600",children:"Conversaciones"})]}),d.jsxs("div",{className:"bg-white/60 p-3 rounded text-center",children:[d.jsx("div",{className:"font-bold text-lg",children:i.conversions}),d.jsx("div",{className:"text-gray-600",children:"Conversiones"})]})]})]},o))})})]})]}),d.jsx(ve,{className:"bg-white/80 backdrop-blur-sm",children:d.jsx(ye,{className:"p-6",children:d.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"font-medium mb-1",children:"Exportar Reportes"}),d.jsx("p",{className:"text-sm text-gray-600",children:"Descarga reportes detallados en diferentes formatos"})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx(oe,{variant:"outline",children:"Exportar PDF"}),d.jsx(oe,{variant:"outline",children:"Exportar Excel"}),d.jsx(oe,{className:"btn-primary",children:"Reporte Personalizado"})]})]})})})]})})},nB=()=>{const t=Hh();return x.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),d.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:d.jsxs("div",{className:"text-center",children:[d.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),d.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),d.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},rB=new Nj,sB=()=>d.jsx(Dj,{client:rB,children:d.jsxs(lj,{children:[d.jsx(nO,{}),d.jsx(DO,{}),d.jsx(c9,{children:d.jsx(PM,{children:d.jsxs(bM,{children:[d.jsx(ar,{path:"/",element:d.jsx(z$,{})}),d.jsx(ar,{path:"/auth",element:d.jsx(hP,{})}),d.jsx(ar,{path:"/dashboard",element:d.jsx(To,{children:d.jsx(W$,{})})}),d.jsx(ar,{path:"/products",element:d.jsx(To,{children:d.jsx(q$,{})})}),d.jsx(ar,{path:"/orders",element:d.jsx(To,{children:d.jsx(K$,{})})}),d.jsx(ar,{path:"/bot-config",element:d.jsx(To,{children:d.jsx(Z$,{})})}),d.jsx(ar,{path:"/analytics",element:d.jsx(To,{children:d.jsx(tB,{})})}),d.jsx(ar,{path:"/admin",element:d.jsx(To,{adminOnly:!0,children:d.jsx(eB,{})})}),d.jsx(ar,{path:"*",element:d.jsx(nB,{})})]})})})]})});PS(document.getElementById("root")).render(d.jsx(sB,{}));
